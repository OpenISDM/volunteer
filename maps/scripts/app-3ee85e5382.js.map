{"version":3,"sources":["scripts/app-3ee85e5382.js"],"names":["angular","module","ManageProjectCustomFieldsController","$log","$stateParams","$uibModal","projectCustomField","getProjectCustomFields","getAllByProjectId","projectId","then","value","data","length","vm","alerts","type","message","customFields","alert","push","appendCustomField","order","preview","open","animation","templateUrl","controller","$uibModalInstance","this","cancel","dismiss","controllerAs","element","document","ready","$inject","userAuthenticationEndpoint","$http","apiBaseUrl","login","method","url","logout","refreshToken","verifyEmail","email","token","service","factory","userAuthentication","$q","$rootScope","$timeout","authPrinciple","vmsLocalStorage","BROADCAST_EVENTS_LIST","alertMessage","credentials","role","deferred","defer","response","debug","headers","jsonWebToken","isDefined","authenticated","avatar_url","setJwt","setUsername","username","setLastName","last_name","setAvatarPath","switchRole","$broadcast","AUTHENTICATED_SUCCESS_EVENT","resolve","errors","status","convertToDanger","reject","promise","clearAllLocalStorageKeys","setAuthentication","user","jwt","error","isAuthenticated","setRole","currentRole","getRole","authorize","identity","removeLastName","removeUsername","removeJwt","removeRole","removeAvatarPath","jwtExists","FillCustomFieldsController","init","getMemberDataByProjectId","update","updatedData","forEach","item","custom_field_data","created_at","updated_at","id","onSuccess","msg","onFailure","storeOrUpdateMemberDataByProjectId","remove","userSkillEndpoint","getAll","getCandidatedKeywords","keyword","userSkill","values","existingIndexes","skills","name","existing_skill_indexes","result","userEquipmentEndpoint","userEquipment","equipment","existing_equipment_indexes","userProfileEndpoint","create","get","updateAvatar","avatar","skipProfile","skip_profile","drop","getAttendingProjects","passwordReset","userProfile","convertToValidationDanger","year","birth_year","Date","date","getFullYear","forgotPassword","userPasswordEndpoint","verifyPasswordReset","resetPassword","userPassword","password","newPassword","existing_password","new_password","passwordConfirmation","password_confirmation","userExperienceEndpoint","dropById","userExperience","userEducationEndpoint","educationId","userEducation","projectHyperlinkEndpoint","getByProjectId","dropByProjectIdAndHyperlinkId","createOrUpdate","projectHyperlink","hyperlinkId","createdHyperlinks","updatedHyperlinks","projectCustomFieldEndpoint","storeOrUpdateByProjectId","customFieldPreview","$compile","CustomFieldPreviewController","directive","restrict","scope","bindToController","ResetPasswordController","submit","showResetForm","ForgotPasswordController","ChangePasswordController","yesNo","filter","input","volunteerProfileEndPoint","volunteer","vmsClient","defaultAvatarPath","cities","getProfile","handleRequestSucess","profile","city","name_zh_tw","handleRequestError","updateProfile","getExperiences","experiences","addExperience","updateExperience","deleteExperience","getEducations","educations","addEducation","updateEducation","deleteEducation","getSkillCandidatedKeywords","getEquipmentCandidatedKeywords","getSkills","updateSkills","sSkills","getEquipment","updateEquipment","sEquipment","userId","vmsMessage","VmsMessageController","isArray","Array","index","array","localStorageService","LOCAL_STORAGE_CONFIG","set","keys","getJwt","keyExists","lastName","getLastName","userName","getUsername","keyName","lsKeys","indexOf","getAvatarPath","avatarPath","path","vmsErrorMessage","getErrorMsg","log","errorMsgs","code","fieldMsg","join","fields","register","emailVerification","verification_token","deleteAccount","experience","experienceId","education","addProject","project","getManagedProjects","getAttendingProject","getProject","updateProject","updateProjectCustomField","attendProject","fillProjectCustomFieldData","getProjectCustomFieldData","getProjectMembers","getAllMembersCustomFieldData","getAllProjects","requiredLabel","compile","append","refreshJwtInterceptor","$injector","responseError","successCallback","authorizationToken","config","Authorization","failureCallback","projectHyperlinks","ProjectHyperlinksDirectiveController","projectEndpoint","getById","getManagedProjectList","getHyperlinks","storeHyperlinks","deleteHyperlinks","createOrUpdateHyperlinks","permissionText","PERMISSION_OPTIONS","text","vmsNavbar","NavbarController","$state","toastr","undefined","go","isManagerRole","isVolunteerRole","switchToVolunteer","clear","success","closeButton","switchToManager","creationDate","jwtInjector","request","htmlize","$sce","trustAsHtml","getIndexById","i","formatYear","$filter","require","link","attrs","modelCtrl","$parsers","inputValue","transformedInput","$setViewValue","$render","formatDateTime","dateString","dateValue","elementsProvider","educationDegree","EDUCATION_DEGREES","degreeText","degree","editableProjectHyperlinks","EditableProjectHyperlinksDirectiveController","splice","fillCustomFieldType","FillCustomFieldTypeController","setRadioButton","metadata","options","hoverDelete","option","showDelete","appendOption","getUrl","getTemplateUrl","template","title","fieldData","customFieldTypePreview","CustomFieldTypePreviewController","attribute","customFieldType","CustomFieldTypeController","customField","CustomFieldDirectiveController","CUSTOM_FIELD_TYPES","store","setRadioButtonMetadataValue","removeDateTime","key","setFieldType","label","typeName","typeOptions","customFieldDataToText","transformRadioButton","display_name","showAttendingProjects","memberId","ShowAttendingProjectsController","attendingRecords","apiKeyInjector","apiKey","arrayHelpersService","lodash","getExistingIndexes","origin","findIndex","console","messages","fieldName","field","danger","ProfileController","doneCallbacks","failCallbacks","remind","ok","close","deleteMsg","VolunteerExperienceController","isShowAddExperience","setYear","nowDate","beginYear","years","getEditableObject","objName","editableObj","sExperience","getByIdFilter","$hide","editableFormShow","$show","editableIsVisible","visible","$visible","editableFormCancel","$cancel","setAddExperienceVisible","setAddExperienceInvisible","onShowEditableForm","formElement","find","addClass","onHideEditableForm","removeClass","VolunteerEducationController","isShowAddEducation","setDegree","degrees","sEducation","setAddEducationVisible","setAddEducationInvisible","RegisterSuccessController","$location","search","RegisterPrivacyController","RegisterController","$scope","showAvatar","datePicker","mode","dateOptions","datepickerMode","minMode","minDate","showWeeks","opened","format","passwordConfirm","selectAvatar","event","fileReader","file","fileList","fileObjects","object","base64Image","filetype","base64","openDatePicker","$event","preventDefault","stopPropagation","ManageProjectMemberController","membersData","getCustomFieldById","custom_fields","members","ViewAllCustomFieldDataController","rawList","memberCustomFieldDataList","mapping","list","parseInt","relationships","member","getIncludedMember","included","attributes","getIncludedCustomField","ShowProjectListController","projects","setSearchField","searchProject","searchField","MyProjectDetailController","projectData","permissionOptions","membersList","attend","html","showMember","templateString","ProjectPanelController","meta","isGuest","isCreator","isMember","ProjectDetailController","reload","MyEditProjectController","FROALA_OPTIONS","newHyperlinks","hyperlinks","updateHyperlinks","froalaOptions","ManagedProjectListController","getProjects","deletedProjectId","EditProjectController","CreateProjectController","$translate","AttendingProjectListController","LoginController","toState","toStateParams","EmailVerificationController","verify","verification","verificationSuccess","verificationStatus","EditVolunteerProfileController","updateAboutAndContact","EditSkillEquipmentController","originSkills","copy","skillCandidatedKeywords","equipmentCandidatedKeywords","originEquipment","refreshSkillCandidatedKeywords","skill","refreshEquipmentCandidateKeywords","AboutController","aboutVMS","runBlock","$urlRouter","editableOptions","theme","stateChangeForAuthorizationCallback","$on","stateChangeLoggingError","toParams","fromState","fromParams","urlRouterSyncDeregisteratinoCallback","sync","scrollToTopPageCallback","body","scrollTop","documentElement","run","routerConfig","$stateProvider","$urlRouterProvider","state","abstract","parent","views","mainContent@","params","profileContent","experienceContent@rootEditProfile.experienceEducation","educationContent@rootEditProfile.experienceEducation","introductionContent@","panel","container","onError","otherwise","constant","malarkey","moment","first_name","AUTHENTICATED_FAILURE_EVENT","language","heightMin","heightMax","$logProvider","toastrConfig","localStorageServiceProvider","$httpProvider","$translateProvider","setPrefix","interceptors","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","useStaticFilesLoader","prefix","suffix","window","navigator","preferredLanguage","$templateCache","put"],"mappings":"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","file":"scripts/app-3ee85e5382.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria',\n      'LocalStorageModule', 'ui.router', 'ui.bootstrap', 'toastr', 'angular-jwt', 'naif.base64',\n      'angular-loading-bar', 'anim-in-out', 'xeditable', 'ngTagsInput', 'ngLodash', 'froala',\n      'pascalprecht.translate', 'validation.match'\n    ]);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ManageProjectCustomFieldsController', ManageProjectCustomFieldsController);\n\n  /** @ngInject */\n  function ManageProjectCustomFieldsController(\n    $log,\n    $stateParams,\n    $uibModal,\n    projectCustomField\n  ) {\n    var vm = this;\n    var projectId = $stateParams.projectId;\n\n    angular.element(document).ready(getProjectCustomFields);\n\n    vm.preview = preview;\n    vm.appendCustomField = appendCustomField;\n\n    function getProjectCustomFields() {\n      projectCustomField\n        .getAllByProjectId(projectId)\n        .then(function(value) {\n          if (value.data.length == 0) {\n            vm.alerts = [\n              {\n                type: 'info',\n                data: {\n                  message: 'alert.info.no_yet_custom_field'\n                }\n              }\n            ];\n          }\n\n          vm.customFields = value.data;\n        })\n        .catch(function(alert) {\n          vm.alerts = [];\n          vm.alerts.push(alert);\n        });\n    }\n\n    function appendCustomField() {\n      vm.alerts = [];\n      vm.customFields.push({\n        order: vm.customFields.length\n      });\n    }\n\n    function preview(data) {\n      var modal = $uibModal.open({\n        animation: true,\n        templateUrl: 'customFieldPreview.html',\n        controller: function($uibModalInstance) {\n          var vm = this;\n          vm.data = data;\n          vm.cancel = function() {\n            $uibModalInstance.dismiss('cancel');\n          };\n        },\n        controllerAs: 'vm'\n      });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userAuthenticationEndpoint', userAuthenticationEndpoint);\n\n  /** @ngInject */\n  function userAuthenticationEndpoint($log, $http, apiBaseUrl) {\n    var service = {\n      login: login,\n      logout: logout,\n      refreshToken: refreshToken,\n      verifyEmail: verifyEmail\n    };\n\n    return service;\n\n    function login(data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/auth',\n        data: data\n      });\n    }\n\n    function logout() {\n      return $http({\n        method: 'DELETE',\n        url: apiBaseUrl + '/auth'\n      });\n    }\n\n    function refreshToken() {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/auth/refresh_token'\n      });\n    }\n\n    function verifyEmail(email, token) {\n      return $http({\n        'method': 'GET',\n        'url': apiBaseUrl + '/email_verification/' + email + '/' + token\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userAuthentication', userAuthentication);\n\n  /** @ngInject */\n  function userAuthentication(\n    $log,\n    $q,\n    $rootScope,\n    $timeout,\n    userAuthenticationEndpoint,\n    authPrinciple,\n    vmsLocalStorage,\n    BROADCAST_EVENTS_LIST,\n    alertMessage) {\n    var authenticated = vmsLocalStorage.jwtExists();\n    var currentRole;\n    var service = {\n      login: login,\n      logout: logout,\n      setAuthentication: setAuthentication,\n      refreshToken: refreshToken,\n      verifyEmail: verifyEmail,\n      isAuthenticated: isAuthenticated,\n      switchRole: switchRole,\n      getRole: getRole,\n      authorize: authorize\n    };\n\n    return service;\n\n    function login(credentials, role) {\n      var deferred = $q.defer();\n\n      userAuthenticationEndpoint\n        .login(credentials)\n        .then(function(response) {\n          $log.debug('login success');\n          $log.debug(response.headers('Authorization'));\n\n          var jsonWebToken = response.headers('Authorization');\n          var value = response.data;\n\n          if (angular.isDefined(jsonWebToken)) {\n            authenticated = true;\n\n            $log.debug(value);\n            $log.debug('avatar_url = ' + value.data.avatar_url);\n\n            // Store JSON Web Token into local storage for attching into each request\n            vmsLocalStorage.setJwt(jsonWebToken);\n\n            // Store username into local storage for displaying username on navbar\n            vmsLocalStorage.setUsername(value.data.username);\n\n            // Store last name into local storage for display last name on navbar\n            vmsLocalStorage.setLastName(value.data.last_name);\n\n            // Store avatar path into local storage for displaying avatar image on navbar\n            vmsLocalStorage.setAvatarPath(value.data.avatar_url);\n\n            // Switch into role\n            switchRole(role);\n\n            // broadcast an event, there is a registered listener,\n            // it will handle the event\n            $rootScope.$broadcast(BROADCAST_EVENTS_LIST.AUTHENTICATED_SUCCESS_EVENT);\n\n            deferred.resolve();\n          }\n        })\n        .catch(function(response) {\n          var errors;\n\n          logout();\n\n          if (response.status === 401) {\n            errors = ['incorrect_username_or_password'];\n          } else {\n            errors = response.data.errors;\n          }\n\n          var alert = alertMessage.convertToDanger(errors);\n\n          deferred.reject(alert);\n        });\n\n      return deferred.promise;\n    }\n\n    function logout() {\n      $log.debug(\"authenticated was set into false\");\n\n      authenticated = false;\n\n      clearAllLocalStorageKeys();\n    }\n\n    function setAuthentication(user, jwt, role) {\n      authenticated = true;\n\n      vmsLocalStorage.setUsername(user.username);\n      vmsLocalStorage.setLastName(user.last_name);\n      vmsLocalStorage.setJwt(jwt);\n      vmsLocalStorage.setAvatarPath(user.avatar_url);\n      switchRole(role);\n    }\n\n    function refreshToken() {\n      var deferred = $q.defer();\n\n      userAuthenticationEndpoint\n        .refreshToken()\n        .then(function(response) {\n          var jsonWebToken = response.headers('Authorization');\n\n          if (angular.isDefined(jsonWebToken) && jsonWebToken != null) {\n            vmsLocalStorage.setJwt(jsonWebToken);\n\n            deferred.resolve(jsonWebToken);\n          } else {\n            deferred.reject();\n          }\n        })\n        .catch(function(response) {\n          $log.error(\"refreshToken catch()\");\n\n          logout();\n\n          deferred.reject();\n        });\n\n      return deferred.promise;\n    }\n\n    function verifyEmail(email, token) {\n      var deferred = $q.defer();\n\n      userAuthenticationEndpoint\n        .verifyEmail(email, token)\n        .then(function(response) {\n          var value = response.data;\n\n          deferred.resolve(value);\n        })\n        .catch(function(response) {\n          deferred.reject(response);\n        });\n\n      return deferred.promise;\n    }\n\n    function isAuthenticated() {\n      return authenticated;\n    }\n\n    function switchRole(role) {\n      vmsLocalStorage.setRole(role);\n\n      currentRole = role;\n    }\n\n    function getRole() {\n      if (!angular.isDefined(currentRole)) {\n        currentRole = vmsLocalStorage.getRole();\n      }\n\n      return currentRole;\n    }\n\n    function authorize() {\n      var deferred = $q.defer();\n\n      $timeout(function() {\n        if (authPrinciple.identity()) {\n          authenticated = true;\n          deferred.resolve();\n        } else {\n          $log.debug(\"authenticated was set into false\");\n\n          authenticated = false;\n          deferred.reject();\n        }\n      }, 500);\n\n      return deferred.promise;\n    }\n\n    function clearAllLocalStorageKeys() {\n      vmsLocalStorage.removeLastName();\n      vmsLocalStorage.removeUsername();\n      vmsLocalStorage.removeJwt();\n      vmsLocalStorage.removeRole();\n      vmsLocalStorage.removeAvatarPath();\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('FillCustomFieldsController', FillCustomFieldsController);\n\n  /** @ngInject */\n  function FillCustomFieldsController(\n    $log,\n    $stateParams,\n    projectCustomField\n  ) {\n    var vm = this;\n    var projectId = $stateParams.projectId;\n\n    angular.element(document).ready(init);\n\n    function init() {\n      projectCustomField\n        .getMemberDataByProjectId(projectId)\n        .then(function(value) {\n          vm.data = value.data\n        })\n        .catch(function(alert) {\n          vm.alert = [alert];\n        });\n    }\n\n    vm.update = function() {\n      $log.debug('=== vm.update() ===');\n      $log.debug(vm.data);\n\n      var updatedData = [];\n\n      angular.forEach(vm.data, function(item) {\n        $log.debug(item);\n\n        var value = item.custom_field_data;\n\n        if (value != null) {\n          $log.debug('value');\n          $log.debug(value);\n\n          delete value.created_at;\n          delete value.updated_at;\n\n          value['custom_field_id'] = item.id;\n        }\n\n        this.push(value);\n      }, updatedData);\n\n      $log.debug(updatedData);\n\n      var onSuccess = function(response) {\n        $log.debug(response);\n        vm.msg = '已成功送出。'\n      };\n      var onFailure = function(response) {\n        $log.debug(response);\n      };\n\n      projectCustomField\n        .storeOrUpdateMemberDataByProjectId(updatedData, projectId)\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n\n    vm.remove = function() {};\n  }\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userSkillEndpoint', userSkillEndpoint);\n\n  /** @ngInject */\n  function userSkillEndpoint($log, $http, apiBaseUrl) {\n    var service = {\n      getAll: getAll,\n      update: update,\n      getCandidatedKeywords: getCandidatedKeywords\n    };\n\n    return service;\n\n    function getAll() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me/skills',\n      });\n    }\n\n    function update(data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/skills',\n        data: data\n      });\n    }\n\n    function getCandidatedKeywords(keyword) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/skill_candidates/' + keyword\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userSkill', userSkill);\n\n  /** @ngInject */\n  function userSkill($log, $q, userSkillEndpoint) {\n    var service = {\n      getAll: getAll,\n      update: update,\n      getCandidatedKeywords: getCandidatedKeywords\n    };\n\n    return service;\n\n    function getAll() {\n      var deferred = $q.defer();\n\n      userSkillEndpoint\n        .getAll()\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          deferred.resolve(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function update(values, existingIndexes) {\n      var deferred = $q.defer();\n\n      var skills = [];\n\n      angular.forEach(values, function(value) {\n        skills.push(value.name);\n      });\n\n      var data = {\n        'skills': skills,\n        'existing_skill_indexes': existingIndexes\n      };\n\n      userSkillEndpoint\n        .update(data)\n        .then(function(response) {\n          deferred.resolve();\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function getCandidatedKeywords(keyword) {\n      var deferred = $q.defer();\n\n      userSkillEndpoint\n        .getCandidatedKeywords(keyword)\n        .then(function(response) {\n          deferred.resolve(response.data.result);\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userEquipmentEndpoint', userEquipmentEndpoint);\n\n  /** @ngInject */\n  function userEquipmentEndpoint($log, $http, apiBaseUrl) {\n    var service = {\n      getAll: getAll,\n      update: update,\n      getCandidatedKeywords: getCandidatedKeywords\n    };\n\n    return service;\n\n    function getAll() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me/equipment',\n      });\n    }\n\n    function update(data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/equipment',\n        data: data\n      });\n    }\n\n    function getCandidatedKeywords(keyword) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/equipment_candidates/' + keyword\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userEquipment', userEquipment);\n\n  /** @ngInject */\n  function userEquipment($log, $q, userEquipmentEndpoint) {\n    var service = {\n      getAll: getAll,\n      update: update,\n      getCandidatedKeywords: getCandidatedKeywords\n    };\n\n    return service;\n\n    function getAll() {\n      var deferred = $q.defer();\n\n      userEquipmentEndpoint\n        .getAll()\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          deferred.resolve(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function update(values, existingIndexes) {\n      var deferred = $q.defer();\n\n      var equipment = [];\n\n      angular.forEach(values, function(value) {\n        equipment.push(value.name);\n      });\n\n      var data = {\n        'equipment': equipment,\n        'existing_equipment_indexes': existingIndexes\n      };\n\n      userEquipmentEndpoint\n        .update(data)\n        .then(function(response) {\n          deferred.resolve();\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function getCandidatedKeywords(keyword) {\n      var deferred = $q.defer();\n\n      userEquipmentEndpoint\n        .getCandidatedKeywords(keyword)\n        .then(function(response) {\n          deferred.resolve(response.data.result);\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userProfileEndpoint', userProfileEndpoint);\n\n  /** @ngInject */\n  function userProfileEndpoint($log, $http, apiBaseUrl) {\n    var service = {\n      create: create,\n      get: get,\n      update: update,\n      updateAvatar: updateAvatar,\n      drop: drop,\n      getAttendingProjects: getAttendingProjects,\n      passwordReset: passwordReset\n    };\n\n    return service;\n\n    function create(user) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/register',\n        data: user\n      });\n    }\n\n    function get() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me'\n      });\n    }\n\n    function update(data) {\n      return $http({\n        method: 'PUT',\n        url: apiBaseUrl + '/users/me',\n        data: data\n      });\n    }\n\n    function updateAvatar(avatar, skipProfile) {\n      var data = {\n        avatar: avatar,\n        skip_profile: skipProfile\n      };\n\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/avatar',\n        data: data\n      });\n    }\n\n    function drop(credentials) {\n      /**\n       * @TODO: change the POST action into DELETE (?)\n       */\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/delete',\n        data: credentials\n      });\n    }\n\n    function getAttendingProjects(id) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/' + id + '/attending_projects'\n      });\n    }\n\n    function passwordReset(data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/forgot_password',\n        data: data\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userProfile', userProfile);\n\n  /** @ngInject */\n  function userProfile(\n    $log,\n    $q,\n    userProfileEndpoint,\n    userAuthentication,\n    vmsLocalStorage,\n    alertMessage\n  ) {\n    var service = {\n      create: create,\n      get: get,\n      update: update,\n      updateAvatar: updateAvatar,\n      drop: drop,\n      getAttendingProjects: getAttendingProjects,\n      forgotPassword: forgotPassword\n    };\n\n    $log.debug('userProfile');\n\n    return service;\n\n    function create(user, role) {\n      var deferred = $q.defer();\n\n      userProfileEndpoint\n        .create(user)\n        .then(function(response) {\n          var value = response.data;\n          var jsonWebToken = response.headers('Authorization');\n\n          $log.debug(value);\n\n          userAuthentication\n            .setAuthentication(value.data, jsonWebToken, role);\n\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var value = response.data;\n          var errors = value.errors;\n          var alerts = alertMessage.convertToValidationDanger(errors);\n\n          deferred.reject(alerts);\n        });\n\n      return deferred.promise;\n    }\n\n    function get() {\n      var deferred = $q.defer();\n\n      userProfileEndpoint\n        .get()\n        .then(function(response) {\n          var value = response.data;\n          var year = value.data.birth_year;\n          value.data.birth_year = new Date(year, 1);\n\n          deferred.resolve(value);\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function update(data) {\n      var deferred = $q.defer();\n\n      if (data.birth_year instanceof Date) {\n        var date = data.birth_year;\n        data.birth_year = date.getFullYear();\n      }\n\n      userProfileEndpoint\n        .update(data)\n        .then(function(response) {\n          var value = response.data;\n          var year = value.data.birth_year;\n          value.data.birth_year = new Date(year, 1);\n\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function updateAvatar(avatar, skipProfile) {\n      var deferred = $q.defer();\n\n      userProfileEndpoint\n        .updateAvatar(avatar, skipProfile)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {});\n\n      return deferred.promise;\n    }\n\n    function drop(credentials) {\n      var deferred = $q.defer();\n\n      userProfileEndpoint\n        .drop(credentials)\n        .then(function(response) {\n          userAuthentication\n            .logout();\n\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function getAttendingProjects(id) {\n      var deferred = $q.defer();\n\n      userProfileEndpoint\n        .getAttendingProjects(id)\n        .then(function(response) {\n          deferred.resolve(response.data.data);\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function forgotPassword(data) {\n\n      $log.debug(\"forgotPassword data\");\n      $log.debug(data);\n\n      var deferred = $q.defer();\n\n      userProfileEndpoint\n        .passwordReset(data)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var value = response.data;\n          var errors = value.errors;\n          var alerts = alertMessage.convertToValidationDanger(errors);\n\n          deferred.reject(alerts);\n        });\n\n      return deferred.promise;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userPasswordEndpoint', userPasswordEndpoint);\n\n  /** @ngInject */\n  function userPasswordEndpoint(\n    $log,\n    $http,\n    apiBaseUrl\n  ) {\n    var service = {\n      update: update,\n      forgotPassword: forgotPassword,\n      verifyPasswordReset: verifyPasswordReset,\n      resetPassword: resetPassword\n    };\n\n    return service;\n\n    function update(data) {\n      return $http({\n        method: 'PUT',\n        url: apiBaseUrl + '/users/me/password',\n        data: data\n      });\n    }\n\n    function forgotPassword(data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/forgot_password',\n        data: data\n      });\n    }\n\n    function verifyPasswordReset(data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/password_reset/verify',\n        data: data\n      });\n    }\n\n    function resetPassword(data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/password_reset',\n        data: data\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userPassword', userPassword);\n\n  /** @ngInject */\n  function userPassword(\n    $log,\n    $q,\n    userPasswordEndpoint,\n    alertMessage,\n    apiBaseUrl\n  ) {\n    var service = {\n      update: update,\n      forgotPassword: forgotPassword,\n      verifyPasswordReset: verifyPasswordReset,\n      resetPassword: resetPassword\n    };\n\n    return service;\n\n    function update(password, newPassword) {\n      var deferred = $q.defer();\n      var data = {\n        existing_password: password,\n        new_password: newPassword\n      };\n\n      userPasswordEndpoint\n        .update(data)\n        .then(function(response) {\n          deferred.resolve();\n        })\n        .catch(function(response) {\n          var value = response.data;\n          var errors = value.errors;\n          var alerts;\n\n          if (response.status === 422) {\n            alerts = alertMessage.convertToValidationDanger(errors);\n          } else {\n            alerts = alertMessage.convertToDanger(errors);\n          }\n\n          deferred.reject(alerts);\n        });\n\n      return deferred.promise;\n    }\n\n    function forgotPassword(data) {\n      var deferred = $q.defer();\n\n      userPasswordEndpoint\n        .forgotPassword(data)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var value = response.data;\n          var errors = value.errors;\n          var alerts;\n\n          if (response.status === 422) {\n            alerts = alertMessage.convertToValidationDanger(errors);\n          } else {\n            alerts = alertMessage.convertToDanger(errors);\n          }\n\n          deferred.reject(alerts);\n        });\n\n      return deferred.promise;\n    }\n\n    function verifyPasswordReset(email, token) {\n      var deferred = $q.defer();\n      var data = {\n        email: email,\n        token: token\n      };\n\n      userPasswordEndpoint\n        .verifyPasswordReset(data)\n        .then(function() {\n          deferred.resolve();\n        })\n        .catch(function(response) {\n          var value = response.data;\n          var errors = value.errors;\n          var alerts;\n\n          if (response.status === 422) {\n            alerts = alertMessage.convertToValidationDanger(errors);\n          } else {\n            alerts = alertMessage.convertToDanger(errors);\n          }\n\n          deferred.reject(alerts);\n        });\n\n      return deferred.promise;\n    }\n\n    function resetPassword(email, token, password, passwordConfirmation) {\n      var deferred = $q.defer();\n      var data = {\n        email: email,\n        token: token,\n        password: password,\n        password_confirmation: passwordConfirmation\n      };\n\n      userPasswordEndpoint\n        .resetPassword(data)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var value = response.data;\n          var errors = value.errors;\n          var alerts;\n\n          if (response.status === 422) {\n            alerts = alertMessage.convertToValidationDanger(errors);\n          } else {\n            alerts = alertMessage.convertToDanger(errors);\n          }\n\n          deferred.reject(alerts);\n        });\n\n      return deferred.promise;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userExperienceEndpoint', userExperienceEndpoint);\n\n  /** @ngInject */\n  function userExperienceEndpoint($log, $http, apiBaseUrl) {\n    var service = {\n      create: create,\n      getAll: getAll,\n      update: update,\n      dropById: dropById,\n    };\n\n    return service;\n\n    function create(data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/experiences',\n        data: data\n      });\n    }\n\n    function getAll() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me/experiences',\n      });\n    }\n\n    function update(data) {\n      return $http({\n        method: 'PUT',\n        url: apiBaseUrl + '/users/me/experiences',\n        data: data\n      });\n    }\n\n    function dropById(id) {\n      return $http({\n        method: 'DELETE',\n        url: apiBaseUrl + '/users/me/experiences/' + id\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userExperience', userExperience);\n\n  /** @ngInject */\n  function userExperience($log, $q, userExperienceEndpoint) {\n    var service = {\n      create: create,\n      getAll: getAll,\n      update: update,\n      dropById: dropById,\n    };\n\n    return service;\n\n    function create(data) {\n      var deferred = $q.defer();\n\n      userExperienceEndpoint\n        .create(data)\n        .then(function() {\n          deferred.resolve();\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function getAll() {\n      var deferred = $q.defer();\n\n      userExperienceEndpoint\n        .getAll()\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function update(data) {\n      var deferred = $q.defer();\n\n      userExperienceEndpoint\n        .update(data)\n        .then(function() {\n          deferred.resolve();\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function dropById(id) {\n      var deferred = $q.defer();\n\n      userExperienceEndpoint\n        .dropById(id)\n        .then(function() {\n          deferred.resolve();\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userEducationEndpoint', userEducationEndpoint);\n\n  /** @ngInject */\n  function userEducationEndpoint($log, $http, apiBaseUrl) {\n    var service = {\n      create: create,\n      getAll: getAll,\n      update: update,\n      dropById: dropById,\n    };\n\n    return service;\n\n    function create(data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/educations',\n        data: data\n      });\n    }\n\n    function getAll() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me/educations',\n      });\n    }\n\n    function update(data) {\n      return $http({\n        method: 'PUT',\n        url: apiBaseUrl + '/users/me/educations',\n        data: data\n      });\n    }\n\n    function dropById(id) {\n      return $http({\n        method: 'DELETE',\n        url: apiBaseUrl + '/users/me/educations/' + educationId\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('userEducation', userEducation);\n\n  /** @ngInject */\n  function userEducation($log, $q, userEducationEndpoint) {\n    var service = {\n      create: create,\n      getAll: getAll,\n      update: update,\n      dropById: dropById,\n    };\n\n    return service;\n\n    function create(data) {\n      var deferred = $q.defer();\n\n      userEducationEndpoint\n        .create(data)\n        .then(function(response) {\n          $log.debug('create an education successfully');\n\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          $log.error('failed to create an education');\n\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function getAll() {\n      var deferred = $q.defer();\n\n      userEducationEndpoint\n        .getAll()\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function update(data) {\n      var deferred = $q.defer();\n\n      userEducationEndpoint\n        .update(data)\n        .then(function() {\n          deferred.resolve();\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n\n    function dropById(id) {\n      var deferred = $q.defer();\n\n      userEducationEndpoint\n        .dropById(id)\n        .then(function() {\n          deferred.resolve();\n        })\n        .catch(function(response) {\n          deferred.reject(response.data);\n        });\n\n      return deferred.promise;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('projectHyperlinkEndpoint', projectHyperlinkEndpoint);\n\n  /** @ngInject */\n  function projectHyperlinkEndpoint($log, $http, apiBaseUrl) {\n    var service = {\n      getByProjectId: getByProjectId,\n      create: create,\n      dropByProjectIdAndHyperlinkId: dropByProjectIdAndHyperlinkId,\n      createOrUpdate: createOrUpdate\n    };\n\n    return service;\n\n    function getByProjectId(projectId) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks'\n      });\n    }\n\n    function create(projectId, data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks',\n        data: data\n      });\n    }\n\n    function dropByProjectIdAndHyperlinkId(projectId, id) {\n      return $http({\n        method: 'DELETE',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks/' + id\n      });\n    }\n\n    function createOrUpdate(projectId, data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks/create_or_update_bulk',\n        data: data\n      });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('projectHyperlink', projectHyperlink);\n\n  /** @ngInject */\n  function projectHyperlink($log, $q, projectHyperlinkEndpoint) {\n    var service = {\n      getByProjectId: getByProjectId,\n      create: create,\n      dropByProjectIdAndHyperlinkId: dropByProjectIdAndHyperlinkId,\n      createOrUpdate: createOrUpdate\n    };\n\n    return service;\n\n    function getByProjectId(projectId) {\n      var deferred = $q.defer();\n\n      projectHyperlinkEndpoint\n        .getByProjectId(projectId)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          deferred.reject(response);\n        });\n\n      return deferred.promise;\n    }\n\n    function create(projectId, data) {\n      var deferred = $q.defer();\n\n      projectHyperlinkEndpoint\n        .create(projectId, data)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          deferred.resolve(response);\n        });\n\n      return deferred.promise;\n    }\n\n    function dropByProjectIdAndHyperlinkId(projectId, hyperlinkId) {\n      var deferred = $q.defer();\n\n      projectHyperlinkEndpoint\n        .dropByProjectIdAndHyperlinkId(projectId, hyperlinkId)\n        .then(function() {\n          deferred.resolve();\n        })\n        .catch(function() {\n          deferred.reject();\n        });\n\n      return deferred.promise;\n    }\n\n    function createOrUpdate(projectId, createdHyperlinks, updatedHyperlinks) {\n      var deferred = $q.defer();\n      var data = {};\n\n      if (angular.isDefined(createdHyperlinks)\n        && createdHyperlinks.length > 0) {\n        data['create'] = createdHyperlinks;\n      }\n\n      if (angular.isDefined(updatedHyperlinks)\n        && updatedHyperlinks.length > 0) {\n        data['update'] = updatedHyperlinks;\n      }\n\n      projectHyperlinkEndpoint\n        .createOrUpdate(projectId, data)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          deferred.reject(response);\n        });\n\n      return deferred.promise;\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('projectCustomFieldEndpoint', projectCustomFieldEndpoint);\n\n  /** @ngInject */\n  function projectCustomFieldEndpoint(\n    $log,\n    $http,\n    apiBaseUrl\n  ) {\n    var service = {\n      getAllByProjectId: getAllByProjectId,\n      getMemberDataByProjectId: getMemberDataByProjectId,\n      storeOrUpdateByProjectId: storeOrUpdateByProjectId,\n      storeOrUpdateMemberDataByProjectId: storeOrUpdateMemberDataByProjectId\n    };\n\n    return service;\n\n    function getAllByProjectId(projectId) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + projectId + '/custom_fields'\n      });\n    }\n\n    function getMemberDataByProjectId(projectId) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + projectId + '/members/custom_field_data'\n      });\n    }\n\n    function storeOrUpdateByProjectId(data, projectId) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/custom_fields',\n        data: data\n      });\n    }\n\n    function storeOrUpdateMemberDataByProjectId(data, projectId) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/members/bulk_custom_field_data',\n        data: data\n      });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('projectCustomField', projectCustomField);\n\n  /** @ngInject */\n  function projectCustomField(\n    $log,\n    $q,\n    projectCustomFieldEndpoint,\n    alertMessage\n  ) {\n    var service = {\n      getAllByProjectId: getAllByProjectId,\n      getMemberDataByProjectId: getMemberDataByProjectId,\n      storeOrUpdateByProjectId: storeOrUpdateByProjectId,\n      storeOrUpdateMemberDataByProjectId: storeOrUpdateMemberDataByProjectId\n    };\n\n    return service;\n\n    function getAllByProjectId(projectId) {\n      var deferred = $q.defer();\n\n      projectCustomFieldEndpoint\n        .getAllByProjectId(projectId)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var value = response.data;\n          var errors = value.errors;\n          var alerts;\n\n          if (response.status === 422) {\n            alerts = alertMessage.convertToValidationDanger(errors);\n          } else {\n            alerts = alertMessage.convertToDanger(errors);\n          }\n\n          deferred.reject(alerts);\n        });\n\n      return deferred.promise;\n    }\n\n    function getMemberDataByProjectId(projectId) {\n      var deferred = $q.defer();\n\n      projectCustomFieldEndpoint\n        .getMemberDataByProjectId(projectId)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var value = response.data;\n          var errors = value.errors;\n          var alerts;\n\n          if (response.status === 422) {\n            alerts = alertMessage.convertToValidationDanger(errors);\n          } else {\n            alerts = alertMessage.convertToDanger(errors);\n          }\n\n          deferred.reject(alerts);\n        });\n\n      return deferred.promise;\n    }\n\n    function storeOrUpdateByProjectId(data, projectId) {\n      var deferred = $q.defer();\n\n      projectCustomFieldEndpoint\n        .storeOrUpdateByProjectId(data, projectId)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var value = response.data;\n          var errors = value.errors;\n          var alerts;\n\n          if (response.status === 422) {\n            alerts = alertMessage.convertToValidationDanger(errors);\n          } else {\n            alerts = alertMessage.convertToDanger(errors);\n          }\n\n          deferred.reject(alerts);\n        });\n\n      return deferred.promise;\n    }\n\n    function storeOrUpdateMemberDataByProjectId(data, projectId) {\n      var deferred = $q.defer();\n\n      projectCustomFieldEndpoint\n        .storeOrUpdateMemberDataByProjectId(data, projectId)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var value = response.data;\n          var errors = value.errors;\n          var alerts;\n\n          if (response.status === 422) {\n            alerts = alertMessage.convertToValidationDanger(errors);\n          } else {\n            alerts = alertMessage.convertToDanger(errors);\n          }\n\n          deferred.reject(alerts);\n        });\n\n      return deferred.promise;\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('customFieldPreview', customFieldPreview);\n\n  /** @ngInject */\n  function customFieldPreview($compile) {\n    var directive = {\n      templateUrl: 'app/components/customField/preview/customFieldPreview.html',\n      restrict: 'E',\n      scope: {\n        data: '='\n      },\n      controller: CustomFieldPreviewController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function CustomFieldPreviewController(\n      $log\n    ) {\n      var vm = this;\n      $log.debug('CustomFieldPreviewController');\n      $log.debug(vm.data);\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ResetPasswordController', ResetPasswordController);\n\n  /** @ngInject */\n  function ResetPasswordController(\n    $log,\n    $stateParams,\n    userPassword\n  ) {\n    var vm = this;\n    vm.submit = submit;\n    vm.data = {};\n    vm.showResetForm = false;\n\n    var email = $stateParams.email;\n    var token = $stateParams.token;\n\n    angular.element(document).ready(function() {\n      $log.debug('ready');\n\n      verifyPasswordReset();\n    });\n\n    function submit() {\n      vm.alert = [];\n\n      userPassword\n        .resetPassword(email, token, vm.data.password, vm.data.passwordConfirmation)\n        .then(function() {\n          vm.alert.push({\n            type: 'success',\n            data: {\n              message: 'alert.success.reset_password_success'\n            }\n          });\n        })\n        .catch(function(alert) {\n          vm.alert.push(alert);\n        });\n    }\n\n    function verifyPasswordReset() {\n      $log.debug('verifyPasswordReset()');\n\n      userPassword\n        .verifyPasswordReset(email, token)\n        .then(function() {\n          vm.showResetForm = true;\n        })\n        .catch(function(alert) {\n          vm.alert = [alert];\n        });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ForgotPasswordController', ForgotPasswordController);\n\n  /** @ngInject */\n  function ForgotPasswordController(\n    $log,\n    userPassword\n  ) {\n    var vm = this;\n    vm.submit = submit;\n    vm.data = {};\n\n    function submit() {\n      $log.debug(\"vm.data\");\n      $log.debug(vm.data);\n\n      vm.alert = [];\n\n      userPassword\n        .forgotPassword(vm.data)\n        .then(function() {\n          vm.alert.push({\n            type: 'success',\n            data: {\n              message: 'alert.success.sent_password_reset'\n            }\n          });\n        })\n        .catch(function(alert) {\n          vm.alert.push(alert);\n        });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ChangePasswordController', ChangePasswordController);\n\n  /** @ngInject */\n  function ChangePasswordController(\n    $log,\n    userPassword\n  ) {\n    var vm = this;\n    vm.submit = submit;\n    vm.data = {};\n\n    function submit() {\n      $log.debug(\"vm.data\");\n      $log.debug(vm.data);\n\n      vm.alert = [];\n\n      userPassword\n        .update(vm.data.password, vm.data.newPassword)\n        .then(function() {\n          vm.alert.push({\n            type: 'success',\n            data: {\n              message: 'alert.success.change_password'\n            }\n          });\n        })\n        .catch(function(alert) {\n          vm.alert.push(alert);\n        });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .filter('yesNo', yesNo);\n\n  /** @ngInject */\n  function yesNo() {\n    var filter = function(input) {\n      return input ? '是' : '否';\n    };\n\n    return filter;\n  }\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('vmsFrontend')\n    .factory('volunteerProfileEndPoint', volunteerProfileEndPoint);\n\n  /** @ngInject */\n  function volunteerProfileEndPoint($log, $http, apiBaseUrl) {\n    var service = {\n      get: get,\n      getAttendingProjects: getAttendingProjects\n    };\n\n    return service;\n\n    function get() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me'\n      });\n    }\n\n    function getAttendingProjects(id) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/' + id + '/attending_projects'\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n  angular.module('vmsFrontend').factory('volunteer', volunteer);\n\n  /** @ngInject */\n  function volunteer($q, $log, vmsClient, volunteerProfileEndPoint, defaultAvatarPath, cities) {\n    var service = {\n      getProfile: getProfile,\n      updateProfile: updateProfile,\n      getExperiences: getExperiences,\n      addExperience: addExperience,\n      updateExperience: updateExperience,\n      deleteExperience: deleteExperience,\n      getEducations: getEducations,\n      addEducation: addEducation,\n      updateEducation: updateEducation,\n      deleteEducation: deleteEducation,\n      getSkillCandidatedKeywords: getSkillCandidatedKeywords,\n      getEquipmentCandidatedKeywords: getEquipmentCandidatedKeywords,\n      getSkills: getSkills,\n      updateSkills: updateSkills,\n      getEquipment: getEquipment,\n      updateEquipment: updateEquipment,\n      getAttendingProjects: getAttendingProjects\n    };\n    return service;\n\n    function getProfile() {\n      var deferred = $q.defer();\n\n      var handleRequestSucess = function(response) {\n        var profile;\n\n        $log.debug(\"success\");\n        $log.debug(response.data);\n\n        profile = response.data.data;\n\n        cities.forEach(function(city) {\n          if (city.id == profile.city.id) {\n            $log.debug(city.name_zh_tw);\n            profile.city.name_zh_tw = city.name_zh_tw;\n          }\n        });\n\n        // TODO: The avatar string need to be refactored\n        if (profile.avatar_url == \"http://vms-openisdm.s3-website-ap-northeast-1.amazonaws.com/upload/avatars/\") {\n          profile.avatar_url = defaultAvatarPath;\n        }\n\n        deferred.resolve(profile);\n      };\n      var handleRequestError = function(response) {\n        $log.debug('error');\n        $log.debug(response);\n\n        deferred.reject(response);\n      };\n\n      vmsClient.getProfile()\n        .then(handleRequestSucess)\n        .catch(handleRequestError);\n\n      return deferred.promise;\n    }\n\n    function updateProfile(profile) {\n      var deferred = $q.defer();\n\n      // remove the avatar_url property\n      delete profile.avatar_url;\n      delete profile.email;\n\n      var onSuccess = function(response) {\n        $log.debug('update profile successfully');\n\n        deferred.resolve(response.data);\n      };\n\n      var onFailure = function(response) {\n        $log.debug('update profile failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.updateProfile(profile)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function getExperiences() {\n      var deferred = $q.defer();\n\n      var onSuccess = function(response) {\n        $log.debug('get experiences successfully');\n\n        deferred.resolve(response.data.experiences);\n      };\n      var onFailure = function(response) {\n        $log.debug('get experiences failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.getExperiences()\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function addExperience(data) {\n      var deferred = $q.defer();\n\n      var onSuccess = function(response) {\n        $log.debug('add experience successfully');\n\n        deferred.resolve(response.data);\n      };\n      var onFailure = function(response) {\n        $log.debug('add experience failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.addExperience(data)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function updateExperience(data) {\n      var deferred = $q.defer();\n\n      var onSuccess = function() {\n        $log.debug('update experience successfully');\n\n        deferred.resolve();\n      };\n      var onFailure = function(response) {\n        $log.debug('update experience failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.updateExperience(data)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function deleteExperience(id) {\n      var deferred = $q.defer();\n\n      var onSuccess = function() {\n        $log.debug('delete experience successfully');\n\n        deferred.resolve();\n      };\n      var onFailure = function(response) {\n        $log.debug('delete experience failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.deleteExperience(id)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function getEducations() {\n      var deferred = $q.defer();\n\n      var onSuccess = function(response) {\n        $log.debug('get educations successfully');\n\n        deferred.resolve(response.data.educations);\n      };\n      var onFailure = function(response) {\n        $log.debug('get educations failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.getEducations()\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function addEducation(data) {\n      var deferred = $q.defer();\n\n      var onSuccess = function(response) {\n        $log.debug('add education successfully');\n\n        deferred.resolve(response.data);\n      };\n      var onFailure = function(response) {\n        $log.debug('add education failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.addEducation(data)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function updateEducation(data) {\n      var deferred = $q.defer();\n\n      var onSuccess = function() {\n        $log.debug('update education successfully');\n\n        deferred.resolve();\n      };\n      var onFailure = function(response) {\n        $log.debug('update education failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.updateEducation(data)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function deleteEducation(id) {\n      var deferred = $q.defer();\n\n      var onSuccess = function() {\n        $log.debug('delete education successfully');\n\n        deferred.resolve();\n      };\n      var onFailure = function(response) {\n        $log.debug('delete education failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.deleteEducation(id)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function getSkillCandidatedKeywords(keyword) {\n      var deferred = $q.defer();\n\n      $log.debug('volunteer.getSkillCandidatedKeywords()');\n\n      if (angular.isDefined(keyword) && keyword != '') {\n\n        var onSuccess = function(response) {\n          $log.debug('get skill candidated keywords successfully');\n\n          deferred.resolve(response.data.result);\n        };\n        var onFailure = function(response) {\n          $log.debug('get skill candidated keywords failed');\n\n          deferred.reject(response.data);\n        };\n\n        vmsClient.getSkillCandidatedKeywords(keyword)\n          .then(onSuccess)\n          .catch(onFailure);\n      } else {\n        deferred.reject();\n      }\n\n      return deferred.promise;\n    }\n\n    function getEquipmentCandidatedKeywords(keyword) {\n      var deferred = $q.defer();\n\n      var onSuccess = function(response) {\n        $log.debug('get equipment candidated keywords successfully');\n\n        deferred.resolve(response.data.result);\n      };\n      var onFailure = function(response) {\n        $log.debug('get equipment candidated keywords failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.getEquipmentCandidatedKeywords(keyword)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function getSkills() {\n      var deferred = $q.defer();\n\n      var onSuccess = function(response) {\n        $log.debug('get skills successfully');\n\n        deferred.resolve(response.data.skills);\n      };\n      var onFailure = function(response) {\n        $log.debug('get skills failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.getSkills()\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function updateSkills(skills, existingIndexes) {\n      var deferred = $q.defer();\n\n      var onSuccess = function() {\n        $log.debug('update skills successfully');\n\n        deferred.resolve();\n      };\n      var onFailure = function(response) {\n        $log.debug('update skills failed');\n\n        deferred.reject(response.data);\n      };\n\n      var sSkills = [];\n      angular.forEach(skills, function(value) {\n        sSkills.push(value.name);\n      });\n\n      var updateSkills = {\n        'skills': sSkills,\n        'existing_skill_indexes': existingIndexes\n      }\n\n      vmsClient.updateSkills(updateSkills)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function getEquipment() {\n      var deferred = $q.defer();\n\n      var onSuccess = function(response) {\n        $log.debug('get equipment successfully');\n\n        deferred.resolve(response.data.equipment);\n      };\n      var onFailure = function(response) {\n        $log.debug('get equipment failed');\n\n        deferred.reject(response.data);\n      };\n\n      vmsClient.getEquipment()\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function updateEquipment(equipment, existingIndexes) {\n      var deferred = $q.defer();\n\n      var onSuccess = function() {\n        $log.debug('update equipment successfully');\n\n        deferred.resolve();\n      };\n      var onFailure = function(response) {\n        $log.debug('update equipment failed');\n\n        deferred.reject(response.data);\n      };\n\n      var sEquipment = [];\n      angular.forEach(equipment, function(value) {\n        sEquipment.push(value.name);\n      });\n\n      var updateEquipment = {\n        'equipment': sEquipment,\n        'existing_equipment_indexes': existingIndexes\n      }\n\n      vmsClient.updateEquipment(updateEquipment)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      return deferred.promise;\n    }\n\n    function getAttendingProjects(userId) {\n      var deferred = $q.defer();\n\n      volunteerProfileEndPoint\n        .getAttendingProjects(userId)\n        .then(function(response) {\n          $log.debug(response);\n\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          $log.error(response);\n\n          deferred.reject(response);\n        });\n\n      return deferred.promise;\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('vmsMessage', vmsMessage);\n\n  /** @ngInject */\n  function vmsMessage() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/vmsMessageDirective/vmsMessageDirective.html',\n      scope: {\n        data: '='\n      },\n      controller: VmsMessageController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n  }\n\n  /** @ngInject */\n  function VmsMessageController($log) {\n    var vm = this;\n\n    vm.isArray = isArray;\n\n    $log.debug('VmsMessageController');\n\n    if (vm.data instanceof Array) {\n      vm.data.forEach(function(element, index, array) {\n        $log.debug('forEach');\n        $log.debug(element);\n\n        if (vm.data[index].type === 'info') {\n          array[index]['timeout'] = 6500;\n        } else {\n          array[index]['timeout'] = 'none';\n        }\n      });\n    }\n\n    function isArray(value) {\n      return angular.isArray(value);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('vmsLocalStorage', vmsLocalStorage);\n\n  /** @ngInject */\n  function vmsLocalStorage($log, localStorageService, LOCAL_STORAGE_CONFIG) {\n    var service = {\n      setJwt: setJwt,\n      getJwt: getJwt,\n      removeJwt: removeJwt,\n      jwtExists: jwtExists,\n      setLastName: setLastName,\n      getLastName: getLastName,\n      removeLastName: removeLastName,\n      setUsername: setUsername,\n      getUsername: getUsername,\n      removeUsername: removeUsername,\n      getRole: getRole,\n      setRole: setRole,\n      removeRole: removeRole,\n      getAvatarPath: getAvatarPath,\n      setAvatarPath: setAvatarPath,\n      removeAvatarPath: removeAvatarPath,\n    };\n\n    return service;\n\n    function setJwt(token) {\n      return localStorageService.set(LOCAL_STORAGE_CONFIG.keys.jwt, token);\n    }\n\n    function getJwt() {\n      return localStorageService.get(LOCAL_STORAGE_CONFIG.keys.jwt);\n    }\n\n    function removeJwt() {\n      return localStorageService.remove(LOCAL_STORAGE_CONFIG.keys.jwt);\n    }\n\n    function jwtExists() {\n      return keyExists(LOCAL_STORAGE_CONFIG.keys.jwt);\n    }\n\n    function setLastName(lastName) {\n      return localStorageService.set(LOCAL_STORAGE_CONFIG.keys.lastName, lastName);\n    }\n\n    function getLastName() {\n      return localStorageService.get(LOCAL_STORAGE_CONFIG.keys.lastName);\n    }\n\n    function removeLastName() {\n      return localStorageService.remove(LOCAL_STORAGE_CONFIG.keys.lastName);\n    }\n\n    function setUsername(userName) {\n      return localStorageService.set(LOCAL_STORAGE_CONFIG.keys.userName, userName);\n    }\n\n    function getUsername() {\n      return localStorageService.get(LOCAL_STORAGE_CONFIG.keys.userName);\n    }\n\n    function removeUsername() {\n      return localStorageService.remove(LOCAL_STORAGE_CONFIG.keys.userName);\n    }\n\n    function setRole(token) {\n      return localStorageService.set(LOCAL_STORAGE_CONFIG.keys.role, token);\n    }\n\n    function getRole() {\n      return localStorageService.get(LOCAL_STORAGE_CONFIG.keys.role);\n    }\n\n    function removeRole() {\n      return localStorageService.remove(LOCAL_STORAGE_CONFIG.keys.role);\n    }\n\n    function keyExists(keyName) {\n      var lsKeys = localStorageService.keys();\n\n      if (lsKeys.indexOf(keyName) != -1) {\n        return true;\n      }\n\n      return false;\n    }\n\n    function getAvatarPath() {\n      return localStorageService.get(LOCAL_STORAGE_CONFIG.keys.avatarPath);\n    }\n\n    function setAvatarPath(path) {\n      return localStorageService.set(LOCAL_STORAGE_CONFIG.keys.avatarPath, path);\n    }\n\n    function removeAvatarPath() {\n      return localStorageService.remove(LOCAL_STORAGE_CONFIG.keys.avatarPath);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('vmsErrorMessage', vmsErrorMessage);\n\n  /** @ngInject */\n  function vmsErrorMessage($log) {\n    var service = {\n      getErrorMsg: getErrorMsg,\n      fieldMsg: fieldMsg\n    };\n\n    return service;\n\n    function getErrorMsg(errors) {\n      $log.log('getErrorMsg');\n      $log.log(errors);\n\n      var errorMsgs = [];\n      errors.forEach(function(error) {\n        if (error.code == \"used_field\") {\n          errorMsgs.push(\"被使用的 \" + fieldMsg(error));\n        } else if (error.code == \"missing_field\") {\n          errorMsgs.push(\"未輸入的 \" + fieldMsg(error));\n        } else if (error.code == \"not_enough_password_strength\") {\n          errorMsgs.push(\"密碼強度不足\");\n        }\n      });\n\n      return errorMsgs.join(\";\");\n    }\n\n    function fieldMsg(error) {\n      var fields = error.fields;\n\n      return fields.join(\", \");\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('vmsClient', vmsClient);\n\n  /** @ngInject */\n  function vmsClient($log, $http, apiBaseUrl) {\n    var service = {\n      register: register,\n      login: login,\n      logout: logout,\n      emailVerification: emailVerification,\n      getProfile: getProfile,\n      updateProfile: updateProfile,\n      refreshToken: refreshToken,\n      deleteAccount: deleteAccount,\n      getExperiences: getExperiences,\n      addExperience: addExperience,\n      updateExperience: updateExperience,\n      deleteExperience: deleteExperience,\n      getEducations: getEducations,\n      addEducation: addEducation,\n      updateEducation: updateEducation,\n      deleteEducation: deleteEducation,\n      getSkillCandidatedKeywords: getSkillCandidatedKeywords,\n      getEquipmentCandidatedKeywords: getEquipmentCandidatedKeywords,\n      getSkills: getSkills,\n      updateSkills: updateSkills,\n      getEquipment: getEquipment,\n      updateEquipment: updateEquipment,\n      addProject: addProject,\n      getManagedProjects: getManagedProjects,\n      getAttendingProject: getAttendingProject,\n      getProject: getProject,\n      updateProject: updateProject,\n      getProjectCustomFields: getProjectCustomFields,\n      updateProjectCustomField: updateProjectCustomField,\n      attendProject: attendProject,\n      fillProjectCustomFieldData: fillProjectCustomFieldData,\n      getProjectCustomFieldData: getProjectCustomFieldData,\n      getProjectMembers: getProjectMembers,\n      getAllMembersCustomFieldData: getAllMembersCustomFieldData,\n      getAllProjects: getAllProjects\n    };\n\n    return service;\n\n    function register(volunteer) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/register',\n        data: volunteer\n      });\n    }\n\n    function login(credentials) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/auth',\n        data: credentials\n      });\n    }\n\n    function logout() {\n      return $http({\n        method: 'DELETE',\n        url: apiBaseUrl + '/auth'\n      });\n    }\n\n    function emailVerification(email, verification_token) {\n      return $http({\n        'method': 'GET',\n        'url': apiBaseUrl + '/email_verification/' + email + '/' + verification_token\n      });\n    }\n\n    function getProfile() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me'\n      });\n    }\n\n    function updateProfile(profile) {\n      return $http({\n        method: 'PUT',\n        url: apiBaseUrl + '/users/me',\n        data: profile\n      });\n    }\n\n    function refreshToken() {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/auth/refresh_token'\n      });\n    }\n\n    function deleteAccount(credentials) {\n      /**\n       * @TODO: change the POST action into DELETE (?)\n       */\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/delete',\n        data: credentials\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function getExperiences() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me/experiences',\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function addExperience(experience) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/experiences',\n        data: experience\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function updateExperience(experience) {\n      return $http({\n        method: 'PUT',\n        url: apiBaseUrl + '/users/me/experiences',\n        data: experience\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function deleteExperience(experienceId) {\n      return $http({\n        method: 'DELETE',\n        url: apiBaseUrl + '/users/me/experiences/' + experienceId\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function getEducations() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me/educations',\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function addEducation(education) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/educations',\n        data: education\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function updateEducation(education) {\n      return $http({\n        method: 'PUT',\n        url: apiBaseUrl + '/users/me/educations',\n        data: education\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function deleteEducation(educationId) {\n      return $http({\n        method: 'DELETE',\n        url: apiBaseUrl + '/users/me/educations/' + educationId\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function getSkillCandidatedKeywords(keyword) {\n      $log.debug('vmsClient.getSkillCandidatedKeywords()');\n      $log.debug(keyword);\n\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/skill_candidates/' + keyword\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function getEquipmentCandidatedKeywords(keyword) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/equipment_candidates/' + keyword,\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function getSkills() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me/skills',\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function updateSkills(skills) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/skills',\n        data: skills\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function getEquipment() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/users/me/equipment',\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function updateEquipment(equipment) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/users/me/equipment',\n        data: equipment\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function addProject(project) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects',\n        data: project\n      });\n    }\n\n    /**\n     * @TODO: Unit testing\n     */\n    function getManagedProjects() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/managed_projects',\n      });\n    }\n\n    function getAttendingProject() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/attending_projects',\n      });\n    }\n\n    function getProject(id) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + id,\n      });\n    }\n\n    function updateProject(value) {\n      return $http({\n        method: 'PUT',\n        url: apiBaseUrl + '/projects/' + value.id,\n        data: value\n      });\n    }\n\n    function getProjectCustomFields(id) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + id + '/custom_fields',\n      });\n    }\n\n    function updateProjectCustomField(projectId, data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/custom_fields',\n        data: data\n      });\n    }\n\n    function attendProject(projectId) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/attend',\n        data: []\n      });\n    }\n\n    function fillProjectCustomFieldData(projectId, data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/members/bulk_custom_field_data',\n        data: data\n      });\n    }\n\n    function getProjectCustomFieldData(projectId) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + projectId + '/members/custom_field_data'\n      });\n    }\n\n    function getProjectMembers(projectId) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + projectId + '/members'\n      });\n    }\n\n    function getAllMembersCustomFieldData(projectId) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + projectId + '/members/all_custom_field_data'\n      });\n    }\n\n    function getAllProjects() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects'\n      });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('requiredLabel', requiredLabel);\n\n  /** @ngInject */\n  function requiredLabel() {\n    var directive = {\n      restrict: 'A',\n      compile: function(element) {\n        element.append(\"<span class='required-star'>*</span>\");\n      }\n    };\n\n    return directive;\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('refreshJwtInterceptor', refreshJwtInterceptor);\n\n  /** @ngInject */\n  function refreshJwtInterceptor($injector, $q, $log, vmsLocalStorage) {\n    $log.debug(\"### refreshJwtInterceptor ###\");\n\n    var service = {\n\n      responseError: function(response) {\n        // IMPORTANT!\n        // If the service wants use other dependencies, it should use $injector\n        // to get the dependencies. Otherwise, the dependency will not be found\n        var userAuthentication = $injector.get('userAuthentication');\n        var $http = $injector.get('$http');\n        var deferred = $q.defer();\n        var isAuthenticated = userAuthentication.isAuthenticated();\n\n        $log.debug(\"### responseError ###\");\n        $log.debug(response);\n        $log.debug('isAuthenticated = ' + isAuthenticated);\n\n        if (response.status === 401 && isAuthenticated) {\n          $log.debug(\"=== 401 ===\");\n\n          var successCallback = function(authorizationToken) {\n            $log.debug(\"refresh successCallback()\");\n            $log.debug(authorizationToken);\n\n            response.config.headers.Authorization = authorizationToken;\n\n            deferred.resolve();\n          };\n          var failureCallback = function() {\n            $log.error(\"refresh failureCallback()\");\n            userAuthentication.logout();\n\n            deferred.reject();\n          };\n\n          userAuthentication.refreshToken().then(successCallback).catch(failureCallback);\n\n          return deferred.promise.then(function() {\n            return $http(response.config);\n          });\n        }\n\n        $log.debug(\"### refreshJwtInterceptor reject\");\n\n        return $q.reject(response);\n      }\n    };\n\n    return service;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('projectHyperlinks', projectHyperlinks);\n\n  /** @ngInject */\n  function projectHyperlinks() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/projectHyperlinksDirective/projectHyperlinksDirective.html',\n      scope: {\n        projectId: '='\n      },\n      controller: ProjectHyperlinksDirectiveController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n  }\n\n  /** @ngInject */\n  function ProjectHyperlinksDirectiveController($log, projectHyperlink) {\n    var vm = this;\n    vm.data = [];\n\n    $log.debug(\"ProjectHyperlinksDirectiveController\");\n\n    $log.debug(\"vm.projectId = \" + vm.projectId);\n\n    if (angular.isDefined(vm.projectId)) {\n      $log.debug(\"vm.projectId is defined.\");\n      $log.debug(\"vm.projectId = \" + vm.projectId);\n\n      var onSuccess = function(value) {\n        vm.data = value.data;\n      };\n\n      projectHyperlink\n        .getByProjectId(vm.projectId)\n        .then(onSuccess);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('projectEndpoint', projectEndpoint);\n\n  /** @ngInject */\n  function projectEndpoint($log, $http, apiBaseUrl) {\n    var service = {\n      getById: getById,\n      getAll: getAll,\n      getManagedProjectList: getManagedProjectList,\n      create: create,\n      update: update,\n      getHyperlinks: getHyperlinks,\n      storeHyperlinks: storeHyperlinks,\n      deleteHyperlinks: deleteHyperlinks,\n      createOrUpdateHyperlinks: createOrUpdateHyperlinks\n    };\n\n    return service;\n\n    function getById(id) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + id,\n      });\n    }\n\n    function getAll() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects'\n      });\n    }\n\n    function getManagedProjectList() {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/managed_projects'\n      });\n    }\n\n    function create(data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects',\n        data: data\n      });\n    }\n\n    function update(id, data) {\n      return $http({\n        method: 'PUT',\n        url: apiBaseUrl + '/projects/' + id,\n        data: data\n      });\n    }\n\n    function getHyperlinks(projectId) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks'\n      });\n    }\n\n    function storeHyperlinks(projectId, data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks',\n        data: data\n      });\n    }\n\n    function deleteHyperlinks(projectId, hyperlinkId) {\n      return $http({\n        method: 'DELETE',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks/' + hyperlinkId\n      });\n    }\n\n    function createOrUpdateHyperlinks(projectId, data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks/create_or_update_bulk',\n        data: data\n      });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('project', project);\n\n  /** @ngInject */\n  function project(\n    $log,\n    $q,\n    projectEndpoint,\n    alertMessage) {\n    var service = {\n      getById: getById,\n      getAll: getAll,\n      getManagedProjectList: getManagedProjectList,\n      create: create,\n      update: update,\n      getHyperlinks: getHyperlinks,\n      storeHyperlinks: storeHyperlinks,\n      deleteHyperlinks: deleteHyperlinks,\n      createOrUpdateHyperlinks: createOrUpdateHyperlinks\n    };\n\n    return service;\n\n    function getById(id) {\n      var deferred = $q.defer();\n\n      projectEndpoint\n        .getById(id)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var alert = alertMessage.convertToDanger(response.data);\n\n          deferred.reject(alert);\n        })\n\n      return deferred.promise;\n    }\n\n    function getAll() {\n      var deferred = $q.defer();\n\n      projectEndpoint\n        .getAll()\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          deferred.reject(response);\n        });\n\n      return deferred.promise;\n    }\n\n    function getManagedProjectList() {\n      var deferred = $q.defer();\n\n      projectEndpoint\n        .getManagedProjectList()\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var alert = alertMessage.convertToDanger(response.data);\n\n          deferred.reject(alert);\n        });\n\n      return deferred.promise;\n    }\n\n    function create(data) {\n      var deferred = $q.defer();\n\n      projectEndpoint\n        .create(data)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var alert = alertMessage.convertToDanger(response.data);\n\n          deferred.reject(alert);\n        });\n\n      return deferred.promise;\n    }\n\n    function update(data) {\n      var deferred = $q.defer();\n\n      projectEndpoint\n        .update(data.id, data)\n        .then(function(response) {\n          deferred.resolve(response.data);\n        })\n        .catch(function(response) {\n          var alert = alertMessage.convertToDanger(response.data);\n\n          deferred.reject(alert);\n        });\n\n      return deferred.promise;\n    }\n\n    function getHyperlinks(projectId) {\n      return $http({\n        method: 'GET',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks'\n      });\n    }\n\n    function storeHyperlinks(projectId, data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks',\n        data: data\n      });\n    }\n\n    function deleteHyperlinks(projectId, hyperlinkId) {\n      return $http({\n        method: 'DELETE',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks/' + hyperlinkId\n      });\n    }\n\n    function createOrUpdateHyperlinks(projectId, data) {\n      return $http({\n        method: 'POST',\n        url: apiBaseUrl + '/projects/' + projectId + '/hyperlinks/create_or_update_bulk',\n        data: data\n      });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .filter('permissionText', permissionText);\n\n  /** @ngInject */\n  function permissionText($log, PERMISSION_OPTIONS) {\n    $log.debug('permissionText');\n\n    var filter = function(input) {\n      var text = null;\n\n      $log.debug(input);\n\n      angular.forEach(PERMISSION_OPTIONS, function(item) {\n        if (item.value == input) {\n          text = item.name;\n        }\n      });\n\n      $log.debug(text);\n\n      return text;\n    };\n\n    return filter;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('vmsNavbar', vmsNavbar);\n\n  /** @ngInject */\n  function vmsNavbar() {\n    var avatarPath;\n    var lastName;\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n        creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(\n      $log,\n      userAuthentication,\n      vmsLocalStorage,\n      $state,\n      toastr\n    ) {\n      var vm = this;\n      vm.userAuthentication = userAuthentication;\n      vm.logout = logout;\n      vm.getRole = getRole;\n      vm.isManagerRole = isManagerRole;\n      vm.isVolunteerRole = isVolunteerRole;\n      vm.switchToVolunteer = switchToVolunteer;\n      vm.switchToManager = switchToManager;\n      vm.getAvatarPath = getAvatarPath;\n      vm.getLastName = getLastName;\n\n      function logout() {\n        userAuthentication.logout();\n        avatarPath = undefined;\n        lastName = undefined;\n        $state.go('login');\n      }\n\n      function getRole() {\n        return userAuthentication.getRole();\n      }\n\n      function isManagerRole() {\n        return userAuthentication.getRole() == 'manager';\n      }\n\n      function isVolunteerRole() {\n        return userAuthentication.getRole() == 'volunteer';\n      }\n\n      function switchToVolunteer() {\n        userAuthentication.switchRole('volunteer');\n        toastr.clear();\n        toastr.success('現在身份為志工', {\n          closeButton: true\n        });\n        $state.go('showAllProjects');\n      }\n\n      function switchToManager() {\n        userAuthentication.switchRole('manager');\n        toastr.clear();\n        toastr.success('現在身份為專案管理員', {\n          closeButton: true\n        });\n        $state.go('managedProjectList');\n      }\n\n      function getAvatarPath() {\n        if (!angular.isDefined(avatarPath) || avatarPath == null) {\n          avatarPath = vmsLocalStorage.getAvatarPath();\n        }\n\n        return avatarPath;\n      }\n\n      function getLastName() {\n        if (!angular.isDefined(lastName) || lastName == null) {\n          lastName = vmsLocalStorage.getLastName();\n        }\n\n        return lastName;\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('jwtInjector', jwtInjector);\n\n  /** @ngInject */\n  function jwtInjector($injector, $log) {\n    var service = {\n\n      request: function(config) {\n        var authPrinciple = $injector.get('authPrinciple');\n        var vmsLocalStorage = $injector.get('vmsLocalStorage');\n\n        if (authPrinciple.identity()) {\n          $log.debug('token key exists');\n\n          config.headers['Authorization'] = vmsLocalStorage.getJwt();\n        } else {\n          $log.debug('token key is not found');\n        }\n\n        // console.log(config);\n\n        return config;\n      }\n    };\n\n    return service;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .filter('htmlize', htmlize);\n\n  /** @ngInject */\n  function htmlize($sce) {\n    var filter = function(input) {\n      return $sce.trustAsHtml(input);\n    };\n\n    return filter;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .filter('getIndexById', getIndexById);\n\n  function getIndexById() {\n\n    return function(input, id) {\n\n      for (var i = 0; i < input.length; i++) {\n        if (input[i].id == id) {\n          return i;\n        }\n      }\n\n      return null;\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .filter('getById', getById);\n\n  function getById() {\n\n    return function(input, id) {\n\n      for (var i = 0; i < input.length; i++) {\n        if (input[i].id == id) {\n          return input[i];\n        }\n      }\n\n      return null;\n    };\n  }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('vmsFrontend')\n        .directive('formatYear', formatYear);\n\n    /** @ngInject */\n    function formatYear($filter, $log) {\n        return {\n            require: 'ngModel',\n            link: function(scope, element, attrs, modelCtrl) {\n\n                modelCtrl.$parsers.push(function(inputValue) {\n\n                    var transformedInput = $filter('date')(inputValue, 'yyyy');\n\n                    $log.debug('=== formatYear directive ===');\n                    $log.debug(transformedInput);\n\n                    if (transformedInput != inputValue) {\n                        modelCtrl.$setViewValue(transformedInput);\n                        modelCtrl.$render();\n                    }\n\n                    return transformedInput;\n                });\n            }\n        };\n    }\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .filter('formatDateTime', formatDateTime);\n\n  /** @ngInject */\n  function formatDateTime($filter, $log) {\n    var filter = function(dateString) {\n      var dateValue = new Date(dateString);\n      var transformedInput = $filter('date')(dateValue, 'yyyy/MM/dd hh:mm', 'UTC');\n\n      $log.debug('=== formatDateTime directive ===');\n      $log.debug(transformedInput);\n\n      return transformedInput;\n    };\n\n    return filter;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('elementsProvider', elementsProvider);\n\n  function elementsProvider() {\n    var services = {\n      getNewExperience: getNewExperience\n    };\n\n    function getNewExperience() {\n      // var html = `<div class=\"experience-section\">\n      //   <div class=\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\">\n      //           <div class=\"row\">\n      //               <label for=\"company\" class=\"control-label col-md-4 col-lg-4\">公司名稱</label>\n      //               <div class=\"col-md-8 col-lg-8\">\n      //                   <input type=\"text\" class=\"form-control\" id=\"company\" placeholder=\"公司名稱\" ng-model=\"vm.experience.name\" required>\n      //               </div>\n      //           </div>\n      //       </div>\n      //       <div class=\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\">\n      //           <div class=\"row\">\n      //               <label for=\"job-title\" class=\"control-label col-md-4 col-lg-4\">工作職稱</label>\n      //               <div class=\"col-md-8 col-lg-8\">\n      //                   <input type=\"text\" class=\"form-control\" id=\"job-title\" placeholder=\"工作職稱\" ng-model=\"vm.experience.job_title\" required>\n      //               </div>\n      //           </div>\n      //       </div>\n      //       <div class=\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\">\n      //           <div class=\"row\">\n      //               <label for=\"start-year\" class=\"control-label col-md-4 col-lg-4\">開始期間</label>\n      //               <div class=\"col-md-8 col-lg-8\">\n      //                   <input type=\"text\" name=\"start-years\" minlength=\"6\" class=\"form-control\" id=\"start-year\" placeholder=\"起始年\" ng-model=\"vm.experience.start_year\" required>\n      //               </div>\n      //           </div>\n      //       </div>\n      //       <div class=\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\">\n      //           <div class=\"row\">\n      //               <label for=\"end-year\" class=\"control-label col-md-4 col-lg-4\">結束期間</label>\n      //               <div class=\"col-md-8 col-lg-8\">\n      //                   <input type=\"text\" name=\"end-year\" minlength=\"6\" class=\"form-control\" id=\"end-year\" placeholder=\"結束年\" ng-model=\"vm.experience.end_year\">\n      //               </div>\n      //           </div>\n      //       </div>\n      //       </div>`;\n      // return angular.element(html);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .filter('educationDegree', educationDegree);\n\n  /** @ngInject */\n  function educationDegree(EDUCATION_DEGREES, $log) {\n    var filter = function(input) {\n      var degreeText;\n\n      angular.forEach(EDUCATION_DEGREES, function(degree) {\n        if (degree.value == input) {\n          degreeText = degree.text;\n        }\n      });\n\n      $log.debug(degreeText);\n\n      return degreeText;\n    };\n\n    return filter;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('editableProjectHyperlinks', editableProjectHyperlinks);\n\n  /** @ngInject */\n  function editableProjectHyperlinks() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/editableProjectHyperlinksDirective/editableProjectHyperlinksDirective.html',\n      scope: {\n        projectId: '=',\n        data: '='\n      },\n      controller: EditableProjectHyperlinksDirectiveController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n  }\n\n  /** @ngInject */\n  function EditableProjectHyperlinksDirectiveController($log, projectHyperlink) {\n    var vm = this;\n    vm.data = [];\n\n    if (vm.data.length == 0) {\n      vm.data.push({\n        name: \"\",\n        link: \"\"\n      });\n    }\n\n    $log.debug(\"EditableProjectHyperlinksDirectiveController\");\n\n    $log.debug(\"vm.projectId = \" + vm.projectId);\n\n    if (angular.isDefined(vm.projectId)) {\n      $log.debug(\"vm.projectId is defined.\");\n      $log.debug(\"vm.projectId = \" + vm.projectId);\n\n      var onSuccess = function(value) {\n        vm.data = value.data;\n      };\n\n      projectHyperlink\n        .getByProjectId(vm.projectId)\n        .then(onSuccess);\n    }\n\n    vm.remove = function(index) {\n      $log.debug(\"remove a project hyperlink\");\n      $log.debug(index);\n\n      var onSuccess = function() {\n        vm.data.splice(index, 1);\n\n        $log.debug(vm.data);\n      };\n\n      var onFailure = function(response) {\n        $log.error(response);\n      };\n\n      if (angular.isDefined(vm.data[index].id)) {\n        projectHyperlink\n          .dropByProjectIdAndHyperlinkId(vm.projectId, vm.data[index].id)\n          .then(onSuccess)\n          .catch(onFailure);\n      } else {\n        vm.data.splice(index, 1);\n      }\n    }\n\n    vm.append = function() {\n      vm.data.push({\n        name: \"\",\n        link: \"\"\n      });\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('fillCustomFieldType', fillCustomFieldType);\n\n  /** @ngInject */\n  function fillCustomFieldType($compile) {\n    var directive = {\n      template: '<div class=\"form-group\"><div class=\"row\" ng-include=\"vm.getTemplateUrl()\"></div></div>',\n      restrict: 'E',\n      scope: {\n        type: '=',\n        title: '=',\n        fieldData: '=',\n        metadata: '='\n      },\n      controller: FillCustomFieldTypeController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function FillCustomFieldTypeController($log) {\n      var vm = this;\n      var type;\n\n      // Display the delete button\n      // vm.optionView = [];\n\n      $log.debug(vm);\n\n      vm.getTemplateUrl = function() {\n        switch (vm.type) {\n          case 'RADIO_BUTTON':\n          // $log.debug('=== RADIO_BUTTON ===');\n          // $log.debug(vm.fieldData);\n\n            setRadioButton();\n            return getUrl('radioButton');\n          case 'TEXT':\n            // $log.debug('=== TEXT ===');\n            // $log.debug(vm.fieldData);\n            return getUrl('text');\n          default:\n            return null;\n        }\n      };\n\n      function setRadioButton() {\n        if (!angular.isDefined(vm.metadata) || vm.metadata.length == 0) {\n          $log.debug('push.....');\n          vm.metadata = {\n            options: [\n              {\n              }\n            ]\n          };\n\n          $log.debug(vm.metadata);\n        }\n\n        vm.hoverDelete = function(index) {\n          return option.showDelete = !option.showDelete;\n        };\n        vm.appendOption = function() {\n          vm.metadata.options.push({\n          });\n        };\n\n        vm.delete = function(index) {\n          $log.debug('=== vm.delete() ===');\n          $log.debug(index);\n          vm.metadata.options.splice(index, 1);\n        }\n      }\n\n      function getUrl(type) {\n        return 'app/components/customFieldDirective/' + type + 'FilledFieldType.html';\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('customFieldTypePreview', customFieldTypePreview);\n\n  /** @ngInject */\n  function customFieldTypePreview($compile) {\n    var directive = {\n      template: '<ng-include src=\"vm.getTemplateUrl()\"/>',\n      restrict: 'E',\n      scope: {\n        type: '=',\n        attribute: '='\n      },\n      controller: CustomFieldTypePreviewController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function CustomFieldTypePreviewController() {\n      var vm = this;\n\n      vm.getTemplateUrl = function() {\n        return 'app/components/customFieldDirective/' + vm.type + 'FieldTypePreview.html'\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('customFieldType', customFieldType);\n\n  /** @ngInject */\n  function customFieldType($compile) {\n    var directive = {\n      template: '<ng-include src=\"vm.getTemplateUrl()\"/>',\n      restrict: 'E',\n      scope: {\n        type: '=',\n        metadata: '='\n      },\n      controller: CustomFieldTypeController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function CustomFieldTypeController($log) {\n      var vm = this;\n      var type;\n\n      // Display the delete button\n      // vm.optionView = [];\n\n      $log.debug(vm);\n\n      vm.getTemplateUrl = function() {\n        switch (vm.type) {\n          case 'radioButton':\n            $log.debug('=== radioButton ===');\n            setRadioButton();\n            return getUrl(vm.type);\n          default:\n            return null;\n        }\n      };\n\n      function setRadioButton() {\n        if (!angular.isDefined(vm.metadata) || vm.metadata.length == 0) {\n          $log.debug('push.....');\n          vm.metadata = {\n            options: [\n              {\n              }\n            ]\n          };\n\n          $log.debug(vm.metadata);\n        }\n\n        vm.hoverDelete = function(index) {\n          return option.showDelete = !option.showDelete;\n        };\n        vm.appendOption = function() {\n          vm.metadata.options.push({\n          });\n        };\n\n        vm.delete = function(index) {\n          $log.debug('=== vm.delete() ===');\n          $log.debug(index);\n          vm.metadata.options.splice(index, 1);\n        }\n      }\n\n      function getUrl(type) {\n        return 'app/components/customFieldDirective/' + type + 'FieldType.html';\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('customField', customField);\n\n  /** @ngInject */\n  function customField() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/customFieldDirective/customFieldDirective.html',\n      scope: {\n        data: '='\n      },\n      controller: CustomFieldDirectiveController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n  }\n\n  /** @ngInject */\n  function CustomFieldDirectiveController(\n    $log,\n    $stateParams,\n    projectCustomField,\n    CUSTOM_FIELD_TYPES\n  ) {\n    var vm = this;\n    var projectId = $stateParams.projectId;\n    vm.typeOptions = CUSTOM_FIELD_TYPES;\n    vm.store = store;\n\n    angular.element(document).ready(setFieldType);\n\n    function store() {\n      // vm.data['type'] = 'project_custom_field';\n      vm.data['type'] = vm.type.value;\n      $log.debug('customFieldData');\n      $log.debug(vm.data);\n\n      switch (vm.type.value) {\n        case 'RADIO_BUTTON':\n          setRadioButtonMetadataValue(vm.data.metadata);\n          break;\n      }\n\n      removeDateTime();\n\n      $log.debug('vm.data');\n      $log.debug(vm.data);\n\n      projectCustomField\n        .storeOrUpdateByProjectId(vm.data, projectId);\n    }\n\n    function setRadioButtonMetadataValue(metadata) {\n      angular.forEach(metadata.options, function(item, key) {\n        item['value'] = key;\n      });\n    }\n\n    function removeDateTime() {\n      if (angular.isDefined(vm.data.created_at)) {\n        delete vm.data.created_at;\n      }\n\n      if (angular.isDefined(vm.data.updated_at)) {\n        delete vm.data.updated_at;\n      }\n    }\n\n    function setFieldType() {\n      $log.debug('=== setFieldType() ===');\n      $log.debug(vm.data);\n      if (angular.isDefined(vm.data.type)) {\n        $log.debug('=== type is defined ===');\n\n        angular.forEach(CUSTOM_FIELD_TYPES, function(type) {\n          if (vm.data.type == type.value) {\n            vm.type = type;\n          }\n        });\n      } else {\n        $log.debug('=== type is not defined ===');\n\n        vm.type = {\n          label: '文字',\n          typeName: 'text',\n          value: 'TEXT'\n        };\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .filter('customFieldDataToText', customFieldDataToText);\n\n  /** @ngInject */\n  function customFieldDataToText($filter, $log) {\n    var filter = function(input, type, metadata) {\n      var transformedInput;\n\n      switch (type) {\n        case 'RADIO_BUTTON':\n          transformRadioButton();\n\n          break;\n        case 'TEXT':\n          transformedInput = input.value;\n\n          break;\n        default:\n          transformedInput = 'NONE';\n      }\n\n      $log.debug('### type ###');\n      $log.debug(type);\n      $log.debug('### transformedInput ###');\n      $log.debug(transformedInput);\n\n      return transformedInput;\n\n      function transformRadioButton() {\n        $log.debug('=== transformRadioButton ===');\n        $log.debug('### input ###');\n        $log.debug(input);\n        $log.debug('### metadata ###');\n        $log.debug(metadata);\n\n        angular.forEach(metadata.options, function(item) {\n          $log.debug(item);\n\n          if (item.value == input.option.value) {\n            transformedInput = item.display_name;\n            $log.debug('--- equal ---');\n          }\n        });\n      }\n    };\n\n    return filter;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('authPrinciple', authPrinciple);\n\n  /** @ngInject */\n  function authPrinciple(vmsLocalStorage) {\n    var service = {\n      identity: identity\n    };\n\n    return service;\n\n    function identity() {\n      return vmsLocalStorage.jwtExists();\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .directive('showAttendingProjects', showAttendingProjects);\n\n  /** @ngInject */\n  function showAttendingProjects() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/attendingProjectsDirective/showAttendingProjectDirective.html',\n      scope: {\n        memberId: '='\n      },\n      controller: ShowAttendingProjectsController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n  }\n\n  /** @ngInject */\n  function ShowAttendingProjectsController($log, volunteer) {\n    var vm = this;\n\n    $log.debug(\"ShowAttendingProjectsController\");\n\n    volunteer.getAttendingProjects(vm.memberId)\n      .then(function(attendingRecords) {\n        $log.debug(\"getAttendingProjects().then()\");\n\n        vm.data = attendingRecords.data;\n\n        $log.debug(\"vm.data\");\n        $log.debug(vm.data);\n      });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('apiKeyInjector', apiKeyInjector);\n\n  /** @ngInject */\n  function apiKeyInjector(apiKey) {\n    var service = {\n\n      request: function(config) {\n\n        config.headers['X-VMS-API-Key'] = apiKey;\n\n        return config;\n      }\n    };\n\n    return service;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('arrayHelpersService', arrayHelpersService);\n\n  function arrayHelpersService(\n    $log,\n    lodash\n  ) {\n    var service = {\n      getExistingIndexes: getExistingIndexes\n    };\n\n    function getExistingIndexes(origin, update) {\n      $log.debug('getExistingIndexes');\n      $log.debug(origin);\n      $log.debug(update);\n\n      var existingIndexes = [];\n\n      angular.forEach(origin, function(value) {\n        $log.debug('value');\n        $log.debug(value);\n\n        var index = lodash.findIndex(update, function(item) {\n          return item.name == value.name;\n        });\n\n        $log.debug('index');\n        $log.debug(index);\n\n        console.log('index');\n        console.log(index);\n\n        if (index != -1) {\n          $log.debug('found');\n          $log.debug(index);\n          existingIndexes.push(index);\n        }\n      });\n\n      return existingIndexes;\n    }\n\n    return service;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .factory('alertMessage', alertMessage);\n\n  /** @ngInject */\n  function alertMessage(\n    $log\n  ) {\n    var service = {\n      convertToValidationDanger: convertToValidationDanger,\n      convertToDanger: convertToDanger\n    };\n\n    return service;\n\n    function convertToValidationDanger(errors) {\n      $log.debug(\"convertToValidationDanger()\");\n\n      var data = [];\n\n      angular.forEach(errors, function(messages, fieldName) {\n        var item = {\n          field: fieldName,\n          message: []\n        };\n\n        messages.forEach(function(message) {\n          item.message.push('alert.danger.' + message);\n        });\n\n        this.push(item);\n      }, data);\n\n      var danger = {\n        type: 'danger',\n        data: data\n      };\n\n      return danger;\n    }\n\n    function convertToDanger(errors) {\n      $log.debug(\"convertToDanger()\");\n\n      var message = [];\n\n      errors.forEach(function(item) {\n        message.push('alert.danger.' + item);\n      });\n\n      var danger = {\n        type: 'danger',\n        data: {\n          message: message\n        }\n      };\n\n      $log.debug(danger);\n\n      return danger;\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ProfileController', ProfileController);\n\n  /** @ngInject */\n\n  function ProfileController($uibModal, cities, $log, defaultAvatarPath, userProfile) {\n\n    var vm = this;\n\n    vm.open = function() {\n      var modal = $uibModal.open({\n        templateUrl: 'myModalContent.html',\n        controller: 'ModalInstanceCtrl',\n        controllerAs: 'vm'\n      });\n    };\n\n    angular.element(document).ready(getProfile());\n\n    function getProfile() {\n      var doneCallbacks = function(result) {\n          $log.debug(\"getProfile() done\");\n          $log.debug(result);\n\n          vm.profile = result.data;\n        },\n        failCallbacks = function(response) {\n          $log.debug(response);\n        };\n\n      userProfile.get().then(doneCallbacks, failCallbacks)\n    }\n  }\n\n  angular.module('vmsFrontend').controller('ModalInstanceCtrl', function($state, $uibModalInstance, $log, vmsLocalStorage, userProfile) {\n\n    var vm = this;\n    vm.remind = \"提醒您，帳號刪除後無法再還原，如果您確定要刪除帳號。\";\n\n    vm.ok = function() {\n      $log.debug('deleteClickOk');\n\n      var credentials = {\n        username: vmsLocalStorage.getUsername(),\n        password: vm.password\n      };\n\n      $log.debug(\"username = \" + credentials.username);\n      $log.debug(\"password = \" + credentials.password);\n\n      userProfile\n        .drop(credentials)\n        .then(function(response) {\n          $log.debug(\"delete success\");\n          $uibModalInstance.close();\n\n          $state.go('login');\n        })\n        .catch(function(response) {\n          $log.debug(\"delete failure\");\n          $log.debug(response);\n\n          if (response.status == 401) {\n            vm.deleteMsg = \"您的密碼輸入錯誤，請重新輸入\";\n          }\n        });\n    };\n\n    vm.cancel = function() {\n      $uibModalInstance.dismiss('cancel');\n    };\n  });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('VolunteerExperienceController', VolunteerExperienceController);\n\n  function VolunteerExperienceController($log, userExperience, $filter) {\n    var vm = this;\n    var beginYear = 1970;\n    vm.years = new Array();\n    vm.isShowAddExperience = false;\n\n    angular.element(document).ready(getExperiences);\n    angular.element(document).ready(setYear);\n\n    function getExperiences() {\n      var onSuccess = function(value) {\n        $log.debug(value);\n\n        vm.experiences = value.experiences;\n\n        if (angular.isDefined(value)) {\n          $log.debug('vm.experiences.length');\n          $log.debug(vm.experiences.length);\n\n          if (vm.experiences.length == 0) {\n            vm.isShowAddExperience = true;\n          }\n        } else {\n          $log.debug('experience value is not defined');\n\n          vm.isShowAddExperience = true;\n        }\n\n      };\n\n      userExperience\n        .getAll()\n        .then(onSuccess);\n    }\n\n    function setYear() {\n      var nowDate = new Date();\n\n      for (var year = beginYear; year <= nowDate.getFullYear(); year++) {\n        vm.years.push({\n          value: year,\n          text: year + ' 年'\n        });\n      }\n    }\n\n    function getEditableObject(id) {\n      var objName = 'experience' + id;\n      var editableObj = vm[objName];\n\n      return editableObj;\n    }\n\n    function transformToDate(year) {\n      return new Date(year, 1);\n    }\n\n    vm.addExperience = function() {\n\n      var onSuccess = function(data) {\n        getExperiences();\n        vm.isShowAddExperience = false;\n      };\n      var onFailure = function(data) {};\n\n      $log.debug('addExperiences()');\n      $log.debug(vm.sExperience);\n\n      userExperience\n        .create(vm.sExperience)\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n\n    vm.updateExperience = function(id) {\n      var getByIdFilter = $filter('getById');\n      var experience = getByIdFilter(vm.experiences, id);\n\n      $log.debug(experience);\n\n      var onSuccess = function() {\n        getEditableObject(id).$hide();\n      };\n      var onFailure = function() {\n        /**\n         * TODO: show error msg\n         */\n      };\n\n      userExperience\n        .update(experience)\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n\n    vm.deleteExperience = function(id) {\n      var onSuccess = function() {\n        getEditableObject(id).$hide();\n        getExperiences();\n      };\n      var onFailure = function() {\n        /**\n         * TODO: show error msg\n         */\n      };\n\n      userExperience\n        .dropById(id)\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n\n    vm.editableFormShow = function(id) {\n\n      getEditableObject(id).$show();\n    };\n\n    vm.editableIsVisible = function(id) {\n\n      $log.debug('vm.editableIsVisible()');\n\n      var editableObj = getEditableObject(id);\n\n      if (editableObj == null) {\n        return false;\n      }\n\n      var visible = editableObj.$visible;\n\n      return visible;\n    };\n\n    vm.editableFormCancel = function(id) {\n      getEditableObject(id).$cancel();\n    };\n\n    vm.setAddExperienceVisible = function() {\n      vm.isShowAddExperience = true;\n    };\n\n    vm.setAddExperienceInvisible = function() {\n      vm.isShowAddExperience = false;\n    };\n\n    vm.onShowEditableForm = function(id) {\n      var formElement = angular.element(document).find('form[name=\"vm.experience' + id + '\"]');\n      formElement.addClass('editable-form-section');\n    };\n\n    vm.onHideEditableForm = function(id) {\n      var formElement = angular.element(document).find('form[name=\"vm.experience' + id + '\"]');\n      formElement.removeClass('editable-form-section');\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('VolunteerEducationController', VolunteerEducationController);\n\n  function VolunteerEducationController(\n    $log,\n    userEducation,\n    EDUCATION_DEGREES,\n    $filter) {\n    var vm = this;\n    var beginYear = 1970;\n    vm.years = new Array();\n    vm.isShowAddEducation = false;\n\n    angular.element(document).ready(getEducations);\n    angular.element(document).ready(setYear);\n    angular.element(document).ready(setDegree);\n\n    function getEducations() {\n      var onSuccess = function(value) {\n        $log.debug(value);\n\n        vm.educations = value.educations;\n\n        if (angular.isDefined(value)) {\n          $log.debug('vm.educations.length');\n          $log.debug(vm.educations.length);\n\n          if (vm.educations.length == 0) {\n            vm.isShowAddEducation = true;\n          }\n        } else {\n          $log.debug('education value is not defined');\n\n          vm.isShowAddEducation = true;\n        }\n\n      };\n\n      userEducation\n        .getAll()\n        .then(onSuccess);\n    }\n\n    function setYear() {\n      var nowDate = new Date();\n\n      for (var year = beginYear; year <= nowDate.getFullYear(); year++) {\n        vm.years.push({\n          value: year,\n          text: year + ' 年'\n        });\n      }\n    }\n\n    function setDegree() {\n      vm.degrees = EDUCATION_DEGREES;\n    }\n\n    function getEditableObject(id) {\n      var objName = 'education' + id;\n      var editableObj = vm[objName];\n\n      return editableObj;\n    }\n\n    function transformToDate(year) {\n      return new Date(year, 1);\n    }\n\n    vm.addEducation = function() {\n\n      var onSuccess = function(data) {\n        getEducations();\n        vm.isShowAddEducation = false;\n      };\n      var onFailure = function(data) {};\n\n      $log.debug('addEducations()');\n      $log.debug(vm.sEducation);\n\n      userEducation\n        .create(vm.sEducation)\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n\n    vm.updateEducation = function(id) {\n      var getByIdFilter = $filter('getById');\n      var education = getByIdFilter(vm.educations, id);\n\n      $log.debug(education);\n\n      var onSuccess = function() {\n        getEditableObject(id).$hide();\n      };\n      var onFailure = function() {\n        /**\n         * TODO: show error msg\n         */\n      };\n\n      userEducation\n        .update(education)\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n\n    vm.deleteEducation = function(id) {\n      var onSuccess = function() {\n        getEditableObject(id).$hide();\n        getEducations();\n      };\n      var onFailure = function() {\n        /**\n         * TODO: show error msg\n         */\n      };\n\n      userEducation\n        .dropById(id)\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n\n    vm.editableFormShow = function(id) {\n\n      getEditableObject(id).$show();\n    };\n\n    vm.editableIsVisible = function(id) {\n\n      $log.debug('vm.editableIsVisible()');\n\n      var editableObj = getEditableObject(id);\n\n      if (editableObj == null) {\n        return false;\n      }\n\n      var visible = editableObj.$visible;\n\n      return visible;\n    };\n\n    vm.editableFormCancel = function(id) {\n      getEditableObject(id).$cancel();\n    };\n\n    vm.setAddEducationVisible = function() {\n      vm.isShowAddEducation = true;\n    };\n\n    vm.setAddEducationInvisible = function() {\n      vm.isShowAddEducation = false;\n    };\n\n    vm.onShowEditableForm = function(id) {\n      var formElement = angular.element(document).find('form[name=\"vm.education' + id + '\"]');\n      formElement.addClass('editable-form-section');\n    };\n\n    vm.onHideEditableForm = function(id) {\n      var formElement = angular.element(document).find('form[name=\"vm.education' + id + '\"]');\n      formElement.removeClass('editable-form-section');\n    }\n  }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('vmsFrontend')\n        .controller('RegisterSuccessController', RegisterSuccessController);\n\n    /** @ngInject */\n    function RegisterSuccessController($log, $location) {\n        var vm = this;\n        vm.volunteer = $location.search();\n    }\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('RegisterPrivacyController', RegisterPrivacyController);\n\n  /** @ngInject */\n  function RegisterPrivacyController() {\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('RegisterController', RegisterController);\n\n  /** @ngInject */\n  function RegisterController($log, $state, fieldName, defaultAvatarPath, userProfile, vmsErrorMessage, $scope, cities, vmsLocalStorage) {\n    var vm = this;\n    vm.cities = cities;\n\n    $log.log('RegisterController');\n\n    vm.showAvatar = defaultAvatarPath;\n\n    vm.datePicker = {\n      mode: 'year',\n      dateOptions: {\n        datepickerMode: \"'year'\",\n        minMode: \"'year'\",\n        minDate: \"minDate\",\n        showWeeks: \"false\"\n      },\n      status: {\n        opened: false\n      },\n      format: 'yyyy'\n    };\n\n    vm.register = function() {\n      $log.debug('=== register ===');\n\n      $log.debug(vm.volunteer);\n\n      if (vm.showAvatar != defaultAvatarPath) {\n        vm.volunteer.avatar = vm.showAvatar;\n      }\n\n      var onSuccess = function(response) {\n        $state.go('registerSuccess', {\n          last_name: vm.volunteer.last_name,\n          email: vm.volunteer.email\n        });\n      };\n      var onFailure = function(alert) {\n        $log.debug(alert);\n        vm.alerts = [];\n        vm.alerts.push(alert);\n\n        $log.debug(vm.alerts);\n      };\n\n      // Password confirmation\n      if (vm.volunteer.password != vm.passwordConfirm) {\n        vm.alert = [];\n        vm.alert.push({\n          type: 'danger',\n          message: '密碼不相符'\n        });\n\n        return;\n      }\n      userProfile\n        .create(vm.volunteer, 'volunteer')\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n\n    vm.selectAvatar = function(event, fileReader, file, fileList, fileObjects, object) {\n      var base64Image = \"data:\" + object.filetype + ';base64,' + object.base64\n      vm.showAvatar = base64Image;\n    };\n\n    vm.openDatePicker = function($event) {\n      $log.debug(\"click openDatePicker\");\n      $event.preventDefault();\n      $event.stopPropagation();\n      vm.datePicker.status.opened = true;\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ManageProjectMemberController', ManageProjectMemberController);\n\n  /** @ngInject */\n  function ManageProjectMemberController(\n    $log,\n    membersData,\n    vmsClient\n  ) {\n    var vm = this;\n    var customFields = membersData.data.custom_fields.data;\n    vm.getCustomFieldById = getCustomFieldById;\n\n    vm.members = membersData.data.members.data;\n\n    $log.debug('vm.members');\n\n    $log.debug(vm.members);\n\n    function getCustomFieldById(id) {\n      var customField;\n      angular.forEach(customFields, function(item, key) {\n        if (item.id == id) {\n          customField = item;\n        }\n      });\n\n      $log.debug('getCustomFieldById');\n      $log.debug(customField);\n\n      return customField;\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ViewAllCustomFieldDataController', ViewAllCustomFieldDataController);\n\n  /** @ngInject */\n  function ViewAllCustomFieldDataController($log, $stateParams, vmsClient) {\n    var vm = this;\n    var projectId = $stateParams.projectId;\n\n    angular.element(document).ready(getAllMembersCustomFieldData);\n\n    function getAllMembersCustomFieldData() {\n      var onSuccess = function(response) {\n        $log.debug(response.data);\n        vm.rawList = response.data;\n        vm.memberCustomFieldDataList = mapping(response.data);\n      };\n      var onFailure = function(response) {\n        $log.debug(response);\n      };\n\n      vmsClient.getAllMembersCustomFieldData(projectId)\n        .then(onSuccess)\n        .catch(onFailure);\n    }\n\n    function mapping(list) {\n      $log.debug('### mapping() ###');\n      var result = [];\n\n      angular.forEach(list.data, function(item) {\n        var memberId = parseInt(item.relationships.member.data.id);\n        $log.debug(item);\n\n        if (!angular.isDefined(result[memberId])) {\n          result[memberId] = [];\n        }\n\n        result[memberId].push(item);\n      });\n\n      $log.debug(result);\n\n      return result;\n    }\n\n    vm.getIncludedMember = function(id) {\n      var result = false;\n\n      $log.debug('=== getIncludedMember ===');\n      $log.debug(id);\n\n      angular.forEach(vm.rawList.included, function(value) {\n        if (value.type == 'members' && value.id == id) {\n          result = value.attributes;\n        }\n      });\n\n      return result;\n    };\n\n    vm.getIncludedCustomField = function(id) {\n      var result = false;\n\n      angular.forEach(vm.rawList.included, function(value) {\n        if (value.type == 'project_custom_fields' && value.id == id) {\n          result = value.attributes;\n        }\n      });\n\n      return result;\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ShowProjectListController', ShowProjectListController);\n\n  /** @ngInject */\n  function ShowProjectListController($log, projects) {\n    var vm = this;\n    vm.setSearchField = setSearchField;\n\n    vm.searchField = 'name';\n    vm.projects = projects;\n\n    function setSearchField(field) {\n      vm.searchProject = undefined;\n      vm.searchField = field;\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('MyProjectDetailController', MyProjectDetailController);\n\n  /** @ngInject */\n  function MyProjectDetailController($log, $uibModal, vmsClient, projectData, members, PERMISSION_OPTIONS, $sce) {\n    var vm = this;\n    vm.permissionOptions = PERMISSION_OPTIONS;\n    vm.project = projectData.data;\n    vm.membersList = members;\n\n    vm.attend = function() {\n      var onSuccess = function(response) {\n        $log.debug('attendProject() success');\n      };\n      var onFailure = function(response) {\n        $log.debug('attendProject() failure');\n      }\n\n      vmsClient.attendProject(projectId)\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n\n    vm.trustAsHtml = function(html) {\n      return $sce.trustAsHtml(html);\n    };\n\n    vm.showMember = function(member) {\n      $log.debug(\"showMemeber\");\n      $log.debug(member);\n\n      var templateString = '<div class=\"modal-header\"><h4>{{ vm.member.attributes.username }} 已參加的專案</h4></div>' +\n        '<div class=\"modal-body\"><show-attending-projects member-id=\"vm.member.id\"></show-attending-projects></div>'\n\n      $uibModal.open({\n        animation: true,\n        template: templateString,\n        controller: function(member) {\n          $log.debug(\"modal Controller\");\n\n          var vm = this;\n          vm.member = member;\n\n          $log.debug(\"vm.member\");\n          $log.debug(vm.member);\n        },\n        controllerAs: 'vm',\n        resolve: {\n          member: function() {\n            return member;\n          }\n        }\n      });\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ProjectPanelController', ProjectPanelController);\n\n  /** @ngInject */\n  function ProjectPanelController($log, projectData) {\n    var vm = this;\n    vm.project = projectData.data;\n    vm.meta = projectData.meta;\n\n    $log.debug(vm.project);\n\n    vm.isGuest = function() {\n      if (angular.isDefined(vm.project)) {\n        return vm.meta.role.name == 'guest';\n      }\n\n      return false;\n    };\n\n    vm.isCreator = function() {\n      $log.debug('isCreator()');\n      if (angular.isDefined(vm.project)) {\n        return vm.meta.role.name == 'creator';\n      }\n\n      return false;\n    };\n\n    vm.isMember = function() {\n      if (angular.isDefined(vm.project)) {\n        return vm.meta.role.name == 'member';\n      }\n\n      return false;\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ProjectDetailController', ProjectDetailController);\n\n  /** @ngInject */\n  function ProjectDetailController(\n    $log,\n    $state,\n    $stateParams,\n    vmsClient,\n    project,\n    PERMISSION_OPTIONS) {\n    var vm = this;\n    vm.permissionOptions = PERMISSION_OPTIONS;\n\n    vm.projectId = $stateParams.id;\n\n    angular.element(document).ready(getProject(vm.projectId));\n    angular.element(document).ready(getProjectMembers(vm.projectId));\n\n    vm.isGuest = function() {\n      if (angular.isDefined(vm.project)) {\n        return vm.meta.role.name == 'guest';\n      }\n\n      return false;\n    };\n\n    vm.isCreator = function() {\n      $log.debug('isCreator()');\n      if (angular.isDefined(vm.project)) {\n        return vm.meta.role.name == 'creator';\n      }\n\n      return false;\n    };\n\n    vm.isMember = function() {\n      if (angular.isDefined(vm.project)) {\n        return vm.meta.role.name == 'member';\n      }\n\n      return false;\n    }\n\n    vm.attend = function() {\n      var onSuccess = function(response) {\n        $log.debug('attendProject() success');\n        $state.reload();\n      };\n      var onFailure = function(response) {\n        $log.debug('attendProject() failure');\n      }\n\n      vmsClient.attendProject(vm.projectId)\n        .then(onSuccess)\n        .catch(onFailure);\n    }\n\n    function getProject(id) {\n      $log.debug(\"getProject()\");\n\n      var onSuccess = function(value) {\n        vm.project = value.data;\n        vm.meta = value.meta;\n      };\n      var onFailure = function(response) {\n        $log.debug(response);\n      };\n\n      project\n        .getById(id)\n        .then(onSuccess)\n        .catch(onFailure);\n    }\n\n    function getProjectMembers(id) {\n      var onSuccess = function(response) {\n        vm.membersList = response.data;\n        $log.debug(response.data);\n      };\n      var onFailure = function(response) {\n        $log.debug(response);\n      };\n\n      vmsClient.getProjectMembers(id)\n        .then(onSuccess)\n        .catch(onFailure);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('MyEditProjectController', MyEditProjectController);\n\n  /** @ngInject */\n  function MyEditProjectController(\n    $log,\n    project,\n    projectData,\n    projectHyperlink,\n    lodash,\n    PERMISSION_OPTIONS,\n    FROALA_OPTIONS) {\n    var vm = this;\n    vm.project = projectData.data;\n    vm.hyperlinks;\n    vm.permissionOptions = PERMISSION_OPTIONS;\n    vm.froalaOptions = FROALA_OPTIONS;\n\n    vm.update = function() {\n      var onSuccess = function(response) {\n        $log.debug('project update successfully');\n        $log.debug(response.data);\n      };\n      var onFailure = function(response) {\n        $log.error('project update failure');\n        $log.error(response);\n      };\n\n      project\n        .update(vm.project)\n        .then(onSuccess)\n        .catch(onFailure);\n\n      createOrUpdateHyperlinks();\n    };\n\n    function createOrUpdateHyperlinks() {\n      var newHyperlinks = lodash.filter(vm.hyperlinks, function(item) {\n        return !angular.isDefined(item.id);\n      });\n\n      var updateHyperlinks = lodash.filter(vm.hyperlinks, function(item) {\n        return angular.isDefined(item.id);\n      });\n\n      $log.debug(\"newHyperlinks\");\n      $log.debug(newHyperlinks);\n\n      $log.debug(\"updateHyperlinks\");\n      $log.debug(updateHyperlinks);\n\n      projectHyperlink.createOrUpdate(\n        vm.project.id,\n        newHyperlinks,\n        updateHyperlinks);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('ManagedProjectListController', ManagedProjectListController);\n\n  /** @ngInject */\n  function ManagedProjectListController($log, $uibModal, vmsClient, project) {\n    var vm = this;\n\n    angular.element(document).ready(getProjects());\n\n    function getProjects() {\n      var onSuccess = function(response) {\n        console.log(response.data);\n        vm.projects = response.data;\n      };\n      var onFailure = function() {};\n\n      project\n        .getManagedProjectList()\n        .then(function(value) {\n          $log.debug(value);\n          vm.projects = value.data;\n        })\n        .catch(function(alert) {\n          vm.alert = alert;\n        });\n    }\n\n    // Modal\n    vm.delete = function(projectId) {\n      vm.deletedProjectId = projectId;\n\n      var modal = $uibModal.open({\n        animation: true,\n        templateUrl: 'deleteProject.html',\n        controller: function($uibModalInstance) {\n          var vm = this;\n\n          vm.remind = '提醒您，帳號刪除後無法再還原，如果您確定要刪除帳號。';\n          vm.ok = function() {\n            $log.debug('=== ok ===');\n          };\n          vm.cancel = function() {\n            $uibModalInstance.dismiss('cancel');\n          };\n        },\n        controllerAs: 'vm'\n      });\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('EditProjectController', EditProjectController);\n\n  /** @ngInject */\n  function EditProjectController(\n    $log,\n    $stateParams,\n    vmsClient,\n    project,\n    PERMISSION_OPTIONS,\n    FROALA_OPTIONS) {\n    var vm = this;\n    vm.permissionOptions = PERMISSION_OPTIONS;\n    vm.froalaOptions = FROALA_OPTIONS;\n    vm.projectId = $stateParams.id;\n    vm.project = project;\n\n    $log.debug('=== project ===');\n    $log.debug(project);\n    $log.debug(\"=== vm.froalaOptions ===\");\n    $log.debug(vm.froalaOptions);\n\n    vm.update = function() {\n      var onSuccess = function(response) {\n        $log.debug('project update successfully');\n        $log.debug(response.data);\n      };\n      var onFailure = function(response) {\n        $log.error('project update failure');\n        $log.error(response);\n      };\n\n      vmsClient.updateProject(vm.project).then(onSuccess).catch(onFailure);\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('CreateProjectController', CreateProjectController);\n\n  /** @ngInject */\n  function CreateProjectController(\n    $log,\n    $state,\n    $translate,\n    project,\n    projectHyperlink,\n    PERMISSION_OPTIONS,\n    FROALA_OPTIONS\n  ) {\n    var vm = this;\n    vm.permissionOptions = PERMISSION_OPTIONS;\n    vm.froalaOptions = FROALA_OPTIONS;\n    vm.hyperlinks = [\n      {\n        name: '',\n        link: ''\n      }\n    ];\n\n    vm.create = function() {\n      vm.alert = [];\n\n      project\n        .create(vm.project)\n        .then(function(value) {\n          $log.debug(value);\n\n          var projectId = value.data.id;\n\n          storeHyperlinks(projectId);\n        })\n        .catch(function(alert) {\n          vm.alert.push(alert);\n        });\n    };\n\n    function storeHyperlinks(projectId) {\n      projectHyperlink\n        .create(projectId, vm.hyperlinks)\n        .then(function() {\n          $log.debug(\"storeHyperlinks() success\");\n          $log.debug(\"projectId = \" + projectId);\n\n          $state.go('projectDetail', {\n            id: projectId\n          });\n        })\n        .catch(function() {\n          $log.debug(\"storeHyperlinks() failure\");\n        })\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('AttendingProjectListController', AttendingProjectListController);\n\n  /** @ngInject */\n  function AttendingProjectListController($log, vmsClient) {\n    var vm = this;\n\n    angular.element(document).ready(getProjects());\n\n    function getProjects() {\n      var onSuccess = function(response) {\n        console.log(response.data);\n        vm.projects = response.data;\n      };\n      var onFailure = function() {};\n\n      vmsClient.getAttendingProject()\n        .then(onSuccess).catch(onFailure);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('LoginController', LoginController);\n\n  /** @ngInject */\n  function LoginController($log, userAuthentication, $rootScope, $state) {\n    var vm = this;\n    vm.alert = [];\n\n    vm.login = function() {\n\n      $log.debug('=== vm.role ===');\n      $log.debug(vm.role);\n\n      var onSuccess = function() {\n        $log.debug('login success');\n\n        // if the next state is login, it will go to profile state\n        if ($rootScope.toState.name == 'login') {\n          $state.go('profile');\n        } else {\n\n          // go to next with parameters\n          if (angular.isDefined($rootScope.toStateParams)) {\n            $state.go($rootScope.toState.name, $rootScope.toStateParams);\n          } else {\n            $state.go($rootScope.toState.name);\n          }\n        }\n      };\n      var onFailure = function(alert) {\n        $log.debug('login error');\n        $log.debug(alert);\n\n        vm.alert = [];\n        vm.alert.push(alert);\n      };\n\n      userAuthentication\n        .login(vm.credentials, vm.role)\n        .then(onSuccess)\n        .catch(onFailure);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('EmailVerificationController', EmailVerificationController);\n\n  /** @ngInject */\n  function EmailVerificationController($log, $location, vmsClient, authPrinciple, $state, $rootScope, $timeout) {\n    var vm = this;\n    vm.verification = true;\n    vm.verificationSuccess = false;\n    vm.verificationStatus = vm.verification || vm.verificationSuccess;\n\n    $log.debug(\"vm.verification \" + vm.verification);\n    $log.debug(\"vm.verificationSuccess \" + vm.verificationSuccess);\n    $log.debug(\"vm.verificationStatus \" + vm.verificationStatus);\n\n    vm.volunteer = $location.search();\n\n    if (angular.isDefined(vm.volunteer.email) && angular.isDefined(vm.volunteer.verification_token)) {\n\n      angular.element(document).ready(verify());\n    } else {\n      $log.debug(\"verification false\");\n      vm.verification = false;\n      vm.verificationStatus = vm.verification || vm.verificationSuccess;\n\n      $log.debug(\"vm.verificationStatus \" + vm.verificationStatus);\n    }\n\n    function verify() {\n      $log.debug(\"EmailVerificationController verify()\");\n\n      $log.debug(\"email = \" + vm.volunteer.email);\n      $log.debug(\"verification_token = \" + vm.volunteer.verification_token);\n\n      var successCallback = function(response) {\n        $log.debug('emailVerification success');\n        $log.debug(response);\n\n        vm.verification = false;\n        vm.verificationSuccess = true;\n        vm.verificationStatus = vm.verification || vm.verificationSuccess;\n\n        $timeout(function() {\n          $state.go('profile')\n        }, 5000);\n      };\n\n      var failureCallback = function(response) {\n        $log.debug('emailVerification error');\n        $log.debug(response);\n\n        vm.verification = false;\n        vm.verificationStatus = vm.verification || vm.verificationSuccess;\n      };\n\n      vmsClient.emailVerification(vm.volunteer.email,\n        vm.volunteer.verification_token)\n        .then(successCallback)\n        .catch(failureCallback);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('EditVolunteerProfileController', EditVolunteerProfileController);\n\n  /** @ngInject */\n  function EditVolunteerProfileController(\n    $log,\n    userProfile,\n    cities\n  ) {\n    var vm = this;\n    vm.cities = cities;\n\n    vm.datePicker = {\n      mode: 'year',\n      dateOptions: {\n        datepickerMode: 'year',\n        minMode: \"'year'\",\n        // minDate: \"minDate\",\n        showWeeks: \"false\"\n      },\n      status: {\n        opened: false\n      },\n      format: 'yyyy'\n    };\n\n    vm.openDatePicker = function($event) {\n      $event.preventDefault();\n      $event.stopPropagation();\n      vm.datePicker.status.opened = true;\n    };\n\n    // In the begining, it gets the volunteer's profile\n    angular.element(document).ready(getProfile());\n\n    function getProfile() {\n      var doneCallbacks = function(value) {\n          vm.profile = value.data;\n\n          $log.debug(vm.profile);\n        },\n        failCallbacks = function(response) {\n          $log.debug(response);\n        };\n\n      userProfile\n        .get()\n        .then(doneCallbacks, failCallbacks);\n    }\n\n    vm.updateAboutAndContact = function() {\n      var onSuccess = function(value) {\n        $log.debug(value);\n        vm.profile = value.data;\n\n        vm.alert = [];\n        vm.alert.push({\n          type: 'success',\n          data: {\n            message: 'alert.success.update_successfully'\n          }\n        });\n      };\n\n      $log.debug(vm.profile);\n\n      userProfile\n        .update(vm.profile)\n        .then(onSuccess);\n    };\n\n    vm.selectAvatar = function(event, fileReader, file, fileList, fileObjects, object) {\n      var base64Image = \"data:\" + object.filetype + ';base64,' + object.base64;\n\n      userProfile\n        .updateAvatar(base64Image, true)\n        .then(function(value) {\n          var data = value.data;\n\n          vm.profile.avatar_url = data.avatar_url;\n        })\n\n      vm.avatar = base64Image;\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .controller('EditSkillEquipmentController', EditSkillEquipmentController);\n\n  function EditSkillEquipmentController(userEquipment, userSkill, arrayHelpersService, $scope, $log) {\n    var vm = this;\n    vm.equipment = [];\n    vm.skills = [];\n    vm.skillCandidatedKeywords = [];\n    vm.equipmentCandidatedKeywords = [];\n    $scope.originSkills = [];\n    $scope.originEquipment = [];\n\n    angular.element(document).ready(getSkills);\n    angular.element(document).ready(getEquipment);\n\n    function getSkills() {\n      var onSuccess = function(value) {\n        $log.debug(value.skills);\n\n        vm.skills = value.skills;\n        $scope.originSkills = angular.copy(value.skills);\n\n        $log.debug('### $scope.originSkills ###');\n        $log.debug($scope.originSkills);\n      };\n\n      var onFailure = function(data) {\n        /**\n         * TODO: show error msg\n         */\n      };\n\n      userSkill.getAll()\n        .then(onSuccess)\n        .catch(onFailure);\n    }\n\n    function getEquipment() {\n      var onSuccess = function(value) {\n        $log.debug(value.equipment);\n\n        vm.equipment = value.equipment;\n        $scope.equipment = angular.copy(value.equipment);\n\n        $log.debug('### $scope.equipment ###');\n        $log.debug($scope.equipment);\n      };\n\n      var onFailure = function(data) {\n        /**\n         * TODO: show error msg\n         */\n      };\n\n      userEquipment\n        .getAll()\n        .then(onSuccess)\n        .catch(onFailure);\n    }\n\n    vm.refreshSkillCandidatedKeywords = function(skill) {\n      $log.debug('search skill keyword');\n      $log.debug(skill);\n\n      var onSuccess = function(result) {\n        $log.debug('refreshSkillCandidatedKeywords onSuccess()');\n        $log.debug(result);\n        return result;\n      };\n\n      return userSkill\n        .getCandidatedKeywords(skill)\n        .then(onSuccess);\n    };\n\n    vm.refreshEquipmentCandidateKeywords = function(equipment) {\n      $log.debug('search equipment keyword');\n      $log.debug(equipment);\n\n      var onSuccess = function(result) {\n        $log.debug('refreshEquipmentCandidateKeywords onSuccess()');\n        $log.debug(result);\n        return result;\n      };\n\n      return userEquipment\n        .getCandidatedKeywords(equipment)\n        .then(onSuccess);\n    };\n\n    vm.updateSkills = function() {\n      $log.debug('updateSkills()');\n      $log.debug(vm.skills);\n\n      var onSuccess = function() {\n        getSkills();\n      };\n      var onFailure = function(data) {\n        /**\n         * TODO: show error msg\n         */\n      };\n\n      $log.debug('$scope.originSkills');\n      $log.debug($scope.originSkills);\n\n      $log.debug('vm.skills');\n      $log.debug(vm.skills);\n\n      var existingIndexes = arrayHelpersService.getExistingIndexes($scope.originSkills, vm.skills);\n\n      $log.debug('existingIndexes');\n      $log.debug(existingIndexes);\n\n      userSkill\n        .update(vm.skills, existingIndexes)\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n\n    vm.updateEquipment = function() {\n      $log.debug('updateEquipment()');\n      $log.debug(vm.equipment);\n\n      var onSuccess = function() {\n        getSkills();\n      };\n      var onFailure = function(data) {\n        /**\n         * TODO: show error msg\n         */\n      };\n\n      $log.debug('$scope.originEquipment');\n      $log.debug($scope.originEquipment);\n\n      var existingIndexes = arrayHelpersService.getExistingIndexes($scope.originEquipment, vm.equipment);\n\n      $log.debug('existingIndexes');\n      $log.debug(existingIndexes);\n\n      userEquipment\n        .update(vm.equipment, existingIndexes)\n        .then(onSuccess)\n        .catch(onFailure);\n    };\n  }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('vmsFrontend')\n        .controller('AboutController', AboutController);\n\n\n    function AboutController() {\n        var vm = this;\n        vm.aboutVMS = \"志工管理系統(Volunteer Management System, VMS)\";\n    }\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, vmsLocalStorage, $rootScope, $state, $stateParams, $urlRouter, editableOptions) {\n    editableOptions.theme = 'bs3';\n\n    // Listen state check start event\n    var stateChangeForAuthorizationCallback = $rootScope.$on('$stateChangeStart', function(event, toState, toStateParams) {\n      $log.debug(\"=== $stateChangeStart ===\");\n      $log.debug(\"###### state debug ######\");\n      $log.debug(toState);\n      $log.debug(toStateParams);\n      $log.debug(\"##########\");\n\n      $rootScope.toState = toState;\n    });\n\n    var stateChangeLoggingError = $rootScope.$on('$stateChangeError', function(event, toState, toParams, fromState, fromParams, error) {\n      $log.error(\"stateChangeLoggingError\");\n      $log.error(event)\n      $log.error(error);\n    });\n\n    var urlRouterSyncDeregisteratinoCallback = $rootScope.$on('$locationChange', function(event) {\n      event.preventDefault();\n      $urlRouter.sync();\n    });\n\n    var scrollToTopPageCallback = $rootScope.$on('$stateChangeSuccess', function() {\n      document.body.scrollTop = document.documentElement.scrollTop = 0;\n    });\n\n\n\n\n    $rootScope.$on('$destroy', stateChangeForAuthorizationCallback);\n    $rootScope.$on('$destroy', urlRouterSyncDeregisteratinoCallback);\n    $rootScope.$on('$destroy', scrollToTopPageCallback);\n    $rootScope.$on('$destroy', stateChangeLoggingError);\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('site', {\n        abstract: true,\n        resolve: {\n          authorize: function(userAuthentication, $log, $state) {\n            $log.debug(\"=== authorize === \");\n            var successCallback = function() {\n              $log.debug('successCallback()');\n            };\n            var failureCallback = function() {\n              $log.debug(\"failureCallback()\");\n              $state.go('login');\n            };\n\n            return userAuthentication.authorize()\n              .then(successCallback)\n              .catch(failureCallback);\n          }\n        }\n      })\n      .state('user', {\n        parent: 'site',\n        url: '/user',\n      })\n      .state('login', {\n        url: '/login',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/login/login.html',\n            controller: 'LoginController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('registerPrivacy', {\n        url: '/register-privacy',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/registerPrivacy/registerPrivacy.html',\n            controller: 'RegisterPrivacyController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('register', {\n        url: '/register',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/register/register.html',\n            controller: 'RegisterController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('registerSuccess', {\n        parent: 'site',\n        url: '/register/success?last_name&email', // NEED to add paramters\n        params: {\n          last_name: {\n            value: \"志工\" // default value\n          },\n          email: {\n            value: \"註冊\" // default value\n          }\n        },\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/registerSuccess/registerSuccess.html',\n            controller: 'RegisterSuccessController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('forgotPassword', {\n        url: '/forgot-password',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/user/forgotPassword/forgotPassword.html',\n            controller: 'ForgotPasswordController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('resetPassword', {\n        url: '/reset-password?token&email',\n        params: {\n          token: {\n            value: \"none\"\n          },\n          email: {\n            value: \"none\"\n          }\n        },\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/user/resetPassword/resetPassword.html',\n            controller: 'ResetPasswordController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('profile', {\n        parent: 'site',\n        url: '/profile',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/volunteerProfile/volunteerProfile.html',\n            controller: 'ProfileController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('rootEditProfile', {\n        parent: 'site',\n        url: '/profile',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/editVolunteerProfile/editVolunteerProfile.html'\n          }\n        }\n      })\n      .state('rootEditProfile.edit', {\n        url: '/edit',\n        views: {\n          'profileContent': {\n            templateUrl: 'app/editVolunteerProfile/aboutAndContact.html',\n            controller: 'EditVolunteerProfileController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('rootEditProfile.aboutContact', {\n        url: '/edit/about',\n        views: {\n          'profileContent': {\n            templateUrl: 'app/editVolunteerProfile/aboutAndContact.html',\n            controller: 'EditVolunteerProfileController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('rootEditProfile.experienceEducation', {\n        url: '/edit/experience-education',\n        views: {\n          'profileContent': {\n            templateUrl: 'app/volunteerExperienceEducation/experienceAndEducation.html',\n          },\n          'experienceContent@rootEditProfile.experienceEducation': {\n            templateUrl: 'app/volunteerExperience/experience.html',\n            controller: 'VolunteerExperienceController',\n            controllerAs: 'vm'\n          },\n          'educationContent@rootEditProfile.experienceEducation': {\n            templateUrl: 'app/volunteerEducation/education.html',\n            controller: 'VolunteerEducationController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('rootEditProfile.skillEquipment', {\n        url: '/edit/skill-equipment',\n        views: {\n          'profileContent': {\n            templateUrl: 'app/editSkillEquipment/editSkillEquipment.html',\n            controller: 'EditSkillEquipmentController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('rootEditProfile.changePassword', {\n        url: '/change-password',\n        views: {\n          'profileContent': {\n            templateUrl: 'app/user/changePassword/changePassword.html',\n            controller: 'ChangePasswordController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('emailVerification', {\n        parent: 'site',\n        url: '/email-verification?email&verification_token',\n        params: {\n          email: {\n            value: \"\"\n          },\n          verification_token: {\n            value: \"\"\n          }\n        },\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/emailVerification/emailVerification.html',\n            controller: 'EmailVerificationController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('introduction', {\n        url: '/',\n        views: {\n          'introductionContent@': {\n            templateUrl: 'app/about/about.html',\n            controller: 'AboutController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('copyright', {\n        parent: 'site',\n        url: '/copyright',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/copyrightPage/copyright.html'\n          }\n        }\n      })\n      .state('createProject', {\n        parent: 'site',\n        url: '/projects/create',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/project/createProject.html',\n            controller: 'CreateProjectController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('managedProjectList', {\n        parent: 'site',\n        url: '/projects/show/managed',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/project/managedProjectList.html',\n            controller: 'ManagedProjectListController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('attendingProjectList', {\n        parent: 'site',\n        url: '/projects/show/attending',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/project/attendingProjectList.html',\n            controller: 'AttendingProjectListController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('editProject', {\n        parent: 'site',\n        url: '/projects/:id/edit',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/project/editProject.html',\n            controller: 'EditProjectController',\n            controllerAs: 'vm'\n          }\n        },\n        resolve: {\n          project: function($stateParams, $log, vmsClient) {\n\n            var id = $stateParams.id;\n            var onSuccess = function(response) {\n              return response.data;\n            };\n\n            return vmsClient.getProject(id).then(onSuccess);\n          }\n        }\n      })\n      .state('project', {\n        parent: 'site',\n        url: '/manage-project',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/project/projectTplPage.html'\n          }\n        }\n      })\n      .state('project.show', {\n        url: '/show/:projectId',\n        views: {\n          'panel': {\n            templateUrl: 'app/project/projectPanel.html',\n            controller: 'ProjectPanelController',\n            controllerAs: 'vm'\n          },\n          'container': {\n            templateUrl: 'app/project/projectDetailTpl.html',\n            controller: 'MyProjectDetailController',\n            controllerAs: 'vm'\n          }\n        },\n        resolve: {\n          projectData: getProject,\n          members: function($stateParams, vmsClient) {\n            var id = $stateParams.projectId;\n            var onSuccess = function(response) {\n              return response.data;\n            };\n\n            return vmsClient.getProjectMembers(id)\n              .then(onSuccess);\n          }\n        }\n      })\n      .state('project.edit', {\n        url: '/edit/:projectId',\n        views: {\n          'panel': {\n            templateUrl: 'app/project/projectPanel.html',\n            controller: 'ProjectPanelController',\n            controllerAs: 'vm'\n          },\n          'container': {\n            templateUrl: 'app/project/editProjectTpl.html',\n            controller: 'MyEditProjectController',\n            controllerAs: 'vm'\n          }\n        },\n        resolve: {\n          projectData: getProject,\n          members: function($stateParams, vmsClient) {\n            var id = $stateParams.projectId;\n            var onSuccess = function(response) {\n              return response.data;\n            };\n\n            return vmsClient.getProjectMembers(id)\n              .then(onSuccess);\n          }\n        }\n      })\n      .state('project.manageCustomField', {\n        url: '/:projectId/manage-custom-field',\n        views: {\n          'panel': {\n            templateUrl: 'app/project/projectPanel.html',\n            controller: 'ProjectPanelController',\n            controllerAs: 'vm'\n          },\n          'container': {\n            templateUrl: 'app/project/customField/manage/manageProjectCustomField.html',\n            controller: 'ManageProjectCustomFieldsController',\n            controllerAs: 'vm'\n          }\n        },\n        resolve: {\n          projectData: getProject,\n          members: function($stateParams, vmsClient) {\n            var id = $stateParams.projectId;\n            var onSuccess = function(response) {\n              return response.data;\n            };\n\n            return vmsClient.getProjectMembers(id)\n              .then(onSuccess);\n          }\n        }\n      })\n      .state('project.manageMembers', {\n        url: '/:projectId/manage-members',\n        views: {\n          'panel': {\n            templateUrl: 'app/project/projectPanel.html',\n            controller: 'ProjectPanelController',\n            controllerAs: 'vm'\n          },\n          'container': {\n            templateUrl: 'app/projectMember/manageProjectMemberList.html',\n            controller: 'ManageProjectMemberController',\n            controllerAs: 'vm'\n          }\n        },\n        resolve: {\n          projectData: getProject,\n          membersData: function($stateParams, vmsClient) {\n            var id = $stateParams.projectId;\n            var onSuccess = function(response) {\n              return response.data;\n            };\n\n            return vmsClient.getAllMembersCustomFieldData(id)\n              .then(onSuccess);\n          }\n        }\n      })\n      .state('showAllProjects', {\n        parent: 'site',\n        url: '/projects/show/all',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/project/showProjectList.html',\n            controller: 'ShowProjectListController',\n            controllerAs: 'vm'\n          }\n        },\n        resolve: {\n          projects: function(project, $log) {\n            $log.debug(\"projectList resolve\");\n\n            var onSuccess = function(value) {\n              $log.debug(\"projectList onSuccess()\");\n              $log.debug(value);\n\n              return value.data;\n            };\n            var onError = function() {\n              $log.debug(\"projectList onError()\");\n            };\n\n            return project.getAll()\n              .then(onSuccess)\n              .catch(onError);\n          }\n        }\n      })\n      .state('projectDetail', {\n        parent: 'site',\n        url: '/projects/:id/show',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/project/projectDetail.html',\n            controller: 'ProjectDetailController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('fillProjectCustomFieldData', {\n        parent: 'site',\n        url: '/projects/:projectId/fill-custom-fields',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/project/customField/fill/fillCustomFields.html',\n            controller: 'FillCustomFieldsController',\n            controllerAs: 'vm'\n          },\n        }\n      })\n      .state('showAllMembersCustomFieldData', {\n        parent: 'site',\n        url: '/projects/:projectId/all-members-custom-fields-data',\n        views: {\n          'mainContent@': {\n            templateUrl: 'app/projectCustomFields/viewAllCustomFieldData.html',\n            controller: 'ViewAllCustomFieldDataController',\n            controllerAs: 'vm'\n          },\n        }\n      });\n\n    $urlRouterProvider.otherwise('/');\n\n    function getProject($stateParams, $log, project) {\n      var id = $stateParams.projectId;\n      var onSuccess = function(value) {\n        return value;\n      };\n\n      return project.getById(id).then(onSuccess);\n    }\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment)\n    .constant('apiBaseUrl', 'https://vms-dev.herokuapp.com/api')\n    // .constant('apiBaseUrl', 'http://vms.app/api')\n    .constant('apiKey', '581dba93a4dbafa42a682d36b015d8484622f8e3543623bec5a291f67f5ddff1')\n    .constant('fieldName', {\n      first_name: '姓氏',\n      last_name: '名字',\n      username: '帳號',\n      password: '密碼',\n      email: '電子郵件'\n    })\n    .constant('defaultAvatarPath', './assets/images/profile-default-avatar.png')\n    .constant('LOCAL_STORAGE_CONFIG', {\n      keys: {\n        jwt: 'jwt_token',\n        userName: 'user_name',\n        lastName: 'last_name',\n        role: 'role',\n        avatarPath: 'avatar_path'\n      }\n    })\n    .constant('BROADCAST_EVENTS_LIST', {\n      AUTHENTICATED_SUCCESS_EVENT: '$authenticatedSuccessEvent',\n      AUTHENTICATED_FAILURE_EVENT: '$authenticatedFailureEvent'\n    })\n    .constant('cities', [{\n      id: 2,\n      name_zh_tw: '臺北市'\n    }, {\n      id: 12,\n      name_zh_tw: '新北市'\n    }, {\n      id: 22,\n      name_zh_tw: '桃園縣'\n    }, {\n      id: 32,\n      name_zh_tw: '臺中市'\n    }, {\n      id: 42,\n      name_zh_tw: '高雄市'\n    }, {\n      id: 52,\n      name_zh_tw: '臺南市'\n    }, {\n      id: 62,\n      name_zh_tw: '新竹市'\n    }, {\n      id: 72,\n      name_zh_tw: '嘉義市'\n    }, {\n      id: 82,\n      name_zh_tw: '基隆市'\n    }, {\n      id: 92,\n      name_zh_tw: '新竹市'\n    }, {\n      id: 102,\n      name_zh_tw: '苗栗市'\n    }, {\n      id: 112,\n      name_zh_tw: '彰化縣'\n    }, {\n      id: 122,\n      name_zh_tw: '南投縣'\n    }, {\n      id: 132,\n      name_zh_tw: '雲林縣'\n    }, {\n      id: 142,\n      name_zh_tw: '嘉義縣'\n    }, {\n      id: 152,\n      name_zh_tw: '屏東縣'\n    }, {\n      id: 162,\n      name_zh_tw: '宜蘭縣'\n    }, {\n      id: 172,\n      name_zh_tw: '花蓮縣'\n    }, {\n      id: 182,\n      name_zh_tw: '臺東線'\n    }, {\n      id: 192,\n      name_zh_tw: '金門縣'\n    }, {\n      id: 202,\n      name_zh_tw: '連江縣'\n    }, {\n      id: 212,\n      name_zh_tw: '澎湖縣'\n    }\n\n    ])\n    .constant('PERMISSION_OPTIONS', [\n      {\n        name: 'project.permissions.choose_permission',\n        value: ''\n      },\n      {\n        name: 'project.permissions.all_users',\n        value: 0\n      },\n      {\n        name: 'project.permissions.registered_users',\n        value: 1\n      },\n      {\n        name: 'project.permissions.members',\n        value: 2\n      }\n    ])\n    .constant('EDUCATION_DEGREES', [\n      {\n        value: 1,\n        text: 'education.degrees.elementary'\n      },\n      {\n        value: 2,\n        text: 'education.degrees.junior'\n      },\n      {\n        value: 3,\n        text: 'education.degrees.high'\n      },\n      {\n        value: 4,\n        text: 'education.degrees.bachelor'\n      },\n      {\n        value: 5,\n        text: 'education.degrees.master'\n      },\n      {\n        value: 6,\n        text: 'education.degrees.phd'\n      }\n    ])\n    .constant('CUSTOM_FIELD_TYPES', [\n      {\n        label: '文字',\n        typeName: 'text',\n        value: 'TEXT'\n      },\n      {\n        label: '單選按鈕',\n        typeName: 'radioButton',\n        value: 'RADIO_BUTTON'\n      }\n    ])\n    .constant('FROALA_OPTIONS', {\n      language: 'en_gb',\n      heightMin: 200,\n      heightMax: 500\n    });\n\n})();\n\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vmsFrontend')\n    .config(config);\n\n  /** @ngInject */\n  function config(\n    $logProvider,\n    toastrConfig,\n    localStorageServiceProvider,\n    $httpProvider,\n    $translateProvider) {\n    // Set local storage prefix name\n    localStorageServiceProvider.setPrefix('vms');\n\n    // Interceptors\n    var interceptors = [\n      'apiKeyInjector',\n      'jwtInjector',\n      'refreshJwtInterceptor'\n    ];\n\n    // Add $http interceptors\n    for (var i = 0; i < interceptors.length; i++) {\n      $httpProvider.interceptors.push(interceptors[i]);\n    }\n\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n\n    // translation\n    $translateProvider\n      .useStaticFilesLoader({\n        'prefix': 'assets/lang/locale-',\n        'suffix': '.json'\n      });\n\n    if (angular.isDefined(window.navigator.language)) {\n      $translateProvider\n        .preferredLanguage(window.navigator.language);\n    }\n  }\n\n})();\n\nangular.module(\"vmsFrontend\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/about/about.html\",\"<div class=\\\"header-basic\\\"><h1>關於志工管理系統</h1><h2>All for one, one for all.</h2></div><div class=\\\"container\\\"><div id=\\\"introduction-container\\\" class=\\\"row\\\"><div class=\\\"col-md-6 col-xs-12\\\"><uib-carousel active=\\\"active\\\" interval=\\\"2500\\\" no-wrap=\\\"noWrapSlides\\\"><uib-slide><img ng-src=\\\"./assets/images/2004-tsunami.jpg\\\" style=\\\"margin:auto; height: 290px;\\\"><div class=\\\"carousel-caption\\\"><h4>蘇門答臘地震</h4><p>2004年12月26日，規模9.3大地震侵襲印尼，引發災難性大海嘯，造成逾29萬人喪命，印度與斯里蘭卡工程師開發自由開放軟體：SAHANA，以整合救災資源</p></div></uib-slide><uib-slide><img ng-src=\\\"https://c1.staticflickr.com/3/2363/1515287285_1c1fd6a9b1_o.jpg\\\" style=\\\"margin:auto; height: 290px;\\\"><div class=\\\"carousel-caption\\\"><h4>肯亞災難</h4><p>2007年12月27日，肯亞總統選舉後發生暴動，逾千人喪命，25萬人流離失所，肯亞工程師開發自由開放系統：USHAHIDI，蒐集各類災情資訊</p></div></uib-slide><uib-slide><img ng-src=\\\"https://c1.staticflickr.com/1/513/19445213576_7e0d9312d1_b.jpg\\\" style=\\\"margin:auto; height: 290px;\\\"><div class=\\\"carousel-caption\\\"><h4>海地、尼泊爾地震</h4><p>2010年1月12日，海地發生7級大地震、2015年5月12日，尼泊爾發生同樣7級大地震，這兩次大地震，各國網友透過開放街圖(OpenStreetMap)繪製地圖協助救災</p></div></uib-slide></uib-carousel></div><div class=\\\"col-md-6 col-xs-12\\\"><h4>透過網路，每個人都可以成為志工，透過網路救災，每個人都可以為這個世界貢獻一份心力。</h4><h4>資料、資訊、感知、決策、知識，我們透過世界傳遞智慧，透過傳遞智慧改變世界。</h4><div class=\\\"row\\\"><div class=\\\"col-md-12 col-xs-12\\\"><div style=\\\"margin-top: 30px;\\\"><button class=\\\"btn btn-lg btn-primary center-block\\\" ui-sref=\\\"registerPrivacy\\\">加入我們</button><p class=\\\"text-center\\\"><em>點擊上面按鈕加入我們</em></p></div></div></div></div></div></div><div class=\\\"ad-container\\\"><div><img class=\\\"img-responsive\\\" src=\\\"http://www.earth.sinica.edu.tw/images/bg-top.jpg\\\"></div><div class=\\\"ad-container-text\\\"><h2>合作單位 - 地球科學研究所 <span class=\\\"glyphicon glyphicon-globe\\\" aria-hidden=\\\"true\\\"></span></h2><h3>台灣的地震現況</h3><p>台灣位在歐亞與菲律賓海板塊之間的活動聚合邊界上，地殼變形劇烈，地震活動頻繁。藉由高品質的地震監測網，氣象局有能力在地震發生後的 20 秒內掌握地震的位置、規模和各地震度等資訊；我們也反演台灣即時寬頻波形記錄，快速取得地震斷層的錯動機制；另外台大廣布加速度計，可大幅提高觀測震度的空間解析度。</p><h3>我們的目的</h3><p>在中研院的主題計畫下，我們已經建置完成一套整合氣象局地震速報與學界即時科學成果的資訊系統，作為科學討論與教育推廣的平台。目前，我們著重在開發群眾外包 (crowdsourcing) 系統，收集群眾資訊，並將這些透過網路回報的資訊轉換成民眾可理解的「網路震度」， 提高民眾對地震災害的危機意識，並推廣公民地震學 (citizen seismology)。</p><h3>想要有您的參與</h3><p>我們將招募熱血專業志工，訓練如何辨識與地震相關的地質災害並進行科學描述，並與資訊科學所合作開發志工管理系統，在顯著地震發生後調度志工在安全的情況下回報地震地表災害的科學參數，協助斷定對應的孕震構造與評估後續的潛在危害。這是第一次由學界主導，在地震時和地震後收集群眾報告，彌補觀測系統的不足之處，並充實地震科學的現地資訊，提供防災應變參考。</p></div><a class=\\\"btn btn-primary btn-lg\\\" target=\\\"_blank\\\" href=\\\"http://tec.earth.sinica.edu.tw/new_web/workshop\\\">瀏覽專案</a></div><div class=\\\"flex-container\\\"><h2>Volunteer Management System, VMS</h2><div id=\\\"feature-text\\\"><p><span class=\\\"glyphicon glyphicon-wrench\\\" aria-hidden=\\\"true\\\"></span> 志工管理系統 (Volunteer Management System, VMS) 能協助專案管理員在志工外包專案中有效率且彈性的管理志工。每一位專案管理員對於志工的管理需求可能都不同，志工管理系統最大的特點將會是靈活與彈性，專案管理員將可以自由地定義需要的志工特點，也可以依照自己的管理需求選擇所需要的功能模組。</p><p><span class=\\\"glyphicon glyphicon-user\\\" aria-hidden=\\\"true\\\"></span> 志工管理系統將會是開放原始碼軟體，有需求的單位可以自建版本之外，也可提供直接的網頁操作，若單位已擁有自己的災害平台，也可直接串接志工管理系統所提供的功能模組。</p></div></div>\");\n$templateCache.put(\"app/copyrightPage/copyright.html\",\"<div id=\\\"main-content\\\" class=\\\"col-md-12 col-xs-12 col-sm-12 col-lg-12\\\"><h1>版權宣告</h1><hr class=\\\"hr\\\"><p class=\\\"lead\\\">以下為使用他人之著作</p><table class=\\\"table table-striped\\\"><thead><tr><th>著作名稱</th><th>著作</th><th>作者/來源</th><th>授權方式</th></tr></thead><tbody><tr><td>2004-tsunami.jpg</td><td><img src=\\\"./assets/images/2004-tsunami.jpg\\\" width=\\\"200\\\"></td><td>David Rydevik (email: david.rydevik@gmail.com), Stockholm, Sweden. <a href=\\\"https://en.wikipedia.org/wiki/File:2004-tsunami.jpg\\\" target=\\\"_blank\\\">來源網址</a></td><td>Public domain</td></tr><tr><td>ODM Portrait</td><td><img src=\\\"https://c1.staticflickr.com/3/2363/1515287285_1c1fd6a9b1_o.jpg\\\" width=\\\"200\\\"></td><td>DEMOSH <a href=\\\"https://www.flickr.com/photos/44222307@N00/1515287285/\\\" target=\\\"_blank\\\">來源網址</a></td><td>CC BY 2.0</td></tr><tr><td>\\\"Die Suche nach Überlebenden\\\" Nepal April/Mai 2015</td><td><img src=\\\"https://c1.staticflickr.com/1/513/19445213576_7e0d9312d1_b.jpg\\\" width=\\\"200\\\"></td><td>Wiesbaden112.de <a href=\\\"https://www.flickr.com/photos/feuerwehrwiesbaden/19445213576\\\" target=\\\"_blank\\\">來源網址</a></td><td>CC BY-NC-ND 2.0</td></tr></tbody></table></div>\");\n$templateCache.put(\"app/editSkillEquipment/editSkillEquipment.html\",\"<div class=\\\"row profile-section\\\"><h2>技能</h2><hr><form><div class=\\\"col-lg-12 col-mg-12\\\"><tags-input class=\\\"bootstrap\\\" ng-model=\\\"vm.skills\\\" min-length=\\\"1\\\" display-property=\\\"name\\\" placeholder=\\\"{{ \\'placeholder.add_a_new_skill\\' | translate }}\\\" replace-spaces-with-dashes=\\\"false\\\"><auto-complete source=\\\"vm.refreshSkillCandidatedKeywords($query)\\\" min-length=\\\"1\\\" debounce-delay=\\\"1000\\\" max-results=\\\"10\\\" display-property=\\\"name\\\"></auto-complete></tags-input></div><div class=\\\"col-lg-12 col-mg-12\\\"><button type=\\\"submit\\\" ng-click=\\\"vm.updateSkills()\\\" class=\\\"btn btn-primary\\\">儲存</button></div></form></div><div class=\\\"row profile-section\\\"><h2>裝備</h2><hr><form><div class=\\\"col-lg-12 col-mg-12\\\"><tags-input class=\\\"bootstrap\\\" ng-model=\\\"vm.equipment\\\" min-length=\\\"1\\\" display-property=\\\"name\\\" placeholder=\\\"{{ \\'placeholder.add_a_new_equipment\\' | translate }}\\\" replace-spaces-with-dashes=\\\"false\\\"><auto-complete source=\\\"vm.refreshEquipmentCandidateKeywords($query)\\\" min-length=\\\"1\\\" debounce-delay=\\\"1000\\\" max-results=\\\"10\\\" display-property=\\\"name\\\"></auto-complete></tags-input></div><div class=\\\"col-lg-12 col-mg-12\\\"><button type=\\\"submit\\\" ng-click=\\\"vm.updateEquipment()\\\" class=\\\"btn btn-primary\\\">儲存</button></div></form></div>\");\n$templateCache.put(\"app/editVolunteerProfile/aboutAndContact.html\",\"<div class=\\\"row\\\"><vms-message data=\\\"vm.alert\\\"></vms-message><h2>關於</h2><hr><div class=\\\"col-lg-12 col-md-12\\\"><div id=\\\"profile-avatar\\\" class=\\\"pull-left\\\"><img ng-src=\\\"{{vm.profile.avatar_url}}\\\" id=\\\"profile-avatar\\\" width=\\\"200\\\" class=\\\"img-responsive img-circle center-block\\\"> <input id=\\\"avatar-input\\\" type=\\\"file\\\" ng-model=\\\"vm.avatar\\\" onloadend=\\\"vm.selectAvatar\\\" base-sixty-four-input=\\\"\\\"></div></div></div><form><div class=\\\"row-eq-height profile-section\\\"><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"first-name\\\" class=\\\"control-label col-md-4 col-lg-4\\\">姓氏</label><div class=\\\"col-md-8 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"first-name\\\" placeholder=\\\"姓氏\\\" ng-model=\\\"vm.profile.first_name\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"last-name\\\" class=\\\"control-label col-md-4 col-lg-4\\\">名字</label><div class=\\\"col-md-8 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"first-name\\\" placeholder=\\\"名字\\\" ng-model=\\\"vm.profile.last_name\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"birth-year\\\" class=\\\"control-label col-md-4 col-lg-4\\\">出生年份</label><div class=\\\"col-md-8 col-lg-8\\\"><div class=\\\"input-group\\\"><input id=\\\"birth-year\\\" type=\\\"text\\\" class=\\\"form-control\\\" uib-datepicker-popup=\\\"{{vm.datePicker.format}}\\\" ng-model=\\\"vm.profile.birth_year\\\" is-open=\\\"vm.datePicker.status.opened\\\" datepicker-options=\\\"vm.datePicker.dateOptions\\\" ng-required=\\\"true\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.openDatePicker($event)\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></div></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"gender\\\" class=\\\"control-label col-md-4 col-lg-4\\\">性別</label><div class=\\\"col-md-8 col-lg-8\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" id=\\\"gender\\\" value=\\\"female\\\" ng-model=\\\"vm.profile.gender\\\"> 女</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" id=\\\"gender\\\" value=\\\"male\\\" ng-model=\\\"vm.profile.gender\\\"> 男</label></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"city\\\" class=\\\"control-label col-md-4 col-lg-4\\\">縣市</label><div class=\\\"col-md-8 col-lg-8\\\"><select class=\\\"form-control\\\" name=\\\"city\\\" ng-model=\\\"vm.profile.city.id\\\" ng-options=\\\"city.id as city.name_zh_tw for city in vm.cities\\\"></select></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"location\\\" class=\\\"control-label col-md-4 col-lg-4\\\">鄉鎮市區</label><div class=\\\"col-md-8 col-lg-8\\\"><input name=\\\"location\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"location\\\" placeholder=\\\"地址\\\" ng-model=\\\"vm.profile.location\\\"></div></div></div><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"profile-introduction\\\" class=\\\"control-label col-md-2 col-lg-2\\\">介紹</label><div class=\\\"col-md-10 col-lg-10\\\"><textarea name=\\\"p-introduction\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"p-introduction\\\" placeholder=\\\"介紹\\\" rows=\\\"3\\\" ng-model=\\\"vm.profile.introduction\\\">\\n\t\t\t\t\t</textarea></div></div></div></div><div class=\\\"row profile-section\\\"><h2>聯絡資訊</h2><hr><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"phone-number\\\" class=\\\"control-label col-md-4 col-lg-4\\\">電話號碼</label><div class=\\\"col-md-8 col-lg-8\\\"><input name=\\\"phone-number\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"phone-number\\\" placeholder=\\\"電話號碼\\\" ng-model=\\\"vm.profile.phone_number\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"emergency-contact\\\" class=\\\"control-label col-md-4 col-lg-4\\\">緊急聯絡人</label><div class=\\\"col-md-8 col-lg-8\\\"><input name=\\\"emergency-contact\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"emergency-contact\\\" placeholder=\\\"緊急聯絡人\\\" ng-model=\\\"vm.profile.emergency_contact\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"emergency-contact-phone\\\" class=\\\"control-label col-md-4 col-lg-4\\\">緊急聯絡人電話</label><div class=\\\"col-md-8 col-lg-8\\\"><input name=\\\"emergency-contact-phone\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"emergency-contact-phone\\\" placeholder=\\\"緊急聯絡人電話\\\" ng-model=\\\"vm.profile.emergency_phone\\\"></div></div></div></div><div class=\\\"row profile-section\\\"><div class=\\\"col-md-2 col-md-offset-5\\\"><button class=\\\"btn btn-primary btn-lg\\\" ng-click=\\\"vm.updateAboutAndContact()\\\">送出</button></div><div class=\\\"col-md-5\\\"></div></div></form>\");\n$templateCache.put(\"app/editVolunteerProfile/editVolunteerProfile.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h1>編輯我的資料</h1></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><div class=\\\"row\\\"><div class=\\\"col-md-3\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><b>個人資料</b></div><ul class=\\\"list-group\\\"><li class=\\\"list-group-item\\\"><a ui-sref=\\\"rootEditProfile.aboutContact\\\">關於我與聯絡</a></li><li class=\\\"list-group-item\\\"><a ui-sref=\\\"rootEditProfile.experienceEducation\\\">經驗與教育</a></li><li class=\\\"list-group-item\\\"><a ui-sref=\\\"rootEditProfile.skillEquipment\\\">技能與裝備</a></li><li class=\\\"list-group-item\\\"><a ui-sref=\\\"rootEditProfile.changePassword\\\">{{ \\'change_password\\' | translate }}</a></li></ul></div></div><div class=\\\"col-md-9\\\"><div class=\\\"anim-in-out anim-fade\\\" data-anim-speed=\\\"1000\\\" ui-view=\\\"profileContent\\\"></div></div></div></div>\");\n$templateCache.put(\"app/emailVerification/emailVerification.html\",\"<div class=\\\"col-md-8 col-md-offset-2\\\"><h1 class=\\\"text-center\\\">驗證您的電子信箱</h1></div><div id=\\\"main-content\\\" class=\\\"col-md-8 col-md-offset-2\\\"><div class=\\\"email-verification\\\" ng-show=\\\"vm.verification\\\"><p class=\\\"lead\\\">請稍候，目前正在進行驗證...</p></div><div class=\\\"email-verification-success\\\" ng-show=\\\"vm.verificationSuccess\\\"><p class=\\\"lead\\\">{{vm.volunteer.email}} 電子信箱已經通過驗證</p></div><div class=\\\"email-verification-success\\\" ng-hide=\\\"vm.verificationStatus\\\"><p class=\\\"lead\\\">{{vm.volunteer.email}} 電子信箱無法驗證</p></div></div>\");\n$templateCache.put(\"app/login/login.html\",\"<div id=\\\"main-content\\\" class=\\\"col-md-8 col-md-offset-2\\\"><h1>登入</h1><hr class=\\\"hr\\\"><vms-message data=\\\"vm.alert\\\"></vms-message><form class=\\\"form-horizontal\\\" ng-submit=\\\"vm.login()\\\"><div class=\\\"form-group\\\"><label for=\\\"username\\\" class=\\\"col-sm-2 control-label\\\">帳號</label><div class=\\\"col-sm-10\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"username\\\" placeholder=\\\"帳號\\\" ng-model=\\\"vm.credentials.username\\\" required=\\\"\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"password\\\" class=\\\"col-sm-2 control-label\\\">密碼</label><div class=\\\"col-sm-10\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"password\\\" placeholder=\\\"密碼\\\" ng-model=\\\"vm.credentials.password\\\" required=\\\"\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"password\\\" class=\\\"col-sm-2 control-label\\\">選擇身份</label><div class=\\\"col-sm-10\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"role\\\" id=\\\"role\\\" value=\\\"volunteer\\\" ng-model=\\\"vm.role\\\" required=\\\"\\\"> 志工</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"role\\\" id=\\\"role\\\" value=\\\"manager\\\" ng-model=\\\"vm.role\\\" required=\\\"\\\"> 專案管理員</label></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-offset-2 col-sm-10\\\"><a class=\\\"pull-right\\\" ui-sref=\\\"forgotPassword\\\">忘記密碼</a></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-offset-2 col-sm-10\\\"><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">登入</button></div></div></form></div>\");\n$templateCache.put(\"app/project/attendingProjectList.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h1>已參與的專案</h1></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><table class=\\\"table table-striped\\\"><thead><tr><th>專案名稱</th><th>組織名稱</th><th>填寫您的資料</th><th>離開</th></tr></thead><tbody><tr ng-repeat=\\\"project in vm.projects.data\\\"><td><a ui-sref=\\\"projectDetail({ id: project.id })\\\">{{ project.attributes.name }}</a></td><td>{{ project.attributes.organization }}</td><td><span class=\\\"glyphicon glyphicon-edit\\\" ui-sref=\\\"fillProjectCustomFieldData({ projectId: project.id })\\\" aria-hidden=\\\"true\\\"></span></td><td><span ui-sref=\\\"editProject({ id: project.id })\\\" aria-hidden=\\\"true\\\">離開</span></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/project/createProject.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h1>新增專案</h1></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" ng-show=\\\"vm.errorMsg\\\"><span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Error:</span> {{ vm.errorMsg }}</div><form><h2>基本資訊</h2><hr><div id=\\\"profile-basic\\\" class=\\\"profile-section row\\\"><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"name\\\" class=\\\"control-label col-md-2 col-lg-4\\\">名稱</label><div class=\\\"col-md-10 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"name\\\" placeholder=\\\"名稱\\\" ng-model=\\\"vm.project.name\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"organization\\\" class=\\\"control-label col-md-2 col-lg-4\\\">組織名稱</label><div class=\\\"col-md-10 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"organization\\\" placeholder=\\\"組織名稱\\\" ng-model=\\\"vm.project.organization\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"permission\\\" class=\\\"control-label col-md-2 col-lg-4\\\">瀏覽權限<span class=\\\"glyphicon glyphicon-info-sign\\\" aria-hidden=\\\"true\\\" popover-title=\\\"{{ \\'explanation\\' | translate }}\\\" uib-popover-template=\\\"\\'projectPermissionExplanationBody.html\\'\\\" popover-placement=\\\"bottom\\\" popover-trigger=\\\"mouseenter\\\"></span></label><div class=\\\"col-md-10 col-lg-8\\\"><select name=\\\"permission\\\" id=\\\"permission\\\" class=\\\"form-control\\\" ng-model=\\\"vm.project.permission\\\"><option ng-repeat=\\\"option in vm.permissionOptions\\\" value=\\\"{{ option.value }}\\\">{{ option.name | translate }}</option></select></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"permission\\\" class=\\\"control-label col-md-2 col-lg-4\\\"></label><div class=\\\"col-md-10 col-lg-8\\\" popover-title=\\\"{{ \\'explanation\\' | translate }}\\\" uib-popover-template=\\\"\\'projectPublishExplanationBody.html\\'\\\" popover-placement=\\\"bottom\\\" popover-trigger=\\\"mouseenter\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"permission\\\" ng-value=\\\"true\\\" ng-model=\\\"vm.project.is_published\\\"> 發布</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"permission\\\" ng-value=\\\"false\\\" ng-model=\\\"vm.project.data.attributes.is_published\\\"> 不發佈</label></div></div></div><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"hyperlinks\\\" class=\\\"control-label col-md-1 col-lg-2\\\">相關連結</label><editable-project-hyperlinks class=\\\"col-md-11 col-lg-10\\\" projectid=\\\"\\\" data=\\\"vm.hyperlinks\\\"></editable-project-hyperlinks></div></div><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"description\\\" class=\\\"control-label col-md-1 col-lg-1\\\">說明</label><div class=\\\"col-md-11 col-lg-10 col-lg-offset-1\\\"><textarea froala=\\\"vm.froalaOptions\\\" class=\\\"form-control\\\" id=\\\"description\\\" ng-model=\\\"vm.project.description\\\" rows=\\\"4\\\"></textarea></div></div></div><div class=\\\"row profile-section\\\"><div class=\\\"col-md-2 col-md-offset-5\\\"><button class=\\\"btn btn-primary btn-lg\\\" ng-click=\\\"vm.create()\\\">送出</button></div><div class=\\\"col-md-5\\\"></div></div></div></form></div><script type=\\\"text/ng-template\\\" id=\\\"projectPermissionExplanationBody.html\\\"><div> {{ \\'project.permission_explanation.body\\' | translate }} <ul> <li>{{ \\'project.permission_explanation.all_users\\' | translate }}</li> <li>{{ \\'project.permission_explanation.registered_users\\' | translate }}</li> <li>{{ \\'project.permission_explanation.members\\' | translate }}</li> </ul> </div></script><script type=\\\"text/ng-template\\\" id=\\\"projectPublishExplanationBody.html\\\"><div> {{ \\'project.publish_explanation.body\\' | translate }} </div></script>\");\n$templateCache.put(\"app/project/editProject.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h1>編輯專案</h1></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" ng-show=\\\"vm.errorMsg\\\"><span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Error:</span> {{ vm.errorMsg }}</div><form class=\\\"form-inline\\\"><span class=\\\"h2-inline\\\">基本資訊</span> <span class=\\\"dropdown pull-right\\\" uib-dropdown=\\\"\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"action-dropdown\\\" uib-dropdown-toggle=\\\"\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">動作 <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" uib-dropdown-menu=\\\"\\\" aria-labelledby=\\\"action-dropdown\\\"><li><a ui-sref=\\\"editProject({ id: vm.projectId })\\\">編輯</a></li><li><a ui-sref=\\\"manageProjectCustomField({ projectId: vm.projectId })\\\">自訂欄位管理</a></li><li><a href=\\\"#\\\">刪除</a></li></ul></span><hr><div id=\\\"profile-basic\\\" class=\\\"profile-section row\\\"><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"name\\\" class=\\\"control-label col-md-2 col-lg-4\\\">名稱</label><div class=\\\"col-md-10 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"name\\\" placeholder=\\\"名稱\\\" ng-model=\\\"vm.project.data.attributes.name\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"organization\\\" class=\\\"control-label col-md-2 col-lg-4\\\">組織名稱</label><div class=\\\"col-md-10 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"organization\\\" placeholder=\\\"組織名稱\\\" ng-model=\\\"vm.project.data.attributes.organization\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"permission\\\" class=\\\"control-label col-md-2 col-lg-4\\\">權限</label><div class=\\\"col-md-10 col-lg-8\\\"><select name=\\\"permission\\\" id=\\\"permission\\\" class=\\\"form-control\\\" ng-options=\\\"option.value as option.name for option in vm.permissionOptions\\\" ng-model=\\\"vm.project.data.attributes.permission\\\"></select></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"permission\\\" class=\\\"control-label col-md-2 col-lg-4\\\"></label><div class=\\\"col-md-10 col-lg-8\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"permission\\\" ng-value=\\\"true\\\" ng-model=\\\"vm.project.data.attributes.is_published\\\"> 發布</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"permission\\\" ng-value=\\\"false\\\" ng-model=\\\"vm.project.data.attributes.is_published\\\"> 不發佈</label></div></div></div><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"hyperlinks\\\" class=\\\"control-label col-md-1 col-lg-2\\\">相關連結</label><div class=\\\"col-md-10 col-lg-8\\\" ng-repeat=\\\"hyperlink in vm.hyperlinks\\\"><div class=\\\"row\\\"><div class=\\\"col-md-5 col-lg-5\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"連結名稱\\\" ng-model=\\\"hyperlink.name\\\" required=\\\"\\\"></div><div class=\\\"col-md-7 col-lg-7\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"連結網址\\\" ng-model=\\\"hyperlink.link\\\" required=\\\"\\\"></div></div></div></div></div><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"description\\\" class=\\\"control-label col-md-1 col-lg-1\\\">說明</label><div class=\\\"col-md-10 col-lg-10 col-md-offset-1 col-lg-offset-1\\\"><textarea froala=\\\"\\\" class=\\\"form-control\\\" ng-model=\\\"vm.project.data.attributes.description\\\"></textarea></div></div></div><div class=\\\"row profile-section\\\"><div class=\\\"col-md-2 col-md-offset-5\\\"><button class=\\\"btn btn-primary btn-lg\\\" ng-click=\\\"vm.update()\\\">送出</button></div><div class=\\\"col-md-5\\\"></div></div></div></form></div>\");\n$templateCache.put(\"app/project/editProjectTpl.html\",\"<div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" ng-show=\\\"vm.errorMsg\\\"><span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Error:</span> {{ vm.errorMsg }}</div><form class=\\\"\\\"><span class=\\\"h2-inline\\\">修改</span><hr><div id=\\\"profile-basic\\\" class=\\\"profile-section row-eq-height\\\"><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"name\\\" class=\\\"control-label col-md-12 col-lg-4\\\">名稱</label><div class=\\\"col-md-12 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"name\\\" placeholder=\\\"名稱\\\" ng-model=\\\"vm.project.name\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"organization\\\" class=\\\"control-label col-md-12 col-lg-4\\\">組織名稱</label><div class=\\\"col-md-12 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"organization\\\" placeholder=\\\"組織名稱\\\" ng-model=\\\"vm.project.organization\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"permission\\\" class=\\\"control-label col-md-12 col-lg-4\\\">權限</label><div class=\\\"col-md-12 col-lg-8\\\"><select name=\\\"permission\\\" id=\\\"permission\\\" class=\\\"form-control\\\" ng-options=\\\"option.value as option.name | translate for option in vm.permissionOptions\\\" ng-model=\\\"vm.project.permission\\\"></select></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 col-lg-8 col-lg-offset-4 center-block\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"permission\\\" ng-value=\\\"true\\\" ng-model=\\\"vm.project.is_published\\\"> 發布</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"permission\\\" ng-value=\\\"false\\\" ng-model=\\\"vm.project.is_published\\\"> 不發佈</label></div></div></div><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"hyperlinks\\\" class=\\\"control-label col-md-12 col-lg-2\\\">相關連結</label><editable-project-hyperlinks class=\\\"col-md-12 col-lg-10\\\" project-id=\\\"vm.project.id\\\" data=\\\"vm.hyperlinks\\\"></editable-project-hyperlinks></div></div><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"description\\\" class=\\\"control-label col-md-12 col-lg-2\\\">說明</label><div class=\\\"col-md-12 col-lg-10\\\"><textarea froala=\\\"vm.froalaOptions\\\" class=\\\"form-control\\\" id=\\\"description\\\" style=\\\"min-width: 100%\\\" ng-model=\\\"vm.project.description\\\" rows=\\\"10\\\"></textarea></div></div></div><div class=\\\"row profile-section\\\"><div class=\\\"col-md-12 col-md-offset-5\\\"><button class=\\\"btn btn-primary btn-lg\\\" ng-click=\\\"vm.update()\\\">送出</button></div><div class=\\\"col-md-5\\\"></div></div></div></form>\");\n$templateCache.put(\"app/project/manageProjectMembers.html\",\"<div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\">管理專案成員</h3></div><div class=\\\"modal-body\\\"></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-danger\\\" type=\\\"button\\\" ng-click=\\\"vm.ok()\\\">確認刪除帳號</button> <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div>\");\n$templateCache.put(\"app/project/managedProjectList.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h1>我的專案</h1></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><div id=\\\"search-section\\\" class=\\\"row-eq-height\\\"><div class=\\\"col-md-6 col-lg-6\\\"><form class=\\\"form-inline\\\"><div class=\\\"form-group\\\"><label>{{ \\'search\\' | translate }}</label> <input class=\\\"form-control\\\" ng-model=\\\"vm.searchProjectName.name\\\" type=\\\"text\\\" name=\\\"search\\\" id=\\\"search\\\" placeholder=\\\"{{ \\'input_project_name\\' | translate }}\\\"></div></form></div><div class=\\\"col-md-2 col-md-offset-4 col-lg-2 col-lg-offset-4\\\"><button class=\\\"btn btn-primary\\\" role=\\\"button\\\" ui-sref=\\\"createProject\\\">新增專案</button></div></div><table class=\\\"table table-striped\\\"><thead><tr><th>專案名稱</th><th>組織名稱</th><th>是否發布</th><th>建立時間</th><th>管理</th><th>刪除</th></tr></thead><tbody><tr ng-repeat=\\\"project in vm.projects | filter: vm.searchProjectName\\\"><td><a ui-sref=\\\"projectDetail({ id: project.id })\\\">{{ project.name }}</a></td><td>{{ project.organization }}</td><td>{{ project.is_published | yesNo }}</td><td>{{ project.created_at | formatDateTime }}</td><td><span class=\\\"glyphicon glyphicon-cog\\\" ui-sref=\\\"project.show({ projectId: project.id })\\\" aria-hidden=\\\"true\\\"></span></td><td><span class=\\\"glyphicon glyphicon-trash\\\" ng-click=\\\"vm.delete(project.id)\\\" aria-hidden=\\\"true\\\"></span></td></tr></tbody></table></div><script type=\\\"text/ng-template\\\" id=\\\"deleteProject.html\\\"><div class=\\\"modal-header\\\"> <h3 class=\\\"modal-title\\\">注意！您的專案即將被刪除</h3> </div> <div class=\\\"modal-body\\\"> <div class=\\\"alert alert-danger\\\" role=\\\"alter\\\" ng-show=\\\"vm.deleteMsg\\\">{{vm.deleteMsg}}</div> <div class=\\\"alert alert-warning\\\" role=\\\"alert\\\">{{vm.remind}}</div> </div> <div class=\\\"modal-footer\\\"> <button class=\\\"btn btn-danger\\\" type=\\\"button\\\" ng-click=\\\"vm.ok()\\\">確認刪除專案</button> <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button> </div></script>\");\n$templateCache.put(\"app/project/projectDetail.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h1>瀏覽專案</h1></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" ng-show=\\\"vm.errorMsg\\\"><span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Error:</span> {{ vm.errorMsg }}</div><span class=\\\"h3-inline\\\">{{ vm.project.name }}</span> <button class=\\\"btn btn-default pull-right\\\" ng-click=\\\"vm.attend()\\\" ng-show=\\\"vm.isGuest()\\\">加入</button> <button class=\\\"btn btn-default pull-right\\\" ui-sref=\\\"fillProjectCustomFieldData({ projectId: vm.project.id })\\\" ng-show=\\\"vm.isMember()\\\">填寫資料</button> <button class=\\\"btn btn-default pull-right\\\" ui-sref=\\\"project.edit({ projectId: vm.project.id })\\\" ng-show=\\\"vm.isCreator()\\\">編輯</button><hr><div id=\\\"project-basic\\\" class=\\\"project-section row\\\"><div class=\\\"col-md-6 col-lg-6\\\"><div class=\\\"row\\\"><div class=\\\"col-md-4 col-lg-4\\\"><span class=\\\"glyphicon glyphicon-user\\\" aria-hidden=\\\"true\\\"></span> {{ \\'manager\\' | translate }}</div><div class=\\\"col-md-8 col-lg-8\\\"><p>{{ vm.project.managers.data[0].last_name }} {{ vm.project.managers.data[0].first_name }}</p>({{ vm.project.managers.data[0].email }})</div></div></div><div class=\\\"col-md-6 col-lg-6\\\"><div class=\\\"row\\\"><div class=\\\"col-md-4 col-lg-4\\\"><span class=\\\"glyphicon glyphicon-time\\\" aria-hidden=\\\"true\\\"></span> {{ \\'created_date\\' | translate }}</div><div class=\\\"col-md-8 col-lg-8\\\">{{ vm.project.created_at }}</div></div></div><div class=\\\"col-md-12 col-lg-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-2 col-lg-2\\\"><span class=\\\"glyphicon glyphicon-info-sign\\\" aria-hidden=\\\"true\\\"></span> {{ \\'description\\' | translate }}</div><div class=\\\"col-md-10 col-lg-10\\\" ng-bind-html=\\\"vm.project.description | htmlize\\\"></div></div></div><div class=\\\"col-md-12 col-lg-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-2 col-lg-2\\\"><span class=\\\"glyphicon glyphicon-link\\\" aria-hidden=\\\"true\\\"></span> {{ \\'related_links\\' | translate }}</div><project-hyperlinks class=\\\"col-md-10 col-lg-10\\\" project-id=\\\"vm.projectId\\\"></project-hyperlinks></div></div><div class=\\\"col-md-12 col-lg-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-2 col-lg-2\\\"><span class=\\\"fa fa-users\\\" aira-hidden=\\\"true\\\"></span> {{ \\'project.member\\' | translate }}</div><div class=\\\"col-md-10 col-lg-10\\\"><div class=\\\"row-eq-height\\\"><div ng-repeat=\\\"member in vm.membersList.data track by $index\\\" class=\\\"col-md-4 col-lg-4\\\"><b>{{ member.attributes.first_name }} {{ member.attributes.last_name}}</b> ({{ member.attributes.username }})</div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/project/projectDetailTpl.html\",\"<div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" ng-show=\\\"vm.errorMsg\\\"><span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Error:</span> {{ vm.errorMsg }}</div><span class=\\\"h2-inline\\\">基本資訊</span> <button class=\\\"btn btn-default pull-right\\\" ng-click=\\\"vm.attend()\\\" ng-show=\\\"vm.isGuest()\\\">加入</button> <button class=\\\"btn btn-default pull-right\\\" ui-sref=\\\"fillProjectCustomFieldData({ projectId: vm.project.data.id })\\\" ng-show=\\\"vm.isMember()\\\">填寫資料</button> <button class=\\\"btn btn-default pull-right\\\" ui-sref=\\\"editProject({ id: vm.project.data.id })\\\" ng-show=\\\"vm.isCreator()\\\">編輯</button><hr><div id=\\\"project-basic\\\" class=\\\"project-section row\\\"><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"name\\\" class=\\\"col-md-2 col-lg-4\\\">名稱</label><div class=\\\"col-md-10 col-lg-8\\\"><span id=\\\"name\\\">{{ vm.project.name }}</span></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"organization\\\" class=\\\"col-md-2 col-lg-4\\\">組織名稱</label><div class=\\\"col-md-10 col-lg-8\\\"><span id=\\\"organization\\\">{{ vm.project.organization }}</span></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"permission\\\" class=\\\"col-md-2 col-lg-4\\\">權限</label><div class=\\\"col-md-10 col-lg-8\\\"><span>{{ vm.project.permission | permissionText | translate }}</span></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"permission\\\" class=\\\"col-md-2 col-lg-4\\\">是否發布</label><div class=\\\"col-md-10 col-lg-8\\\"><span id=\\\"permission\\\" aria-label=\\\"ABC\\\" ng-true-value=\\\"true\\\" ng-false-value=\\\"false\\\">{{ vm.project.is_published | yesNo }}</span></div></div></div><div class=\\\"col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"hyperlinks\\\" class=\\\"col-md-1 col-lg-2\\\">相關連結</label><project-hyperlinks class=\\\"col-md-11 col-lg-10\\\" project-id=\\\"vm.project.id\\\"></project-hyperlinks></div></div><div class=\\\"col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"description\\\" class=\\\"col-md-1 col-lg-1\\\">說明</label><div class=\\\"col-md-10 col-lg-10\\\"><div id=\\\"description\\\" ng-bind-html=\\\"vm.project.description | htmlize\\\"></div></div></div></div></div><div class=\\\"project-section\\\"><span class=\\\"h2-inline\\\">專案成員</span> <button class=\\\"btn btn-default pull-right\\\" ng-click=\\\"vm.manageMembers()\\\" ng-show=\\\"vm.isCreator()\\\">成員管理</button><hr><div class=\\\"row\\\"><div ng-repeat=\\\"member in vm.membersList.data track by $index\\\"><div class=\\\"col-md-2 col-lg-3\\\"><span class=\\\"glyphicon glyphicon-user\\\"></span> <a ng-click=\\\"vm.showMember(member)\\\">{{ member.attributes.username }}</a></div></div></div></div>\");\n$templateCache.put(\"app/project/projectMemberVolunteerList.html\",\"<div class=\\\"row\\\"><div ng-repeat=\\\"member in vm.membersList.data track by $index\\\"><div class=\\\"col-md-1 col-lg-1\\\">{{ member.attributes.username }}</div><div class=\\\"col-md-1 col-lg-1\\\">{{ member.first_name }} {{ member.last_name}}</div></div></div>\");\n$templateCache.put(\"app/project/projectMembers.html\",\"\");\n$templateCache.put(\"app/project/projectPanel.html\",\"<div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><b>專案</b></div><ul class=\\\"list-group\\\"><li class=\\\"list-group-item\\\" ng-show=\\\"vm.isCreator()\\\"><a ui-sref=\\\"project.show({ projectId: vm.project.id })\\\">查看</a></li><li class=\\\"list-group-item\\\" ng-show=\\\"vm.isCreator()\\\"><a ui-sref=\\\"project.edit({ projectId: vm.project.id })\\\">修改</a></li><li class=\\\"list-group-item\\\" ng-show=\\\"vm.isCreator()\\\"><a ui-sref=\\\"project.manageMembers({ projectId: vm.project.id })\\\">成員管理</a></li><li class=\\\"list-group-item\\\" ng-show=\\\"vm.isCreator()\\\"><a ui-sref=\\\"project.manageCustomField({ projectId: vm.project.id })\\\">自訂欄位管理</a></li></ul></div>\");\n$templateCache.put(\"app/project/projectTplPage.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h1>專案</h1></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><div class=\\\"row\\\"><div class=\\\"col-md-3\\\"><div class=\\\"anim-in-out anim-fade\\\" data-anim-speed=\\\"1000\\\" ui-view=\\\"panel\\\"></div></div><div class=\\\"col-md-9\\\"><div class=\\\"anim-in-out anim-fade\\\" data-anim-speed=\\\"1000\\\" ui-view=\\\"container\\\"></div></div></div></div>\");\n$templateCache.put(\"app/project/showProjectList.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h1>所有專案</h1></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><div class=\\\"alert alert-info\\\" role=\\\"alert\\\">參與您有興趣的專案！</div><div id=\\\"search-section\\\" class=\\\"row-eq-height\\\"><div class=\\\"col-md-7 col-lg-7\\\"><div class=\\\"row\\\"><div class=\\\"col-md-2 col-lg-2\\\" uib-dropdown=\\\"\\\"><button type=\\\"button\\\" class=\\\"btn btn-default dropdown-toggle\\\" uib-dropdown-toggle=\\\"\\\">{{ \\'field\\' | translate }} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" uib-dropdown-menu=\\\"\\\"><li><a ng-click=\\\"vm.setSearchField(\\'name\\')\\\">{{ \\'project.search.fields.name\\' | translate }}</a></li><li><a ng-click=\\\"vm.setSearchField(\\'organization\\')\\\">{{ \\'project.search.fields.organization\\' | translate }}</a></li></ul></div><div class=\\\"col-md-8 col-lg-8\\\"><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\">{{ \\'project.search.fields.\\' + vm.searchField | translate }}</span> <input class=\\\"form-control\\\" ng-model=\\\"vm.searchProject[vm.searchField]\\\" type=\\\"text\\\" name=\\\"search\\\" id=\\\"search\\\" placeholder=\\\"{{ \\'search_keyword\\' | translate }}\\\"></div></div></div></div></div><div class=\\\"row\\\"><div class=\\\"col-xs-12 col-sm-12 col-md-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 col-xs-12 col-sm-12\\\"><div class=\\\"row project-item\\\" ng-repeat=\\\"project in vm.projects | filter: vm.searchProject\\\"><div class=\\\"col-md-8\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><h4><a ui-sref=\\\"projectDetail({ id: project.id })\\\">{{ project.name }}</a></h4></div><div class=\\\"col-md-6\\\">{{ project.organization }}</div><div class=\\\"col-md-6\\\">{{ project.updated_at }}</div></div></div><div class=\\\"col-md-4\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 text-right\\\"><span class=\\\"fa fa-user fa-lg\\\" aria-hidden=\\\"true\\\"></span> {{ project.member_number }}</div><div class=\\\"col-md-12 text-right\\\"><span class=\\\"fa fa-cubes fa-lg\\\" aria-hidden=\\\"true\\\"></span> {{ project.process_number }}</div></div></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/projectCustomFields/viewAllCustomFieldData.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h1>自訂欄位資料</h1></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><div ng-repeat=\\\"item in vm.rawList.data track by $index\\\" class=\\\"row\\\"><div class=\\\"col-md-12 col-lg-12\\\"><h3>{{ vm.getIncludedMember($index).username }}</h3></div><div class=\\\"col-md-12 col-lg-12 profile-section\\\" ng-repeat=\\\"value in item\\\"><fill-custom-field-type type=\\\"vm.getIncludedCustomField(value.relationships.project_custom_field.data.id).type\\\" title=\\\"vm.getIncludedCustomField(value.relationships.project_custom_field.data.id).name\\\" field-data=\\\"value.attributes.data\\\" metadata=\\\"vm.getIncludedCustomField(value.relationships.project_custom_field.data.id).metadata\\\"></fill-custom-field-type></div></div></div>\");\n$templateCache.put(\"app/projectMember/manageProjectMemberList.html\",\"<span class=\\\"h2-inline\\\">成員管理</span><div ng-repeat=\\\"member in vm.members\\\" class=\\\"row\\\"><div class=\\\"col-md-12 col-lg-12\\\" ng-show=\\\"member\\\"><h4><span class=\\\"glyphicon glyphicon-user\\\"></span> 成員：{{ member.first_name }}{{ member.last_name }} ({{ member.username }})</h4></div><div class=\\\"col-md-12 col-lg-12\\\"><p class=\\\"text-muted\\\">{{ member.attending_at.date | date:\\'yyyy-MM-dd HH:mm\\' }}</p></div><div class=\\\"col-md-12 col-lg-12\\\" ng-show=\\\"member\\\"><table class=\\\"table\\\"><thead><tr><th class=\\\"col-md-2\\\">欄位名稱</th><th class=\\\"col-md-2\\\">內容</th></tr></thead><tbody><tr ng-repeat=\\\"customFieldData in member.custom_field_data\\\"><th class=\\\"col-md-2\\\">{{ vm.getCustomFieldById(customFieldData.project_custom_field.data.id).name }}</th><td class=\\\"col-md-10\\\">{{ customFieldData.data | customFieldDataToText: vm.getCustomFieldById(customFieldData.project_custom_field.data.id).type:vm.getCustomFieldById(customFieldData.project_custom_field.data.id).metadata}}</td></tr></tbody></table></div></div>\");\n$templateCache.put(\"app/register/register.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h1>註冊</h1></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><vms-message data=\\\"vm.alerts\\\"></vms-message><form name=\\\"register\\\" class=\\\"form-inline\\\" autocomplete=\\\"off\\\" ng-submit=\\\"vm.register()\\\"><h2>基本資料</h2><hr><div id=\\\"profile-avatar\\\"><img id=\\\"avatar-image\\\" alt=\\\"Bootstrap Image Preview\\\" ng-src=\\\"{{vm.showAvatar}}\\\" width=\\\"200\\\" class=\\\"img-circle\\\"> <input id=\\\"avatar-input\\\" type=\\\"file\\\" ng-model=\\\"vm.avatar\\\" onloadend=\\\"vm.selectAvatar\\\" base-sixty-four-input=\\\"\\\"></div><div id=\\\"profile-basic\\\" class=\\\"profile-section row-eq-height\\\"><div class=\\\"col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label required-label=\\\"\\\" for=\\\"username\\\" class=\\\"control-label col-md-3 col-lg-3\\\">帳號</label><div class=\\\"col-md-9 col-lg-9\\\"><input type=\\\"text\\\" minlength=\\\"6\\\" class=\\\"form-control\\\" id=\\\"username\\\" placeholder=\\\"帳號\\\" ng-model=\\\"vm.volunteer.username\\\" required=\\\"\\\"></div></div></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label required-label=\\\"\\\" for=\\\"password\\\" class=\\\"control-label col-md-3 col-lg-3\\\">密碼</label><div class=\\\"col-md-9 col-lg-9\\\"><input ng-class=\\\"{\\'has-error\\':register.confirmPassowrd.$error.match}\\\" type=\\\"password\\\" name=\\\"password\\\" minlength=\\\"6\\\" class=\\\"form-control\\\" id=\\\"password\\\" placeholder=\\\"密碼\\\" ng-model=\\\"vm.volunteer.password\\\" required=\\\"\\\"></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 col-lg-12\\\"></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label required-label=\\\"\\\" for=\\\"confirmPassowrd\\\" class=\\\"control-label col-md-3 col-lg-3\\\">確認密碼</label><div class=\\\"col-md-9 col-lg-9\\\"><input ng-class=\\\"{\\'has-error\\':register.confirmPassowrd.$error.match}\\\" type=\\\"password\\\" match=\\\"vm.volunteer.password\\\" name=\\\"confirmPassowrd\\\" ng-model=\\\"vm.passwordConfirm\\\" minlength=\\\"6\\\" class=\\\"form-control\\\" id=\\\"confirm-passowrd\\\" placeholder=\\\"確認密碼\\\" required=\\\"\\\"></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 col-lg-12\\\"><p class=\\\"text-danger\\\" ng-show=\\\"register.confirmPassowrd.$error.match\\\">{{ \\'alert.danger.password_not_match\\' | translate }}</p></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label required-label=\\\"\\\" for=\\\"first-name\\\" class=\\\"control-label col-md-3 col-lg-3\\\">姓氏</label><div class=\\\"col-md-9 col-lg-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"first-name\\\" placeholder=\\\"姓氏\\\" ng-model=\\\"vm.volunteer.first_name\\\" required=\\\"\\\"></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label required-label=\\\"\\\" for=\\\"last-name\\\" class=\\\"control-label col-md-3 col-lg-3\\\">名字</label><div class=\\\"col-md-9 col-lg-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"last-name\\\" placeholder=\\\"名字\\\" ng-model=\\\"vm.volunteer.last_name\\\" required=\\\"\\\"></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label required-label=\\\"\\\" for=\\\"birth-year\\\" class=\\\"control-label col-md-3 col-lg-3\\\">出生年份</label><div class=\\\"col-md-9 col-lg-9\\\"><div class=\\\"input-group\\\"><input id=\\\"birth-year\\\" type=\\\"text\\\" class=\\\"form-control\\\" uib-datepicker-popup=\\\"{{vm.datePicker.format}}\\\" ng-model=\\\"vm.volunteer.birth_year\\\" is-open=\\\"vm.datePicker.status.opened\\\" datepicker-options=\\\"vm.datePicker.dateOptions\\\" ng-required=\\\"true\\\" close-text=\\\"Close\\\" format-year=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.openDatePicker($event)\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></div></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label required-label=\\\"\\\" for=\\\"gender\\\" class=\\\"control-label col-md-3 col-lg-3\\\">性別</label><div class=\\\"col-md-9 col-lg-9\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" id=\\\"gender\\\" value=\\\"female\\\" ng-model=\\\"vm.volunteer.gender\\\"> 女</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" id=\\\"gender\\\" value=\\\"male\\\" ng-model=\\\"vm.volunteer.gender\\\"> 男</label></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label required-label=\\\"\\\" for=\\\"city\\\" class=\\\"control-label col-md-3 col-lg-3\\\">縣市</label><div class=\\\"col-md-9 col-lg-9\\\"><select class=\\\"form-control\\\" name=\\\"city\\\" ng-model=\\\"vm.volunteer.city.id\\\" ng-options=\\\"city.id as city.name_zh_tw for city in vm.cities\\\"></select></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label required-label=\\\"\\\" for=\\\"address\\\" class=\\\"control-label col-md-3 col-lg-3\\\">鄉鎮市區</label><div class=\\\"col-md-9 col-lg-9\\\"><input name=\\\"address\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"address\\\" placeholder=\\\"鄉鎮市區\\\" ng-model=\\\"vm.volunteer.location\\\"></div></div></div></div><div id=\\\"profile-contact\\\" class=\\\"profile-section row\\\"><h2>聯絡資料</h2><hr><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label required-label=\\\"\\\" for=\\\"email\\\" class=\\\"control-label col-md-3 col-lg-3\\\">電子郵件</label><div class=\\\"col-md-9 col-lg-9\\\"><input type=\\\"email\\\" name=\\\"email\\\" class=\\\"form-control\\\" id=\\\"email\\\" placeholder=\\\"電子郵件\\\" ng-model=\\\"vm.volunteer.email\\\" required=\\\"\\\"></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"phone-number\\\" class=\\\"control-label col-md-3 col-lg-3\\\">電話號碼</label><div class=\\\"col-md-9 col-lg-9\\\"><input name=\\\"phone-number\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"phone-number\\\" placeholder=\\\"電話號碼\\\" ng-model=\\\"vm.volunteer.phone_number\\\"></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"emergency-contact\\\" class=\\\"control-label col-md-3 col-lg-3\\\">緊急聯絡人</label><div class=\\\"col-md-9 col-lg-9\\\"><input name=\\\"emergency-contact\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"emergency-contact\\\" placeholder=\\\"緊急聯絡人\\\" ng-model=\\\"vm.volunteer.emergency_contact\\\"></div></div></div><div class=\\\"col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"emergency-contact-phone\\\" class=\\\"control-label col-md-3 col-lg-3\\\">緊急聯絡人電話</label><div class=\\\"col-md-9 col-lg-9\\\"><input name=\\\"emergency-contact-phone\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"emergency-contact-phone\\\" placeholder=\\\"緊急聯絡人電話\\\" ng-model=\\\"vm.volunteer.emergency_phone\\\"></div></div></div></div><div class=\\\"row profile-section\\\"><div class=\\\"col-md-2 col-md-offset-5\\\"><button class=\\\"btn btn-primary btn-lg\\\">送出</button></div><div class=\\\"col-md-5\\\"></div></div></form></div>\");\n$templateCache.put(\"app/registerPrivacy/registerPrivacy.html\",\"<div class=\\\"col-lg-offset-2 col-lg-8 col-sm-12 col-xs-12\\\"><h1>隱私權政策</h1><div id=\\\"main-content\\\"><p class=\\\"lead\\\">歡迎您使用 VMS 網站（下稱「本網站」）與相關服務，為了尊重與保護您在本網站上個人資料的隱密性，VMS 將透過這份「VMS 隱私權聲明」（下稱「本聲明」），讓您瞭解VMS 如何透過本網站蒐集、運用與保護您個人的非公示資訊。請您詳細閱讀本聲明，如有任何疑問歡迎您透過 e-mail 與 VMS 聯絡： volunteer.service.tw@gmail.com。</p><p class=\\\"text-right\\\">更新日期：2015/10/27</p><hr><h3>個人資料的蒐集方式</h3><p>VMS 透過本網站蒐集個人資料之方式包括：<ol><li>要求您自行輸入個人資料；</li><li>系統自動記錄您瀏覽本網站之歷程</li></ol></p><h3>蒐集的個人資料內容</h3><p>您在本網站註冊新帳號並完成註冊程序後，即成為本網站會員，而您在註冊時需提供的個人資料包括帳號名稱、您的姓名、e-mail 與密碼及其他聯絡方式等。</p><p>註冊完成之後，您可以到「我的資料」填寫、編輯您的個人資訊。您可以自由決定是否填寫這些個人資訊，「我的資料」中的個人資訊並非必填項目。</p><p>若您有加入的外包專案，VMS 將會紀錄您所參與之專案。您亦得在本網站的專案中提供您的個人資料。</p><p>當您瀏覽本網站時，VMS 將以匿名方式蒐集您的操作流程，包括您使用連線設備的IP位址、使用時間、使用的瀏覽器、瀏覽及點選資料紀錄。</p><h3>個人資料之運用</h3><p>為執行本網站相關規定，VMS 可能透過您提供的個人資料與您進行聯絡。</p><p>您的帳號名稱將可讓外包專案中的專案管理員查看，並詢問您是否同意參加專案，除此之外，只要沒有自行將您其他的註冊資料揭露於本網站上，任何使用者均無法瀏覽或利用您的資料。</p><h3>個人聯絡資料之運用</h3><p>本網站將透過電子郵件傳送本網站相關資訊，這些資訊包括但不限於使用者註冊確認信、本聲明與使用條款的修正訊息以、專案邀請、通知信件及本網站活動資訊，但您的電子信箱不會在其他使用者之收件者列表中顯示。</p><h3>線上活動紀錄的運用</h3><p>當您瀏覽本網站，伺服器會自動記錄使用者機器的 IP 位址、使用時間、使用的瀏覽器、瀏覽及點選紀錄等資料，並加以分析。</p><p>本網站僅會針對全體使用者行為之總和進行分析，不會針對您個別之行為進行分析，除非您願意告知您的個人資料，否則 VMS 並不會將此項記錄和您對應。</p><h3>向第三方揭露個人資料</h3><p>若為中華民國相關法令、司法或政府機關要求，或經您的同意，本網站將會揭露您的個人資料，但僅限於向相關之第三人揭露您的個人資料。</p><h3>個人資料之修改</h3><p>當您在本網站註冊後，您可以隨時利用我的資料中之連結，更改（目前尚未提供）、刪除帳號以外您所輸入的任何資料，例如個人姓名、電子信箱、聯絡方式等。 但除了您主動登錄的個人資料之外，您在本網站相關外包專案或事件追蹤系統中所提供之個人資料，不在此修改範圍之內。</p><h3>資料保護措施</h3><p>本網站將會運用安全技術和程序來保護您的個人資料，避免未經您授權的存取、使用或洩露。例如，本網站會將您提供的個人資訊儲存在嚴密控管的設施與電腦設備中，並僅允許少數系統管理者擁有存取權限。</p><p>請妥善保管您的密碼及個人資料，請勿將任何個人資料，尤其是您的密碼提供給任何人，若因此造成任何損失，本不負任何責任。</p><h3>造訪其他網站之注意事項</h3><p>透過本網站所提供的超連結，您可能造訪與本網站相連結之其他網站，這些其他網站也可能蒐集您的個人資料。對於您主動提供的個人資訊，各相連結之其他網站有其個別的隱私權保護政策，其資料處理措施不適用本聲明，本不負任何責任，建議您詳加閱讀這些網站的隱私權保護政策。</p><h3>隱私權聲明更新</h3><p>本網站將不定期更新本聲明，更新時，本網站會同時修訂本聲明的「最後更新日期」。本聲明的重要變更，亦會張貼在本網站上顯著位置，以提醒您注意。</p><hr><button class=\\\"btn btn-primary btn-lg\\\" ui-sref=\\\"register\\\">同意</button> <button class=\\\"btn btn-default btn-lg\\\">不同意</button></div></div>\");\n$templateCache.put(\"app/registerSuccess/registerSuccess.html\",\"<div class=\\\"col-md-8 col-md-offset-2\\\"><h1 class=\\\"text-center\\\">完成註冊</h1></div><div id=\\\"main-content\\\" class=\\\"col-md-8 col-md-offset-2 top-line\\\"><p class=\\\"lead\\\">{{ vm.volunteer.last_name }} 您好，為了完成註冊，身份驗證確認信件會寄到您的 {{ vm.volunteer.email }} 信箱。</p><p class=\\\"lead\\\">您可以點擊信件中的連結完成身份驗證。</p></div>\");\n$templateCache.put(\"app/volunteerEducation/education.html\",\"<div class=\\\"profile-section\\\"><span class=\\\"h2-inline\\\">教育</span> <button class=\\\"btn btn-default pull-right\\\" ng-click=\\\"vm.setAddEducationVisible()\\\">新增教育</button><hr><div ng-show=\\\"vm.isShowAddEducation\\\"><form id=\\\"new-education\\\" class=\\\"form-inline education-section\\\"><div class=\\\"row\\\"><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"school\\\" class=\\\"control-label col-md-2 col-lg-2\\\">學校名稱</label><div class=\\\"col-md-8 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"school\\\" placeholder=\\\"學校名稱\\\" ng-model=\\\"vm.sEducation.school\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"field-of-study\\\" class=\\\"control-label col-md-4 col-lg-4\\\">科系</label><div class=\\\"col-md-8 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"field-of-study\\\" placeholder=\\\"科系\\\" ng-model=\\\"vm.sEducation.field_of_study\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"degree\\\" class=\\\"control-label col-md-4 col-lg-4\\\">學歷</label><div class=\\\"col-md-8 col-lg-8\\\"><select class=\\\"form-control\\\" id=\\\"degree\\\" placeholder=\\\"學歷\\\" ng-model=\\\"vm.sEducation.degree\\\" ng-options=\\\"d.value as d.text | translate for d in vm.degrees\\\" required=\\\"\\\"></select></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"start-year\\\" class=\\\"control-label col-md-4 col-lg-4\\\">開始期間</label><div class=\\\"col-md-8 col-lg-8\\\"><select name=\\\"start-years\\\" class=\\\"form-control\\\" id=\\\"start-year\\\" placeholder=\\\"起始年\\\" ng-model=\\\"vm.sEducation.start_year\\\" ng-options=\\\"y.value as y.text for y in vm.years\\\" required=\\\"\\\"></select></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"end-year\\\" class=\\\"control-label col-md-4 col-lg-4\\\">結束期間</label><div class=\\\"col-md-8 col-lg-8\\\"><select name=\\\"end-year\\\" class=\\\"form-control\\\" id=\\\"end-year\\\" placeholder=\\\"結束年\\\" ng-model=\\\"vm.sEducation.end_year\\\" ng-options=\\\"y.value as y.text for y in vm.years\\\"></select></div></div></div><div class=\\\"form-group col-md-6 col-sm-6 col-xs-12 col-lg-12\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.addEducation()\\\">儲存</button> <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.setAddEducationInvisible()\\\">取消</button></div></div></div></div></form></div><div ng-show=\\\"vm.educations != undefined && vm.educations.length != 0\\\"><div ng-repeat=\\\"(index, education) in vm.educations\\\"><form editable-form=\\\"\\\" name=\\\"vm.education{{education.id}}\\\" class=\\\"form-inline education-section\\\" onaftersave=\\\"vm.updateEducation(education.id)\\\" onshow=\\\"vm.onShowEditableForm(education.id)\\\" onhide=\\\"vm.onHideEditableForm(education.id)\\\"><div class=\\\"row\\\"><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row grid-vertical-align\\\"><label for=\\\"school\\\" class=\\\"control-label col-md-2 col-lg-2\\\">學校名稱</label><div class=\\\"col-md-8 col-lg-8\\\"><a editable-text=\\\"vm.educations[{{ index }}].school\\\" e-name=\\\"school\\\" ng-click=\\\"vm.editableFormShow(education.id)\\\" e-required=\\\"\\\">{{ vm.educations[index].school }}</a></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row grid-vertical-align\\\"><label for=\\\"field-of-study\\\" class=\\\"control-label col-md-4 col-lg-4\\\">科系</label><div class=\\\"col-md-8 col-lg-8\\\"><a editable-text=\\\"vm.educations[{{ index }}].field_of_study\\\" e-nmae=\\\"field-of-study\\\" ng-click=\\\"vm.editableFormShow(education.id)\\\" e-required=\\\"\\\">{{ vm.educations[index].field_of_study }}</a></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row grid-vertical-align\\\"><label for=\\\"degree\\\" class=\\\"control-label col-md-4 col-lg-4\\\">學歷</label><div class=\\\"col-md-8 col-lg-8\\\"><a editable-select=\\\"vm.educations[{{ index }}].degree\\\" e-nmae=\\\"degree\\\" e-ng-options=\\\"d.value as d.text | translate for d in vm.degrees\\\" ng-click=\\\"vm.editableFormShow(education.id)\\\" e-required=\\\"\\\">{{ vm.educations[index].degree | educationDegree | translate }}</a></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row grid-vertical-align\\\"><label for=\\\"start-year\\\" class=\\\"control-label col-md-4 col-lg-4\\\">開始期間</label><div class=\\\"col-md-8 col-lg-8\\\"><a editable-select=\\\"vm.educations[{{ index }}].start_year\\\" e-ng-options=\\\"y.value as y.text for y in vm.years\\\" ng-click=\\\"vm.editableFormShow(education.id)\\\">{{ vm.educations[index].start_year }}</a></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row grid-vertical-align\\\"><label for=\\\"end-year\\\" class=\\\"control-label col-md-4 col-lg-4\\\">結束期間</label><div class=\\\"col-md-8 col-lg-8\\\"><a editable-select=\\\"vm.educations[{{ index }}].end_year\\\" e-ng-options=\\\"y.value as y.text for y in vm.years\\\" ng-click=\\\"vm.editableFormShow(education.id)\\\">{{ vm.educations[index].end_year }}</a></div></div></div><div class=\\\"form-group col-md-6 col-lg-12 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\" ng-show=\\\"vm.editableIsVisible(education.id)\\\"><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">儲存</button> <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.editableFormCancel(education.id)\\\">取消</button> <a ng-click=\\\"vm.deleteEducation(education.id)\\\">刪除</a></div></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/volunteerExperience/experience.html\",\"<div class=\\\"profile-section\\\"><span class=\\\"h2-inline\\\">經驗</span> <button class=\\\"btn btn-default pull-right\\\" ng-click=\\\"vm.setAddExperienceVisible()\\\">新增經驗</button><hr><div ng-show=\\\"vm.isShowAddExperience\\\"><form id=\\\"new-experience\\\" class=\\\"form-inline experience-section\\\"><div class=\\\"row\\\"><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"company\\\" class=\\\"control-label col-md-4 col-lg-4\\\">公司名稱</label><div class=\\\"col-md-8 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"company\\\" placeholder=\\\"公司名稱\\\" ng-model=\\\"vm.sExperience.company\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"job-title\\\" class=\\\"control-label col-md-4 col-lg-4\\\">工作職稱</label><div class=\\\"col-md-8 col-lg-8\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"job-title\\\" placeholder=\\\"工作職稱\\\" ng-model=\\\"vm.sExperience.job_title\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"start-year\\\" class=\\\"control-label col-md-4 col-lg-4\\\">開始期間</label><div class=\\\"col-md-8 col-lg-8\\\"><select name=\\\"start-years\\\" class=\\\"form-control\\\" id=\\\"start-year\\\" placeholder=\\\"起始年\\\" ng-model=\\\"vm.sExperience.start_year\\\" ng-options=\\\"y.value as y.text for y in vm.years\\\" required=\\\"\\\"></select></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"end-year\\\" class=\\\"control-label col-md-4 col-lg-4\\\">結束期間</label><div class=\\\"col-md-8 col-lg-8\\\"><select name=\\\"end-year\\\" class=\\\"form-control\\\" id=\\\"end-year\\\" placeholder=\\\"結束年\\\" ng-model=\\\"vm.sExperience.end_year\\\" ng-options=\\\"y.value as y.text for y in vm.years\\\"></select></div></div></div><div class=\\\"form-group col-md-6 col-sm-6 col-xs-12 col-lg-12\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.addExperience()\\\">儲存</button> <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.setAddExperienceInvisible()\\\">取消</button></div></div></div></div></form></div><div ng-show=\\\"vm.experiences != undefined && vm.experiences.length != 0\\\"><div ng-repeat=\\\"(index, experience) in vm.experiences\\\"><form editable-form=\\\"\\\" name=\\\"vm.experience{{experience.id}}\\\" class=\\\"form-inline experience-section\\\" onaftersave=\\\"vm.updateExperience(experience.id)\\\" onshow=\\\"vm.onShowEditableForm(experience.id)\\\" onhide=\\\"vm.onHideEditableForm(experience.id)\\\"><div class=\\\"row\\\"><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row grid-vertical-align\\\"><label for=\\\"company\\\" class=\\\"control-label col-md-4 col-lg-4\\\">公司名稱</label><div class=\\\"col-md-8 col-lg-8\\\"><a editable-text=\\\"vm.experiences[{{ index }}].company\\\" e-name=\\\"company\\\" ng-click=\\\"vm.editableFormShow(experience.id)\\\" e-required=\\\"\\\">{{ vm.experiences[index].company }}</a></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row grid-vertical-align\\\"><label for=\\\"job-title\\\" class=\\\"control-label col-md-4 col-lg-4\\\">工作職稱</label><div class=\\\"col-md-8 col-lg-8\\\"><a editable-text=\\\"vm.experiences[{{ index }}].job_title\\\" e-nmae=\\\"job-title\\\" ng-click=\\\"vm.editableFormShow(experience.id)\\\" e-required=\\\"\\\">{{ vm.experiences[index].job_title }}</a></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row grid-vertical-align\\\"><label for=\\\"start-year\\\" class=\\\"control-label col-md-4 col-lg-4\\\">開始期間</label><div class=\\\"col-md-8 col-lg-8\\\"><a editable-select=\\\"vm.experiences[{{ index }}].start_year\\\" e-ng-options=\\\"y.value as y.text for y in vm.years\\\" ng-click=\\\"vm.editableFormShow(experience.id)\\\">{{ vm.experiences[index].start_year }}</a></div></div></div><div class=\\\"form-group col-md-6 col-lg-6 col-sm-6 col-xs-12\\\"><div class=\\\"row grid-vertical-align\\\"><label for=\\\"end-year\\\" class=\\\"control-label col-md-4 col-lg-4\\\">結束期間</label><div class=\\\"col-md-8 col-lg-8\\\"><a editable-select=\\\"vm.experiences[{{ index }}].end_year\\\" e-ng-options=\\\"y.value as y.text for y in vm.years\\\" ng-click=\\\"vm.editableFormShow(experience.id)\\\">{{ vm.experiences[index].end_year }}</a></div></div></div><div class=\\\"form-group col-md-6 col-lg-12 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\" ng-show=\\\"vm.editableIsVisible(experience.id)\\\"><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">儲存</button> <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.editableFormCancel(experience.id)\\\">取消</button> <a ng-click=\\\"vm.deleteExperience(experience.id)\\\">刪除</a></div></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/volunteerExperienceEducation/experienceAndEducation.html\",\"<div class=\\\"anim-in-out anim-fade\\\" data-anim-speed=\\\"1000\\\" ui-view=\\\"experienceContent\\\"></div><div class=\\\"anim-in-out anim-fade\\\" data-anim-speed=\\\"1000\\\" ui-view=\\\"educationContent\\\"></div>\");\n$templateCache.put(\"app/volunteerProfile/volunteer-about.html\",\"<div class=\\\"row profile-header\\\"><div class=\\\"col-md-3 col-xs-12\\\"><h3 class=\\\"glyphicon glyphicon-user\\\" aria-hidden=\\\"true\\\">關於</h3></div><div class=\\\"col-md-9 col-xs-12\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary pull-right\\\" ui-sref=\\\"editProfile\\\"><span class=\\\"glyphicon glyphicon-pencil\\\" aria-hidden=\\\"true\\\"></span> 編輯</button></div></div><div class=\\\"row profile-content\\\"><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">姓氏</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{vm.profile.first_name}}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">名字</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{vm.profile.last_name}}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">帳號</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{vm.profile.username}}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">出生年份</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{vm.profile.birth_year}}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">性別</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{vm.profile.gender}}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">縣市</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{ vm.profile.city.name_zh_tw }}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-12\\\">鄉鎮市區</span> <span class=\\\"col-sm-7 col-xs-12\\\">{{vm.profile.location}}</span></div></div></div>\");\n$templateCache.put(\"app/volunteerProfile/volunteer-contact.html\",\"<div class=\\\"row profile-header\\\"><div class=\\\"col-md-3\\\"><h3 class=\\\"glyphicon glyphicon-phone-alt\\\" aria-hidden=\\\"true\\\">聯絡資訊</h3></div></div><div class=\\\"row profile-content\\\"><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-4\\\">電話號碼</span> <span class=\\\"col-sm-8\\\">{{vm.profile.phone_number}}</span></div></div><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-4\\\">電子郵件</span> <span class=\\\"col-sm-8\\\">{{vm.profile.email}}</span></div></div><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-4\\\">緊急聯絡人</span> <span class=\\\"col-sm-8\\\">{{vm.profile.emergency_contact}}</span></div></div><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-4\\\">緊急聯絡電話</span> <span class=\\\"col-sm-8\\\">{{vm.profile.emergency_phone}}</span></div></div></div>\");\n$templateCache.put(\"app/volunteerProfile/volunteer-experience-education.html\",\"<div class=\\\"row\\\"><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 profile-header\\\"><h3 class=\\\"glyphicon glyphicon-file\\\" aria-hidden=\\\"true\\\">經歷</h3></div><div class=\\\"profile-content-list\\\" ng-repeat=\\\"(id, experience) in vm.profile.experience\\\"><div id=\\\"profile-experience-{{id}}\\\" class=\\\"profile-content-item\\\"><span class=\\\"col-sm-12\\\">{{experience.name}}</span> <span class=\\\"col-sm-12\\\">{{experience.job_title}}</span> <span class=\\\"col-sm-12\\\">{{experience.start_year}} ~ {{experience.end_year}}</span></div></div></div></div><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 profile-header\\\"><h3 class=\\\"glyphicon glyphicon-education\\\" aria-hidden=\\\"true\\\">學歷</h3></div><div class=\\\"profile-content-list\\\" ng-repeat=\\\"(id, education) in vm.profile.education\\\"><div id=\\\"profile-education-{{id}}\\\" class=\\\"profile-content-item\\\"><span class=\\\"col-sm-12\\\">{{education.field_of_study}}</span> <span class=\\\"col-sm-12\\\">{{education.school}}</span> <span class=\\\"col-sm-12\\\">{{education.start_year}} ~ {{education.end_year}}</span></div></div></div></div></div>\");\n$templateCache.put(\"app/volunteerProfile/volunteer-projects.html\",\"<div class=\\\"row profile-right-padding\\\"><h3>Projects you\\'re in</h3><div class=\\\"table-responsive\\\"><table class=\\\"table\\\"><thead><tr class=\\\"profile-project-tableHead\\\"><th>#</th><th>Project Name</th><th>Manager</th><th>Details</th><th>Cancel</th></tr></thead><tbody><tr ng-repeat=\\\"project in vm.projects\\\"><td>{{project.Id}}</td><td>{{project.ProjectName}}</td><td>{{project.Manager}}</td><td><a href=\\\"#\\\" class=\\\"profile-project-a\\\">View</a></td><td><a href=\\\"#\\\"><span class=\\\"glyphicon glyphicon-share\\\" aria-hidden=\\\"true\\\"></span></a></td></tr></tbody></table></div><h3>Invites</h3><div class=\\\"table-responsive\\\"><table class=\\\"table\\\"><thead><tr class=\\\"profile-project-tableHead\\\"><th>#</th><th>Project Name</th><th>Manager</th><th>Details</th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"invite in vm.invites\\\"><td>{{invite.Id}}</td><td>{{invite.ProjectName}}</td><td>{{invite.Manager}}</td><td><a href=\\\"#\\\" class=\\\"profile-project-a\\\">View</a></td><td><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"\\\" data-toggle=\\\"dropdown\\\">Choose <span class=\\\"caret\\\"></span></button></td></tr></tbody></table></div></div>\");\n$templateCache.put(\"app/volunteerProfile/volunteer-skill-equipment.html\",\"<div class=\\\"row\\\"><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 profile-header\\\"><h3 class=\\\"glyphicon glyphicon-certificate\\\" aria-hidden=\\\"true\\\">技能</h3></div><div class=\\\"profile-content-list\\\"><div id=\\\"profile-skills\\\" class=\\\"profile-content-item\\\"><span class=\\\"col-sm-12\\\"><span ng-repeat=\\\"skill in vm.profile.skills\\\">{{skill.name}}&nbsp;</span></span></div></div></div></div><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 profile-header\\\"><h3 class=\\\"glyphicon glyphicon-wrench\\\" aria-hidden=\\\"true\\\">器材/設備</h3></div><div class=\\\"profile-content-list\\\"><div id=\\\"profile-equipment\\\" class=\\\"profile-content-item\\\"><span class=\\\"col-sm-12\\\"><span ng-repeat=\\\"equipment in vm.profile.equipment\\\">{{equipment.name}}&nbsp;</span></span></div></div></div></div></div>\");\n$templateCache.put(\"app/volunteerProfile/volunteerProfile.html\",\"<div class=\\\"col-xs-12 col-md-3 col-sm-3\\\" id=\\\"profile-introduction\\\"><img ng-src=\\\"{{vm.profile.avatar_url}}\\\" id=\\\"profile-avatar\\\" width=\\\"300\\\" class=\\\"img-responsive img-circle center-block\\\"><h3 class=\\\"text-center\\\">{{vm.profile.last_name +\\\" \\\"+ vm.profile.first_name}}</h3><p id=\\\"profile-self-introduction\\\">{{vm.profile.introduction}}</p><div class=\\\"row\\\" id=\\\"profile-participate\\\"><div class=\\\"col-xs-12 col-sm-12\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-7 col-xs-6\\\"><span>參與中的</span></div><div class=\\\"col-sm-5 col-xs-6\\\"><span class=\\\"pull-right label label-primary\\\">{{vm.profile.processes.participating_number}}</span></div></div></div></div><button class=\\\"btn btn-danger center-block\\\" ng-click=\\\"vm.open()\\\">刪除帳號</button></div><div class=\\\"col-xs-12 col-md-9 col-sm-9\\\" id=\\\"profile-main\\\"><div id=\\\"profile-container\\\"><div ng-init=\\\"tab = 1\\\"><ul class=\\\"nav nav-tabs\\\" id=\\\"profile-right-navbar\\\"><li ng-class=\\\"{active:tab===1}\\\"><a href=\\\"\\\" ng-click=\\\"tab=1\\\">個人資料</a></li></ul></div><div id=\\\"main-profile\\\" class=\\\"panel\\\" ng-show=\\\"tab===1\\\"><div id=\\\"profile-about\\\"><div class=\\\"row profile-header\\\"><div class=\\\"col-md-4 col-lg-4 col-xs-12\\\"><h3 class=\\\"glyphicon glyphicon-user\\\" aria-hidden=\\\"true\\\">我的資料</h3></div><div class=\\\"col-md-12 col-xs-12\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary pull-right\\\" ui-sref=\\\"rootEditProfile.edit\\\"><span class=\\\"glyphicon glyphicon-pencil\\\" aria-hidden=\\\"true\\\"></span> 編輯</button></div></div><div class=\\\"row profile-content\\\"><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">姓氏</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{vm.profile.first_name}}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">名字</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{vm.profile.last_name}}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">帳號</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{vm.profile.username}}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">出生年份</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{vm.profile.birth_year | date : \\'yyyy\\'}}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">性別</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{vm.profile.gender | translate}}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-5\\\">縣市</span> <span class=\\\"col-sm-7 col-xs-7\\\">{{ vm.profile.city.name_en }}</span></div></div><div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-5 col-xs-12\\\">鄉鎮市區</span> <span class=\\\"col-sm-7 col-xs-12\\\">{{vm.profile.location}}</span></div></div></div></div><hr><div id=\\\"profile-contact\\\"><div class=\\\"row profile-header\\\"><div class=\\\"col-md-4 col-lg-3 col-sm-12\\\"><h3 class=\\\"glyphicon glyphicon-phone-alt\\\" aria-hidden=\\\"true\\\">聯絡資訊</h3></div></div><div class=\\\"row profile-content\\\"><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-4\\\">電話號碼</span> <span class=\\\"col-sm-8\\\">{{vm.profile.phone_number}}</span></div></div><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-4\\\">電子郵件</span> <span class=\\\"col-sm-8\\\">{{vm.profile.email}}</span></div></div><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-4\\\">緊急聯絡人</span> <span class=\\\"col-sm-8\\\">{{vm.profile.emergency_contact}}</span></div></div><div class=\\\"col-md-6 col-sm-6\\\"><div class=\\\"row\\\"><span class=\\\"col-sm-4\\\">緊急聯絡電話</span> <span class=\\\"col-sm-8\\\">{{vm.profile.emergency_phone}}</span></div></div></div></div><hr></div><div class=\\\"panel\\\" ng-show=\\\"tab===2\\\"><div ng-include=\\\"\\\" src=\\\"\\'/app/volunteerProfile/volunteer-projects.html\\'\\\"></div></div></div></div><script type=\\\"text/ng-template\\\" id=\\\"myModalContent.html\\\"><div class=\\\"modal-header\\\"> <h3 class=\\\"modal-title\\\">注意！您的帳號即將被刪除</h3> </div> <div class=\\\"modal-body\\\"> <div class=\\\"alert alert-danger\\\" role=\\\"alter\\\" ng-show=\\\"vm.deleteMsg\\\">{{vm.deleteMsg}}</div> <div class=\\\"alert alert-warning\\\" role=\\\"alert\\\">{{vm.remind}}</div> <div class=\\\"form-group\\\"> <label for=\\\"password\\\" class=\\\"control-label\\\">請輸入您的密碼：</label> <input type=\\\"password\\\" id=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"vm.password\\\" placeholder=\\\"輸入您的密碼\\\"> </div> </div> <div class=\\\"modal-footer\\\"> <button class=\\\"btn btn-danger\\\" type=\\\"button\\\" ng-click=\\\"vm.ok()\\\">確認刪除帳號</button> <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button> </div></script>\");\n$templateCache.put(\"app/volunteerProject/projectDetails.html\",\"<h1>Project Detail</h1><div id=\\\"main-content\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-8\\\"><h3 class=\\\"projects-font-color\\\">{{vm.projects}}</h3></div><div class=\\\"col-sm-offset-1 col-sm-3 projects-head-rightbar\\\"><table><tr><th rowspan=\\\"2\\\"><img src=\\\"assets/images/projects-icon.PNG\\\" class=\\\"projects-projects-icon\\\"></th><td class=\\\"projects-font-volunteers-count\\\">{{vm.volunteers}}</td></tr><tr><td><span class=\\\"projects-font-volunteers\\\">TOTAL VOLUNTEERS</span></td></tr></table></div></div><hr><div class=\\\"row\\\" id=\\\"project-content\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-4\\\"><h4><span class=\\\"glyphicon glyphicon-user\\\" aria-hidden=\\\"true\\\"></span> Manager</h4></div><div class=\\\"col-sm-offset-1 col-sm-6\\\"><a>{{vm.manager}}</a>({{vm.managerMail}})</div></div></div><div class=\\\"col-sm-6\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-4\\\"><h4><span class=\\\"glyphicon glyphicon-time\\\" aria-hidden=\\\"true\\\"></span> Created date</h4></div><div class=\\\"col-sm-offset-1 col-sm-6\\\"><span>{{vm.createdDate}}</span></div></div></div></div><div class=\\\"row\\\" id=\\\"project-content-description\\\"><div class=\\\"col-sm-2\\\"><h4><span class=\\\"glyphicon glyphicon-info-sign\\\" aria-hidden=\\\"true\\\"></span> Description</h4></div><div class=\\\"col-sm-10\\\"><span>{{vm.description}}</span></div></div><div class=\\\"row\\\" id=\\\"project-content-description\\\"><div class=\\\"col-sm-2\\\"><h4><span class=\\\"glyphicon glyphicon-link\\\" aria-hidden=\\\"true\\\"></span> Link</h4></div><div class=\\\"col-sm-10\\\"><a href=\\\"#\\\">{{vm.link}}</a></div></div><div class=\\\"row\\\" id=\\\"project-content-description\\\"><div class=\\\"col-sm-2\\\"><h4><span class=\\\"glyphicon glyphicon-list-alt\\\" aria-hidden=\\\"true\\\"></span> My profile</h4></div><div class=\\\"col-sm-10\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\"><span class=\\\"glyphicon glyphicon-pencil\\\" aria-hidden=\\\"true\\\"></span> Edit profile</button> <button type=\\\"button\\\" class=\\\"btn btn-default\\\"><span class=\\\"glyphicon glyphicon-log-in\\\" aria-hidden=\\\"true\\\"></span> Leave project</button></div></div><div class=\\\"row\\\" id=\\\"project-content-profile\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"col-sm-4\\\"><h5>Teacher or student</h5></div><div class=\\\"col-sm-2 col-sm-offset-1\\\"><h5>{{vm.position}}</h5></div></div><div class=\\\"col-sm-6\\\"><div class=\\\"col-sm-6\\\"><h5>The number of students</h5></div><div class=\\\"col-sm-2\\\"><h5>{{vm.students}}</h5></div></div></div><div class=\\\"row\\\" id=\\\"project-content-profile\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"col-sm-4\\\"><h5>School</h5></div><div class=\\\"col-sm-7 col-sm-offset-1\\\"><h5>{{vm.school}}</h5></div></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-8\\\"><h4><span class=\\\"glyphicon glyphicon-th-list\\\" aria-hidden=\\\"true\\\"></span> My participated process</h4></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-8\\\" id=\\\"table-padding\\\"><table class=\\\"table\\\"><thead><tr class=\\\"active\\\"><th>Date</th><th>Process Name</th><th>Location</th></tr></thead><tbody><tr><td>{{vm.participated.process[0].Date}}</td><td>{{vm.participated.process[0].Name}}</td><td>{{vm.participated.process[0].Location}}</td></tr><tr><td>{{vm.participated.process[1].Date}}</td><td>{{vm.participated.process[1].Name}}</td><td>{{vm.participated.process[1].Location}}</td></tr></tbody></table></div></div></div>\");\n$templateCache.put(\"app/components/attendingProjectsDirective/showAttendingProjectDirective.html\",\"<div class=\\\"row\\\"><div class=\\\"col-md-12 col-lg-12\\\"><table class=\\\"table table-striped\\\"><tr><th>專案名稱</th><th>加入時間</th></tr><tr ng-repeat=\\\"attending in vm.data\\\"><td>{{ attending.project.name }}</td><td>{{ attending.attending_at.date | formatDateTime }}</td></tr></table></div></div>\");\n$templateCache.put(\"app/components/customFieldDataToTextFilter/customFieldDataToText.html\",\"\");\n$templateCache.put(\"app/components/customFieldDirective/customFieldDirective.html\",\"<div class=\\\"row\\\" ng-mouseenter=\\\"actionVisible=true\\\" ng-mouseleave=\\\"actionVisible=false\\\"><div class=\\\"project-custom-field-preview left-line col-md-12 col-lg-12\\\"><div class=\\\"row-eq-height\\\"><custom-field-type-preview class=\\\"col-md-10 col-lg-10\\\" type=\\\"vm.type.typeName\\\" attribute=\\\"vm.data\\\"></custom-field-type-preview><div class=\\\"col-md-2 col-lg-2\\\"><div class=\\\"custom-field-action\\\" ng-show=\\\"actionVisible\\\"><span class=\\\"glyphicon glyphicon-pencil\\\" aria-hidden=\\\"true\\\" ng-click=\\\"contentVisible=true\\\"></span></div></div></div></div><div class=\\\"project-custom-field-wrapper col-md-12 col-lg-12\\\" ng-show=\\\"contentVisible\\\"><div class=\\\"project-custom-field-content\\\"><form><div class=\\\"row\\\"><div class=\\\"form-group col-md-12 col-lg-12\\\"><div class=\\\"row row-eq-height\\\"><label class=\\\"control-label col-md-2 col-lg-2\\\" for=\\\"field-name\\\">欄位名稱</label><div class=\\\"col-md-10 col-lg-10\\\"><input id=\\\"field-name\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"欄位名稱\\\" ng-model=\\\"vm.data.name\\\" required=\\\"\\\"></div></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-md-12 col-lg-12\\\"><div class=\\\"row row-eq-height\\\"><label class=\\\"col-md-2 col-lg-2 control-label\\\" for=\\\"field-description\\\">欄位描述</label><div class=\\\"col-md-10 col-lg-10\\\"><input id=\\\"field-description\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"欄位描述\\\" ng-model=\\\"vm.data.description\\\" required=\\\"\\\"></div></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-md-6 col-lg-6\\\"><div class=\\\"row-eq-height\\\"><label class=\\\"col-md-4 col-lg-4 control-label\\\" for=\\\"field-type\\\">欄位類型</label><div class=\\\"col-md-8 col-lg-8\\\"><select name=\\\"field-type\\\" id=\\\"field-type\\\" class=\\\"form-control\\\" ng-options=\\\"option.label for option in vm.typeOptions\\\" ng-model=\\\"vm.type\\\"></select></div></div></div><div class=\\\"form-group col-md-6 col-lg-6\\\"><div class=\\\"row-eq-height\\\"><label class=\\\"col-md-4 col-lg-4 control-label\\\" for=\\\"field-required\\\">是否必填</label><div class=\\\"col-md-8 col-lg-8\\\"><div class=\\\"\\\"><div class=\\\"radio row-eq-height\\\"><label class=\\\"col-lg-6 col-md-6\\\"><input type=\\\"radio\\\" name=\\\"field-required\\\" ng-model=\\\"vm.data.required\\\" ng-value=\\\"true\\\"> 是</label> <label class=\\\"col-lg-6 col-md-6\\\"><input type=\\\"radio\\\" name=\\\"field-required\\\" ng-model=\\\"vm.data.required\\\" ng-value=\\\"false\\\"> 否</label></div></div></div></div></div><custom-field-type type=\\\"vm.type.typeName\\\" metadata=\\\"vm.data.metadata\\\"></custom-field-type></div><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12\\\"><div class=\\\"btn-group pull-right\\\" role=\\\"group\\\" aria-label=\\\"...\\\"><button class=\\\"btn btn-sm btn-primary\\\" ng-click=\\\"contentVisible=false\\\"><span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span> 取消</button> <button class=\\\"btn btn-sm btn-primary\\\" ng-click=\\\"vm.store()\\\"><span class=\\\"glyphicon glyphicon-floppy-disk\\\" aria-hidden=\\\"true\\\"></span> 儲存</button></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/components/customFieldDirective/radioButtonFieldType.html\",\"<div class=\\\"form-group col-md-12 col-lg-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-2 col-lg-2\\\"><label class=\\\"control-label\\\" for=\\\"field-meta\\\">選項</label></div><div class=\\\"col-md-4 col-lg-4\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 col-lg-12\\\" ng-repeat=\\\"option in vm.metadata.options track by $index\\\" ng-mouseenter=\\\"visible=true\\\" ng-mouseleave=\\\"visible=false\\\"><div class=\\\"row\\\"><div class=\\\"col-md-9 col-lg-9 v-center\\\"><input id=\\\"field-meta\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"選項\\\" ng-model=\\\"vm.metadata.options[$index].display_name\\\" required=\\\"\\\"></div><div class=\\\"col-md-2 col-lg-2 v-center\\\"><div><span ng-show=\\\"visible\\\" ng-click=\\\"vm.delete($index)\\\" class=\\\"glyphicon glyphicon-remove\\\"></span></div></div></div></div></div><div class=\\\"row add-new-option-section\\\"><div class=\\\"col-md-4 col-lg-4\\\"><div class=\\\"row\\\"><div class=\\\"col-md-10 col-lg-10 text-center\\\"><i class=\\\"text-center glyphicon glyphicon-plus\\\" ng-click=\\\"vm.appendOption()\\\"></i></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/components/customFieldDirective/radioButtonFieldTypePreview.html\",\"<div class=\\\"project-custom-field-preview-section\\\"><form><div class=\\\"row\\\"><div class=\\\"form-group col-md-12 col-lg-12\\\"><div class=\\\"row row-eq-height\\\"><label class=\\\"col-md-offset-1 col-lg-offset-1 col-md-2 col-lg-2 control-label\\\">{{ vm.attribute.name }}</label><div class=\\\"col-md-8 col-lg-8\\\"><div ng-repeat=\\\"option in vm.attribute.metadata.options\\\"><label><input type=\\\"radio\\\" name=\\\"optionsRadios\\\" id=\\\"optionsRadios1\\\" value=\\\"\\\"> {{ option.display_name }}</label></div></div></div></div></div></form></div>\");\n$templateCache.put(\"app/components/customFieldDirective/radioButtonFilledFieldType.html\",\"<label class=\\\"control-label col-md-2 col-lg-2\\\">{{ vm.title }}</label><div class=\\\"col-md-10 col-lg-10\\\"><div ng-repeat=\\\"option in vm.metadata.options\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"{{ vm.title }}\\\" ng-value=\\\"option.value\\\" ng-model=\\\"vm.fieldData.option.value\\\"> {{ option.display_name }}</label></div></div>\");\n$templateCache.put(\"app/components/customFieldDirective/textFieldTypePreview.html\",\"<div class=\\\"project-custom-field-preview-section\\\"><form><div class=\\\"row\\\"><div class=\\\"form-group col-md-12 col-lg-12\\\"><div class=\\\"row\\\"><label class=\\\"col-md-offset-1 col-lg-offset-1 col-md-2 col-lg-2 control-label\\\">{{ vm.attribute.name }}</label><div class=\\\"col-md-7 col-lg-7\\\"><input type=\\\"text\\\" class=\\\"form-control\\\"></div></div></div></div></form></div>\");\n$templateCache.put(\"app/components/customFieldDirective/textFilledFieldType.html\",\"<label class=\\\"control-label col-md-2 col-lg-2\\\">{{ vm.title }}</label><div class=\\\"col-md-10 col-lg-10\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"{{ vm.title }}\\\" ng-model=\\\"vm.fieldData.value\\\" required=\\\"\\\"></div>\");\n$templateCache.put(\"app/components/editableProjectHyperlinksDirective/editableProjectHyperlinksDirective.html\",\"<div class=\\\"row\\\"><div class=\\\"form-group col-md-12 col-lg-12\\\" ng-repeat=\\\"hyperlink in vm.data\\\"><div class=\\\"row\\\" ng-mouseenter=\\\"visible=true\\\" ng-mouseleave=\\\"visible=false\\\"><div class=\\\"col-md-3 col-lg-4\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"連結名稱\\\" ng-model=\\\"hyperlink.name\\\" required=\\\"\\\"></div><div class=\\\"col-md-7 col-lg-7\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"連結網址\\\" ng-model=\\\"hyperlink.link\\\" required=\\\"\\\"></div><div class=\\\"col-md-2 col-lg-1\\\"><span ng-show=\\\"visible\\\" class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\" ng-click=\\\"vm.remove($index)\\\"></span></div></div></div><div class=\\\"col-md-12 col-lg-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12 col-lg-12\\\"><a class=\\\"btn btn-default\\\" ng-click=\\\"vm.append()\\\">新增連結</a></div></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-default navbar-fixed-top\\\" role=\\\"navigation\\\"><div class=\\\"container\\\"><div class=\\\"navbar-header\\\"><a class=\\\"navbar-brand color\\\" ui-sref=\\\"introduction\\\">VMS</a> <button type=\\\"button\\\" class=\\\"navbar-toggle\\\" ng-init=\\\"navCollapsed = true\\\" ng-click=\\\"navCollapsed = !navCollapsed\\\"><span class=\\\"sr-only\\\">Toggle navigation</span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span></button></div><div id=\\\"navbar\\\" class=\\\"navbar-collapse collapse\\\" collapse=\\\"navCollapsed\\\"><ul class=\\\"nav navbar-nav navbar-right\\\"><li><a ng-hide=\\\"vm.userAuthentication.isAuthenticated()\\\" ui-sref=\\\"registerPrivacy\\\">註冊</a></li><li><a ng-hide=\\\"vm.userAuthentication.isAuthenticated()\\\" ui-sref=\\\"login\\\">登入</a></li><li ng-show=\\\"vm.userAuthentication.isAuthenticated()\\\" uib-dropdown=\\\"\\\"><a uib-dropdown-toggle=\\\"\\\">專案<span class=\\\"caret\\\"></span></a><ul class=\\\"dropdown-menu\\\" uib-dropdown-menu=\\\"\\\" role=\\\"menu\\\"><li ng-if=\\\"vm.isManagerRole()\\\" role=\\\"menuitem\\\"><a ui-sref=\\\"createProject\\\">新增專案</a></li><li ng-if=\\\"vm.isManagerRole()\\\" role=\\\"menuitem\\\"><a ui-sref=\\\"managedProjectList\\\">我的專案</a></li><li ng-if=\\\"vm.isVolunteerRole()\\\"><a ui-sref=\\\"showAllProjects\\\">所有專案</a></li><li ng-if=\\\"vm.isVolunteerRole()\\\"><a ui-sref=\\\"attendingProjectList\\\">已參與的專案</a></li></ul></li><li ng-show=\\\"vm.userAuthentication.isAuthenticated()\\\" uib-dropdown=\\\"\\\"><a id=\\\"navbar-profile\\\" aria-labelledby=\\\"nav-profile-tempate-url\\\" uib-dropdown-toggle=\\\"\\\"><img src=\\\"{{ vm.getAvatarPath() }}\\\" class=\\\"img-circle\\\" width=\\\"20px\\\" height=\\\"20px\\\"> {{ vm.getLastName() }} <span class=\\\"caret\\\"></span></a><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"navbar-profile\\\"><li><a ui-sref=\\\"profile\\\">我的資料</a></li><li role=\\\"separator\\\" class=\\\"divider\\\"></li><li class=\\\"disabled\\\"><a>身份：{{ vm.getRole() | translate }}</a></li><li ng-if=\\\"vm.isManagerRole()\\\" role=\\\"menuitem\\\"><a ng-click=\\\"vm.switchToVolunteer()\\\">切換為志工</a></li><li ng-if=\\\"vm.isVolunteerRole()\\\"><a ng-click=\\\"vm.switchToManager()\\\">切換為專案管理員</a></li><li role=\\\"separator\\\" class=\\\"divider\\\"></li><li><a ng-click=\\\"vm.logout()\\\">登出</a></li></ul></li></ul></div></div></nav>\");\n$templateCache.put(\"app/components/projectHyperlinksDirective/projectHyperlinksDirective.html\",\"<div class=\\\"row\\\"><div class=\\\"form-group col-md-12 col-lg-12\\\" ng-repeat=\\\"hyperlink in vm.data\\\"><div class=\\\"row\\\"><div class=\\\"col-md-4 col-lg-4\\\">{{ hyperlink.name }}</div><div class=\\\"col-md-8 col-lg-8\\\"><span ng-bind-html=\\\"hyperlink.link | linky\\\"></span></div></div></div></div>\");\n$templateCache.put(\"app/components/vmsMessageDirective/vmsMessageDirective.html\",\"<uib-alert ng-repeat=\\\"alert in vm.data\\\" type=\\\"{{alert.type}}\\\" dismiss-on-timeout=\\\"alert.timeout\\\"><div ng-if=\\\"vm.isArray(alert.data)\\\" ng-repeat=\\\"data in alert.data\\\"><ul><li>{{ data.field | translate }}<ng-repeat ng-repeat=\\\"message in data.message\\\">{{ message | translate }}{{ $last ? \\'\\' : \\', \\' }}</ng-repeat></li></ul></div><div ng-if=\\\"!vm.isArray(alert.data)\\\"><ul ng-if=\\\"vm.isArray(alert.data.message)\\\"><ng-repeat ng-repeat=\\\"message in alert.data.message\\\"><li>{{ alert.data.field | translate }} {{ message | translate }}</li></ng-repeat></ul><p ng-if=\\\"!vm.isArray(alert.data.message)\\\">{{ alert.data.field | translate }} {{ alert.data.message | translate }}</p></div></uib-alert>\");\n$templateCache.put(\"app/user/resetPassword/resetPassword.html\",\"<div class=\\\"col-md-8 col-md-offset-2\\\"><h1 class=\\\"text-center\\\">重設密碼</h1></div><div id=\\\"main-content\\\" class=\\\"col-md-8 col-md-offset-2 top-line\\\"><vms-message data=\\\"vm.alert\\\"></vms-message><form name=\\\"resetPassword\\\" ng-if=\\\"vm.showResetForm\\\" class=\\\"form-horizontal\\\" ng-submit=\\\"vm.submit()\\\"><div class=\\\"form-group\\\"><label for=\\\"password\\\" class=\\\"col-sm-2 control-label\\\">密碼</label><div class=\\\"col-sm-10\\\"><input type=\\\"password\\\" ng-class=\\\"{\\'has-error\\':resetPassword.passwordConfirmation.$error.match}\\\" class=\\\"form-control\\\" id=\\\"password\\\" placeholder=\\\"密碼\\\" ng-model=\\\"vm.data.password\\\" minlength=\\\"6\\\" required=\\\"\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"password-confirmation\\\" class=\\\"col-sm-2 control-label\\\">確認密碼</label><div class=\\\"col-sm-10\\\"><input type=\\\"password\\\" name=\\\"passwordConfirmation\\\" ng-class=\\\"{\\'has-error\\':resetPassword.passwordConfirmation.$error.match}\\\" class=\\\"form-control\\\" id=\\\"password-confirmation\\\" placeholder=\\\"確認密碼\\\" ng-model=\\\"vm.data.passwordConfirmation\\\" match=\\\"vm.data.password\\\" minlength=\\\"6\\\" match-required=\\\"\\\"></div></div><div><div class=\\\"col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><p class=\\\"text-danger\\\" ng-show=\\\"resetPassword.passwordConfirmation.$error.match\\\">{{ \\'alert.danger.password_not_match\\' | translate }}</p></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-offset-2 col-sm-10\\\"><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">送出</button></div></div></form></div>\");\n$templateCache.put(\"app/user/forgotPassword/forgotPassword.html\",\"<div class=\\\"col-md-8 col-md-offset-2\\\"><h1 class=\\\"text-center\\\">忘記密碼</h1></div><div id=\\\"main-content\\\" class=\\\"col-md-8 col-md-offset-2 top-line\\\"><vms-message data=\\\"vm.alert\\\"></vms-message><form class=\\\"form-horizontal\\\" ng-submit=\\\"vm.submit()\\\"><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-2 control-label\\\">電子信箱</label><div class=\\\"col-sm-10\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"email\\\" placeholder=\\\"電子信箱\\\" ng-model=\\\"vm.data.email\\\" required=\\\"\\\"></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-offset-2 col-sm-10\\\"><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">送出</button></div></div></form></div>\");\n$templateCache.put(\"app/user/changePassword/changePassword.html\",\"<div class=\\\"row\\\"><vms-message data=\\\"vm.alert\\\"></vms-message><h2>{{ \\'change_password\\' | translate }}</h2><hr></div><form name=\\\"changePassword\\\" ng-submit=\\\"vm.submit()\\\"><div class=\\\"row-eq-height profile-section\\\"><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"first-name\\\" class=\\\"control-label col-md-2 col-lg-2\\\">原密碼</label><div class=\\\"col-md-8 col-lg-8\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"password\\\" placeholder=\\\"原密碼\\\" ng-model=\\\"vm.data.password\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"first-name\\\" class=\\\"control-label col-md-2 col-lg-2\\\">新密碼</label><div class=\\\"col-md-8 col-lg-8\\\"><input type=\\\"password\\\" name=\\\"newPassword\\\" ng-class=\\\"{\\'has-error\\':changePassword.newPasswordConfirmation.$error.match}\\\" class=\\\"form-control\\\" id=\\\"newPassword\\\" placeholder=\\\"新密碼\\\" ng-model=\\\"vm.data.newPassword\\\" required=\\\"\\\"></div></div></div><div class=\\\"form-group col-md-12 col-lg-12 col-sm-12 col-xs-12\\\"><div class=\\\"row\\\"><label for=\\\"first-name\\\" class=\\\"control-label col-md-2 col-lg-2\\\">確認新密碼</label><div class=\\\"col-md-8 col-lg-8\\\"><input type=\\\"password\\\" name=\\\"newPasswordConfirmation\\\" ng-class=\\\"{\\'has-error\\':changePassword.newPasswordConfirmation.$error.match}\\\" class=\\\"form-control\\\" id=\\\"newPasswordConfirmation\\\" placeholder=\\\"確認新密碼\\\" ng-model=\\\"vm.data.newPasswordConfirmation\\\" match=\\\"vm.data.newPassword\\\" minlenght=\\\"6\\\" required=\\\"\\\"></div><div class=\\\"col-md-8 col-lg-8 col-md-offset-2 col-lg-offset-2\\\"><p class=\\\"text-danger\\\" ng-show=\\\"changePassword.newPasswordConfirmation.$error.match\\\">{{ \\'alert.danger.password_not_match\\' | translate }}</p></div></div></div></div><div class=\\\"row profile-section\\\"><div class=\\\"col-md-2 col-md-offset-5\\\"><button class=\\\"btn btn-primary btn-lg\\\" type=\\\"submit\\\">送出</button></div><div class=\\\"col-md-5\\\"></div></div></form>\");\n$templateCache.put(\"app/components/customField/preview/customFieldPreview.html\",\"<div class=\\\"row\\\"><div class=\\\"col-md-12 col-lg-12\\\" ng-repeat=\\\"set in vm.data\\\"><fill-custom-field-type type=\\\"set.type\\\" title=\\\"set.name\\\" metadata=\\\"set.metadata\\\"></fill-custom-field-type></div></div>\");\n$templateCache.put(\"app/project/customField/fill/fillCustomFields.html\",\"<div class=\\\"col-xs-12 col-sm-10 col-sm-offset-1\\\"><h2>自訂欄位資料</h2></div><div id=\\\"main-content\\\" class=\\\"top-line col-xs-12 col-sm-10 col-sm-offset-1\\\"><div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" ng-show=\\\"vm.errorMsg\\\"><span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Error:</span> {{ vm.errorMsg }}</div><div class=\\\"alert alert-info\\\" role=\\\"alert\\\" ng-show=\\\"vm.msg\\\"><span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">訊息：</span> {{ vm.msg }}</div><form><div id=\\\"profile-basic\\\" class=\\\"profile-section row\\\"><div class=\\\"col-md-12 col-lg-12\\\" ng-repeat=\\\"set in vm.data\\\"><fill-custom-field-type type=\\\"set.type\\\" title=\\\"set.name\\\" field-data=\\\"set.custom_field_data.data\\\" metadata=\\\"set.metadata\\\"></fill-custom-field-type></div></div><div class=\\\"row profile-section\\\"><div class=\\\"col-md-2 col-md-offset-5\\\"><button class=\\\"btn btn-primary btn-lg\\\" ng-click=\\\"vm.update()\\\">送出</button></div><div class=\\\"col-md-5\\\"></div></div></form></div>\");\n$templateCache.put(\"app/project/customField/manage/manageProjectCustomField.html\",\"<span class=\\\"h2-inline\\\">自訂欄位管理</span> <span class=\\\"btn-group pull-right\\\" role=\\\"group\\\"><button class=\\\"btn btn-default\\\" ng-click=\\\"vm.appendCustomField()\\\"><span class=\\\"glyphicon glyphicon-plus\\\"></span> 新增欄位</button><button class=\\\"btn btn-default\\\" ng-click=\\\"vm.preview(vm.customFields)\\\"><span class=\\\"glyphicon glyphicon-eye-open\\\"></span> 瀏覽</button></span><hr><vms-message data=\\\"vm.alerts\\\"></vms-message><div id=\\\"poject-custom-fields-section\\\" ng-repeat=\\\"customField in vm.customFields\\\"><custom-field data=\\\"customField\\\"></custom-field></div><script type=\\\"text/ng-template\\\" id=\\\"customFieldPreview.html\\\"><div class=\\\"modal-header\\\"> <h3 class=\\\"modal-title\\\">瀏覽</h3> </div> <div class=\\\"modal-body\\\"> <custom-field-preview data=\\\"vm.data\\\"></custom-field-preview> </div></script>\");}]);"],"sourceRoot":"/source/"}